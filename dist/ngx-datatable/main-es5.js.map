{"version":3,"sources":["webpack:///projects/swimlane/ngx-datatable/src/lib/components/body/progress-bar.component.ts","webpack:///src/app/basic/basic-fixed.component.ts","webpack:///src/app/basic/contextmenu.component.ts","webpack:///projects/swimlane/ngx-datatable/src/lib/directives/long-press.directive.ts","webpack:///projects/swimlane/ngx-datatable/src/lib/utils/column-helper.ts","webpack:///projects/swimlane/ngx-datatable/src/lib/services/dimensions-helper.service.ts","webpack:///src/app/paging/scrolling-server.component.ts","webpack:///src/app/basic/dark-theme.component.ts","webpack:///projects/swimlane/ngx-datatable/src/lib/utils/sort.ts","webpack:///projects/swimlane/ngx-datatable/src/lib/types/selection.type.ts","webpack:///projects/swimlane/ngx-datatable/src/public-api.ts","webpack:///src/app/columns/column-force.component.ts","webpack:///src/app/selection/selection-chkbox-template.component.ts","webpack:///src/app/columns/column-reorder.component.ts","webpack:///projects/swimlane/ngx-datatable/src/lib/directives/draggable.directive.ts","webpack:///src/app/basic/row-grouping.component.ts","webpack:///src/app/selection/selection-single.component.ts","webpack:///src/app/templates/template-obj.component.ts","webpack:///projects/swimlane/ngx-datatable/src/lib/utils/camel-case.ts","webpack:///projects/swimlane/ngx-datatable/src/lib/components/body/body-group-header.directive.ts","webpack:///projects/swimlane/ngx-datatable/src/lib/services/scrollbar-helper.service.ts","webpack:///src/app/basic/footer.component.ts","webpack:///src/environments/environment.ts","webpack:///src/app/basic/dynamic-height.component.ts","webpack:///projects/swimlane/ngx-datatable/src/lib/components/body/body-row.component.ts","webpack:///projects/swimlane/ngx-datatable/src/lib/components/footer/pager.component.ts","webpack:///src/app/columns/pinning.component.ts","webpack:///projects/swimlane/ngx-datatable/src/lib/components/body/selection.component.ts","webpack:///src/app/summary/summary-row-inline-html.component.ts","webpack:///src/app/basic/tabs.component.ts","webpack:///src/app/basic/bootstrap.component.ts","webpack:///src/app/basic/filter.component.ts","webpack:///src/app/columns/column-flex.component.ts","webpack:///projects/swimlane/ngx-datatable/src/lib/components/datatable.component.html","webpack:///projects/swimlane/ngx-datatable/src/lib/components/datatable.component.ts","webpack:///src/app/basic/multiple.component.ts","webpack:///src/app/paging/paging-scrolling-novirtualization.component.ts","webpack:///src/app/selection/selection-chkbox.component.ts","webpack:///src/app/selection/selection-multi-click.component.ts","webpack:///src/app/basic/scrolling.component.ts","webpack:///src/app/paging/model/page.ts","webpack:///projects/swimlane/ngx-datatable/src/lib/components/body/body-cell.component.ts","webpack:///src/app/columns/column-toggle.component.ts","webpack:///projects/swimlane/ngx-datatable/src/lib/components/columns/tree.directive.ts","webpack:///src/app/selection/selection-cell.component.ts","webpack:///projects/swimlane/ngx-datatable/src/lib/components/body/summary/summary-row.component.ts","webpack:///projects/swimlane/ngx-datatable/src/lib/directives/visibility.directive.ts","webpack:///projects/swimlane/ngx-datatable/src/lib/components/footer/footer.component.ts","webpack:///src/app/paging/paging-server.component.ts","webpack:///projects/swimlane/ngx-datatable/src/lib/components/columns/column-header.directive.ts","webpack:///projects/swimlane/ngx-datatable/src/lib/components/header/header.component.ts","webpack:///src/app/basic/responsive.component.ts","webpack:///src/app/sorting/sorting-comparator.component.ts","webpack:///src/app/selection/selection-disabled.component.ts","webpack:///src/app/app.component.ts","webpack:///src/app/app.component.html","webpack:///projects/swimlane/ngx-datatable/src/lib/utils/prefixes.ts","webpack:///projects/swimlane/ngx-datatable/src/lib/components/row-detail/row-detail.directive.ts","webpack:///src/app/paging/model/paged-data.ts","webpack:///src/app/tree/fullscreen.component.ts","webpack:///src/app/tree/client-tree.component.ts","webpack:///projects/swimlane/ngx-datatable/src/lib/types/sort.type.ts","webpack:///projects/swimlane/ngx-datatable/src/lib/utils/column.ts","webpack:///src/app/selection/selection-multi.component.ts","webpack:///projects/swimlane/ngx-datatable/src/lib/components/columns/column-cell.directive.ts","webpack:///src/app/app.module.ts","webpack:///src/app/sorting/sorting-server.component.ts","webpack:///projects/swimlane/ngx-datatable/src/lib/types/click.type.ts","webpack:///projects/swimlane/ngx-datatable/src/lib/directives/orderable.directive.ts","webpack:///src/app/sorting/sorting-client.component.ts","webpack:///projects/swimlane/ngx-datatable/src/lib/components/header/header-cell.component.ts","webpack:///projects/swimlane/ngx-datatable/src/lib/components/body/body.component.ts","webpack:///src/app/basic/fullscreen.component.ts","webpack:///src/app/basic/css.component.ts","webpack:///src/app/basic/basic-auto.component.ts","webpack:///src/app/paging/model/corporate-employee.ts","webpack:///src/app/paging/paging-virtual.component.ts","webpack:///src/app/summary/summary-row-simple.component.ts","webpack:///src/app/paging/paging-client.component.ts","webpack:///src/app/basic/virtual.component.ts","webpack:///projects/swimlane/ngx-datatable/src/lib/types/sort-direction.type.ts","webpack:///src/app/templates/template-dom.component.ts","webpack:///projects/swimlane/ngx-datatable/src/lib/utils/tree.ts","webpack:///projects/swimlane/ngx-datatable/src/lib/components/body/body-group-header-template.directive.ts","webpack:///src/app/basic/row-detail.component.ts","webpack:///projects/swimlane/ngx-datatable/src/lib/components/columns/column.directive.ts","webpack:///src/app/sorting/sorting-default.component.ts","webpack:///projects/swimlane/ngx-datatable/src/lib/components/footer/footer.directive.ts","webpack:///src/app/basic/inline.component.ts","webpack:///projects/swimlane/ngx-datatable/src/lib/utils/selection.ts","webpack:///projects/swimlane/ngx-datatable/src/lib/utils/id.ts","webpack:///projects/swimlane/ngx-datatable/src/lib/utils/math.ts","webpack:///projects/swimlane/ngx-datatable/src/lib/utils/column-prop-getters.ts","webpack:///projects/swimlane/ngx-datatable/src/lib/utils/keys.ts","webpack:///src/app/columns/column-standard.component.ts","webpack:///src/app/summary/summary-row-custom-template.component.ts","webpack:///src/app/summary/summary-row-server-paging.component.ts","webpack:///projects/swimlane/ngx-datatable/src/lib/components/row-detail/row-detail-template.directive.ts","webpack:///projects/swimlane/ngx-datatable/src/lib/components/footer/footer-template.directive.ts","webpack:///projects/swimlane/ngx-datatable/src/lib/types/contextmenu.type.ts","webpack:///src/app/basic/rx.component.ts","webpack:///projects/swimlane/ngx-datatable/src/lib/ngx-datatable.module.ts","webpack:///src/app/basic/live.component.ts","webpack:///src/app/app-routing.module.ts","webpack:///projects/swimlane/ngx-datatable/src/lib/types/column-mode.type.ts","webpack:///projects/swimlane/ngx-datatable/src/lib/services/column-changes.service.ts","webpack:///projects/swimlane/ngx-datatable/src/lib/utils/row-height-cache.ts","webpack:///src/app/paging/mock-server-results-service.ts","webpack:///projects/swimlane/ngx-datatable/src/lib/utils/translate.ts","webpack:///projects/swimlane/ngx-datatable/src/lib/components/body/scroller.component.ts","webpack:///projects/swimlane/ngx-datatable/src/lib/utils/elm-from-point.ts","webpack:///projects/swimlane/ngx-datatable/src/lib/utils/throttle.ts","webpack:///projects/swimlane/ngx-datatable/src/lib/directives/resizeable.directive.ts","webpack:///projects/swimlane/ngx-datatable/src/lib/components/body/body-row-wrapper.component.ts","webpack:///src/main.ts","webpack:///$_lazy_route_resource lazy namespace object"],"names":["ProgressBarComponent","selector","template","changeDetection","OnPush","BasicFixedComponent","rows","columns","prop","name","ColumnMode","fetch","data","cb","req","XMLHttpRequest","open","onload","JSON","parse","response","send","ContextMenuDemoComponent","contextMenuEvent","console","log","rawEvent","event","type","contextmenuRow","content","contextmenuColumn","undefined","preventDefault","stopPropagation","onTableContextMenu","LongPressDirective","pressEnabled","duration","longPressStart","longPressing","longPressEnd","mouseX","mouseY","which","target","classList","contains","clientX","clientY","pressing","isLongPressing","mouseup","document","subscription","subscribe","ev","onMouseup","timeout","setTimeout","emit","model","pressModel","add","pipe","mouseEvent","onMouseMove","loop","xThres","Math","abs","yThres","endPress","clearTimeout","_destroySubscription","unsubscribe","press","isLongPress","onMouseDown","setColumnDefaults","treeColumnFound","column","$$id","isNullOrUndefined","$$valueGetter","String","hasOwnProperty","resizeable","sortable","draggable","canAutoResize","width","isTreeColumn","value","translateTemplates","templates","result","temp","col","props","Object","getOwnPropertyNames","headerTemplate","cellTemplate","summaryFunc","summaryTemplate","push","DimensionsHelper","element","getBoundingClientRect","companyData","PagedData","MockServerResultsService","offset","limit","slice","Date","now","d","ServerScrollingComponent","serverResultsService","el","headerHeight","rowHeight","pageLimit","onScroll","offsetY","viewHeight","nativeElement","height","isLoading","length","pageSize","ceil","max","loadPage","getResults","results","providers","styleUrls","DarkThemeComponent","loadingIndicator","reorderable","cells","summaryForGender","males","filter","cell","females","nextSortDir","sortType","current","single","asc","desc","orderByComparator","a","b","isNaN","parseFloat","isFinite","toLowerCase","sortRows","dirs","rowToIndexMap","Map","forEach","row","index","set","cols","reduce","obj","comparator","cachedDirs","map","dir","valueGetter","compareFn","sort","rowA","rowB","cachedDir","propA","propB","comparison","has","get","SelectionType","ColumnForceComponent","splice","CustomCheckboxSelectionComponent","selected","update","remove","onActivate","onSelect","ColumnReorderComponent","swapColumns","styles","DraggableDirective","dragX","dragY","dragStart","dragging","dragEnd","isDragging","changes","currentValue","dragModel","onMousedown","isDragElm","mouseDownPos","x","y","mouseMoveSub","move","style","left","top","dragEventTarget","RowGroupingComponent","funder","calculated","pending","groups","editing","group","rowIndex","groupStatus","expectedPaymentDealtWith","exppayyes","exppayno","exppaypending","checked","indexOf","source","startdate","enddate","rowFilter","numberOfExpPayYes","numberOfSourceFunder","numberOfSourceCalculated","numberOfSourceManual","groupstatus","table","groupHeader","toggleExpandGroup","onDetailToggle","SingleSelectionComponent","TemplateRefTemplatesComponent","editTmpl","hdrTpl","camelCase","str","replace","trim","c","toUpperCase","deCamelCase","match","DatatableGroupHeaderDirective","toggle","_templateInput","_templateQuery","read","ScrollbarHelper","getWidth","outer","createElement","visibility","msOverflowStyle","body","appendChild","widthNoScroll","offsetWidth","overflow","inner","widthWithScroll","parentNode","removeChild","FooterDemoComponent","environment","production","DynamicHeightComponent","expanded","floor","random","DataTableBodyRowComponent","differs","scrollbarHelper","cd","treeStatus","activate","treeAction","_groupStyles","center","right","_element","_rowDiffer","find","create","diff","markForCheck","colGroup","calcStylesByGroup","widths","_columnGroupWidths","offsetX","bodyWidth","parseInt","innerWidth","totalDiff","total","offsetDiff","cellIndex","rowElement","keyCode","isTargetRow","isAction","down","up","val","_columns","colsByPin","_columnsByPin","recalculateColumns","buildStylesByGroup","colByPin","_innerWidth","_offsetX","cls","isSelected","rowClass","res","keys","k","selectCheck","displayCheck","cssClass","columnsTotalWidths","onKeyDown","onMouseenter","DataTablePagerComponent","showLastPage","change","_count","_page","_size","page","totalPages","selectPage","pages","startPage","endPage","maxSize","isMaxSized","min","num","number","text","calcPages","count","size","prevPage","nextPage","host","pagerLeftArrowIcon","pagerRightArrowIcon","pagerPreviousIcon","pagerNextIcon","ColumnPinningComponent","DataTableSelectionComponent","select","selectEnabled","MouseEvent","composedPath","path","i","startsWith","chkbox","selectionType","checkbox","multi","multiClick","shiftKey","prevIndex","getRowSelectedIdx","bind","ctrlKey","metaKey","selectRow","onKeyboardFocus","shouldFocus","isCellSelection","cellElement","focusRow","focusCell","nextRowElement","getPrevNextRow","focus","parentElement","focusElement","previousElementSibling","nextElementSibling","children","nextCellElement","getElementsByClassName","rowId","rowIdentity","findIndex","r","id","SummaryRowInlineHtmlComponent","enableSummary","summaryPosition","fullName","split","filteredCells","sum","TabsDemoComponent","tab1","tab2","tab3","BootstrapThemeComponent","FilterBarComponent","updateFilter","ColumnFlexComponent","DatatableComponent","dimensionsHelper","columnChangesService","configuration","scrollbarV","scrollbarH","columnMode","standard","footerHeight","externalPaging","externalSorting","sorts","cssClasses","sortAscending","sortDescending","sortUnset","pagerLeftArrow","pagerRightArrow","pagerPrevious","pagerNext","messages","emptyMessage","totalMessage","selectedMessage","groupExpansionDefault","selectAllRowsOnPage","virtualization","summaryRow","summaryHeight","scroll","reorder","resize","tableContextmenu","rowCount","_offset","_subscriptions","_groupRowsBy","key","rowDiffer","recalculate","sortInternalRows","requestAnimationFrame","columnTemplates","v","translateColumns","listenForColumnInputChanges","arr","toArray","_internalColumns","originalArray","groupBy","item","addGroup","Array","from","_internalRows","treeFromRelation","treeToRelation","recalculatePages","recalculateDims","forceIdx","allowBleed","force","flex","dims","getDimensions","bodyHeight","calcPageSize","calcRowCount","next","detectChanges","bodyComponent","updateOffsetY","groupedRows","header","newValue","idx","$$oldWidth","prevValue","prevCol","movedCol","first","indexes","last","selectableRows","allSelected","_rows","columnInputChanges$","notifyOnChanges","groupArrayBy","_limit","_columnTemplates","allRowsSelected","rowsOnPage","onBodyPage","onRowContextmenu","onBodySelect","onBodyScroll","onTreeAction","templateUrl","encapsulation","None","targetMarkerTemplate","groupRowsBy","trackByProp","isFixedHeader","isFixedRow","isVertScroll","isVirtualized","isHorScroll","isSelectable","isCheckboxSelection","isSingleSelection","isMultiSelection","isMultiClickSelection","rowDetail","footer","headerComponent","onWindowResize","MultipleTablesComponent","columns1","columns2","rows1","gender","company","rows2","PagingScrollingNoVirtualizationComponent","pageNumber","setPage","pageInfo","pagedData","CheckboxSelectionComponent","MultiClickSelectionComponent","HorzVertScrolling","Page","totalElements","DataTableBodyCellComponent","isFocused","onCheckboxChangeFn","onCheckboxChange","activateFn","cellContext","checkValueUpdates","clear","userPipe","transform","sanitizedValue","stripHtml","isTargetCell","s","html","levelIndent","treeLevelIndent","level","_group","_rowHeight","_isSelected","_expanded","_rowIndex","_column","_row","_sorts","calcSortDir","status","_treeStatus","cellClass","sortDir","minWidth","maxWidth","columnCssClasses","onFocus","onBlur","onClick","onDblClick","ColumnToggleComponent","allColumns","isChecked","DataTableColumnCellTreeToggle","CellSelectionComponent","defaultSumFunc","cellsWithValues","some","noopSumFunc","DataTableSummaryRowComponent","updateInternalColumns","updateValues","cellsFromSingleColumn","sumFunc","getSummaryFunction","VisibilityDirective","zone","isVisible","visible","runCheck","run","check","offsetHeight","onVisibilityChange","runOutsideAngular","DataTableFooterComponent","selectedCount","footerTemplate","ServerPagingComponent","DataTableColumnHeaderDirective","columnContextmenu","DataTableHeaderComponent","_styleByGroup","destroyed","newIndex","getColumn","isTarget","targetMarkerContext","initialIndex","oldColumn","newColumn","concat","leftColumnCount","centerColumnCount","calcNewSorts","setStylesByGroup","_headerHeight","onColumnReordered","onTargetChanged","sortAscendingIcon","sortDescendingIcon","sortUnsetIcon","dealsWithGroup","headerWidth","ResponsiveComponent","toggleExpandRow","onPage","SortingComparatorComponent","companyComparator","MultiDisableSelectionComponent","AppComponent","location","version","state","provide","useClass","cache","testStyle","prefix","window","getComputedStyle","documentElement","prototype","call","join","pre","dom","RegExp","lowercase","css","js","substr","getVendorPrefixedName","property","DatatableRowDetailDirective","FullScreenTreeComponent","lastIndex","parentId","ClientTreeComponent","SortType","columnsByPin","ret","frozenLeft","frozenRight","columnGroupWidths","all","columnTotalWidth","totalWidth","columnsTotalWidth","columnsByPinArr","colsByPinArr","MultiSelectionComponent","DataTableColumnCellDirective","AppModule","forRoot","declarations","imports","bootstrap","ServerSortingComponent","loading","localeCompare","onSort","ClickType","OrderableDirective","targetChanged","differ","updateSubscriptions","draggables","diffs","createMapDiffs","previousValue","onDragStart","onDragging","onDragEnd","forEachAddedItem","forEachRemovedItem","positions","dragger","elm","offsetLeft","toString","prevPos","lastDraggingIndex","targets","elementsFromPoint","pos","acc","curr","descendants","ClientSortingComponent","DataTableHeaderCellComponent","sortFn","selectFn","$event","sortClass","calcSortClass","_allRowsSelected","headerClass","checkboxable","headerCheckboxable","onContextmenu","rowContextmenu","DataTableBodyComponent","detailToggle","rowHeightsCache","rowIndexes","WeakMap","rowExpansions","getDetailRowHeight","rowTrackingFn","getRowIndex","listener","toggleRowExpansion","toggleAllRows","updateIndexes","updateRows","setGroupHeaderListener","scroller","query","setOffset","scrollYPos","scrollXPos","updatePage","direction","maxRowsPerGroup","g","_idx","getRowAndDetailHeight","getRowHeight","getRowExpanded","position","clearCache","Set","initCache","detailRowHeight","externalVirtual","viewPortFirstRowIndex","offsetScroll","getAdjustedViewPortIndex","rowExpandedIdx","getRowExpandedIdx","isAllGroupCollapsed","currentIndex","recalcLayout","refreshRowHeightCache","_pageSize","_rowCount","_bodyHeight","setGroupHeader","FullScreenComponent","RowCssComponent","age","BasicAutoComponent","CorporateEmployee","VirtualPagingComponent","rowOffset","start","SummaryRowSimpleComponent","avgAge","onPositionSelectChange","ClientPagingComponent","VirtualScrollComponent","SortDirection","InlineTemplatesComponent","joke","optionalGetterForProp","groupRowsByParents","to","nodeById","l","node","TreeNode","uniqIDs","toValue","parent","fromValue","resolvedRows","flatten","f","recursive","child","apply","arguments","DatatableGroupHeaderTemplateDirective","RowDetailsComponent","DataTableColumnDirective","isFirstChange","onInputChange","_cellTemplateInput","_cellTemplateQuery","_headerTemplateInput","_headerTemplateQuery","_treeToggleTemplateInput","_treeToggleTemplateQuery","flexGrow","DefaultSortingComponent","DatatableFooterDirective","InlineEditComponent","selectRows","comparefn","selectedIndex","selectRowsBetween","reverse","greater","lesser","range","end","pow","getTotalFlexGrow","totalFlexGrow","adjustColumnWidths","expectedWidth","columnsWidth","colsByGroup","scaleColumns","attr","hasMinWidth","remainingWidth","widthPerFlexPoint","newWidth","forceFillColumnWidths","startIdx","defaultColWidth","columnsToResize","additionWidthPerColumn","exceedsWindow","contentWidth","getContentWidth","columnsProcessed","remainingWidthLimit","newSize","removeProcessedColumns","emptyStringGetter","getterForProp","numericIndexGetter","deepValueGetter","shallowValueGetter","fieldName","Keys","ColumnStandardComponent","SummaryRowCustomTemplateComponent","nameSummaryCell","SummaryRowServerPagingComponent","getGenderSummary","DatatableRowDetailTemplateDirective","DataTableFooterTemplateDirective","ContextmenuType","RxDemoComponent","subscriber","complete","NgxDatatableModule","ngModule","useValue","exports","LiveDataComponent","active","updated","updateRandom","rowNum","randomNum","cellNum","newRow","stop","mydatatable","routes","AppRoutingModule","relativeLinkResolution","ColumnChangesService","columnInputChanges","asObservable","RowHeightCache","treeArray","details","isFn","isDetailFn","Error","n","currentRowHeight","scrollY","calcRowIndex","atRowIndex","byRowHeight","atIndex","atIndexA","atIndexB","dataLength","highestBit","blockSize","nextPos","getPagedData","jsonObj","employee","backfaceVisibility","hasCSSTransforms","hasCSS3DTransforms","ua","navigator","userAgent","isSafari","test","translateXY","ScrollerComponent","ngZone","renderer","prevScrollYPos","prevScrollXPos","_scrollEventListener","onScrolled","addEventListener","removeEventListener","scrollTop","currentTarget","scrollLeft","updateOffset","scrollHeight","scrollWidth","elements","previousPointerEvents","elementFromPoint","getPropertyValue","priority","getPropertyPriority","setProperty","throttle","func","wait","options","context","args","previous","later","leading","remaining","trailing","throttleable","innerDecorator","descriptor","configurable","enumerable","getter","defineProperty","ResizeableDirective","resizeEnabled","resizing","renderer2","resizeHandle","addClass","destroyNode","closed","clientWidth","isHandle","initialWidth","mouseDownScreenX","screenX","e","movementX","overMinWidth","underMaxWidth","DataTableRowWrapperComponent","groupContext","rowContext","err","error","webpackEmptyAsyncContext","Promise","resolve","then","code","module"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;;UAaaA,oB;;;;;yBAAAA,oB;AAAoB,O;;;cAApBA,oB;AAAoB,2C;AAAA,gB;AAAA,e;AAAA,6F;AAAA;AAAA;AAR7B;;AACE;;AACE;;AACF;;AACF;;;;;;;;;wEAISA,oB,EAAoB;gBAXhC,uDAWgC;iBAXtB;AACTC,oBAAQ,EAAE,oBADD;AAETC,oBAAQ,gKAFC;AASTC,2BAAe,EAAE,sEAAwBC;AAThC,W;AAWsB,U;;;;;;;;;;;;;;;;;;ACbjC;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;;UA+BaC,mB;AAMX,uCAAc;AAAA;;AAAA;;AALd,eAAAC,IAAA,GAAO,EAAP;AACA,eAAAC,OAAA,GAAU,CAAC;AAAEC,gBAAI,EAAE;AAAR,WAAD,EAAmB;AAAEC,gBAAI,EAAE;AAAR,WAAnB,EAAwC;AAAEA,gBAAI,EAAE;AAAR,WAAxC,CAAV;AAEA,eAAAC,UAAA,GAAa,yFAAb;AAGE,eAAKC,KAAL,CAAW,UAAAC,IAAI,EAAI;AACjB,iBAAI,CAACN,IAAL,GAAYM,IAAZ;AACD,WAFD;AAGD;;;;gCAEKC,E,EAAI;AACR,gBAAMC,GAAG,GAAG,IAAIC,cAAJ,EAAZ;AACAD,eAAG,CAACE,IAAJ,CAAS,KAAT;;AAEAF,eAAG,CAACG,MAAJ,GAAa,YAAM;AACjBJ,gBAAE,CAACK,IAAI,CAACC,KAAL,CAAWL,GAAG,CAACM,QAAf,CAAD,CAAF;AACD,aAFD;;AAIAN,eAAG,CAACO,IAAJ;AACD;;;;;;;yBArBUhB,mB;AAAmB,O;;;cAAnBA,mB;AAAmB,yC;AAAA,gB;AAAA,e;AAAA,2P;AAAA;AAAA;AAzB5B;;AACE;;AACE;;AACA;;AACE;;AAIE;;AACF;;AACF;;AACF;;AACA;;AAUF;;;;AARI;;AAAA,uFAAa,SAAb,EAAa,WAAb,EAAa,YAAb,EAAa,oBAAb,EAAa,cAAb,EAAa,EAAb,EAAa,cAAb,EAAa,EAAb,EAAa,WAAb,EAAa,EAAb;;;;;;;;;wEAWKA,mB,EAAmB;gBA5B/B,uDA4B+B;iBA5BrB;AACTJ,oBAAQ,EAAE,kBADD;AAETC,oBAAQ;AAFC,W;AA4BqB,U;;;;;;;;;;;;;;;;;;;;AC/BhC;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;;;;AAuBQ;;AACE;;AAAQ;;AAAe;;AAAU;;AAAM;;AAA4C;;AACrF;;;;;;AADyC;;AAAA;;;;;;AAEzC;;AAA0B;;AAAQ;;AAAI;;AAAU;;AAA0B;;;;;;AAA1B;;AAAA;;;;;;AAChD;;AACE;;AAAQ;;AAAO;;AAAU;;AAC3B;;;;;;AAD2B;;AAAA,yJAAAO,IAAA;;;;UAiBtBa,wB;AAWX,4CAAc;AAAA;;AAAA;;AAVd,eAAAhB,IAAA,GAAO,EAAP;AAEA,eAAAC,OAAA,GAAU,CAAC;AAAEC,gBAAI,EAAE;AAAR,WAAD,EAAmB;AAAEC,gBAAI,EAAE;AAAR,WAAnB,EAAuC;AAAEA,gBAAI,EAAE;AAAR,WAAvC,CAAV;AAMA,eAAAC,UAAA,GAAa,yFAAb;AAGE,eAAKC,KAAL,CAAW,UAAAC,IAAI,EAAI;AACjB,kBAAI,CAACN,IAAL,GAAYM,IAAZ;AACD,WAFD;AAGD;;;;6CAEkBW,gB,EAAkB;AACnCC,mBAAO,CAACC,GAAR,CAAYF,gBAAZ;AAEA,iBAAKG,QAAL,GAAgBH,gBAAgB,CAACI,KAAjC;;AACA,gBAAIJ,gBAAgB,CAACK,IAAjB,KAA0B,MAA9B,EAAsC;AACpC,mBAAKC,cAAL,GAAsBN,gBAAgB,CAACO,OAAvC;AACA,mBAAKC,iBAAL,GAAyBC,SAAzB;AACD,aAHD,MAGO;AACL,mBAAKD,iBAAL,GAAyBR,gBAAgB,CAACO,OAA1C;AACA,mBAAKD,cAAL,GAAsBG,SAAtB;AACD;;AAEDT,4BAAgB,CAACI,KAAjB,CAAuBM,cAAvB;AACAV,4BAAgB,CAACI,KAAjB,CAAuBO,eAAvB;AACD;;;gCAEKrB,E,EAAI;AACR,gBAAMC,GAAG,GAAG,IAAIC,cAAJ,EAAZ;AACAD,eAAG,CAACE,IAAJ,CAAS,KAAT;;AAEAF,eAAG,CAACG,MAAJ,GAAa,YAAM;AACjBJ,gBAAE,CAACK,IAAI,CAACC,KAAL,CAAWL,GAAG,CAACM,QAAf,CAAD,CAAF;AACD,aAFD;;AAIAN,eAAG,CAACO,IAAJ;AACD;;;;;;;yBA1CUC,wB;AAAwB,O;;;cAAxBA,wB;AAAwB,yC;AAAA,iB;AAAA,e;AAAA,sS;AAAA;AAAA;AAvCjC;;AACE;;AACE;;AACA;;AACE;;AAIE;;AACF;;AACF;;AACF;;AACA;;AACE;;AACE;;AAAQ;;AAAK;;AAAU;;AACZ;;AAAM;;AAAW;;AAAQ;;AACtC;;AACA;;AAGA;;AACA;;AAGF;;AACA;;AAQE;AAAA,qBAAoB,IAAAa,kBAAA,QAApB;AAA8C,aAA9C;;AAEF;;AACF;;;;AAnBQ;;AAAA;;AAGA;;AAAA;;AACA;;AAAA;;AAMJ;;AAAA,uFAAa,SAAb,EAAa,WAAb,EAAa,YAAb,EAAa,oBAAb,EAAa,cAAb,EAAa,EAAb,EAAa,cAAb,EAAa,EAAb;;;;;;;;;wEAYKb,wB,EAAwB;gBA1CpC,uDA0CoC;iBA1C1B;AACTrB,oBAAQ,EAAE,kBADD;AAETC,oBAAQ;AAFC,W;AA0C0B,U;;;;;;;;;;;;;;;;;;;;AC7CrC;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;;UAMakC,kB;AADb;AAAA;;AAEW,eAAAC,YAAA,GAAwB,IAAxB;AAEA,eAAAC,QAAA,GAAmB,GAAnB;AAEC,eAAAC,cAAA,GAAoC,IAAI,0DAAJ,EAApC;AACA,eAAAC,YAAA,GAAkC,IAAI,0DAAJ,EAAlC;AACA,eAAAC,YAAA,GAAkC,IAAI,0DAAJ,EAAlC;AAKV,eAAAC,MAAA,GAAiB,CAAjB;AACA,eAAAC,MAAA,GAAiB,CAAjB;AAmGD;;;;sCApFahB,K,EAAiB;AAAA;;AAC3B;AACA,gBAAIA,KAAK,CAACiB,KAAN,KAAgB,CAAhB,IAAqB,CAAC,KAAKP,YAA/B,EAA6C,OAFlB,CAI3B;;AACA,gBAAMQ,MAAM,GAAgBlB,KAAK,CAACkB,MAAlC;AACA,gBAAIA,MAAM,CAACC,SAAP,CAAiBC,QAAjB,CAA0B,eAA1B,CAAJ,EAAgD;AAEhD,iBAAKL,MAAL,GAAcf,KAAK,CAACqB,OAApB;AACA,iBAAKL,MAAL,GAAchB,KAAK,CAACsB,OAApB;AAEA,iBAAKC,QAAL,GAAgB,IAAhB;AACA,iBAAKC,cAAL,GAAsB,KAAtB;AAEA,gBAAMC,OAAO,GAAG,uDAAUC,QAAV,EAAoB,SAApB,CAAhB;AACA,iBAAKC,YAAL,GAAoBF,OAAO,CAACG,SAAR,CAAkB,UAACC,EAAD;AAAA,qBAAoB,MAAI,CAACC,SAAL,EAApB;AAAA,aAAlB,CAApB;AAEA,iBAAKC,OAAL,GAAeC,UAAU,CAAC,YAAM;AAC9B,oBAAI,CAACR,cAAL,GAAsB,IAAtB;;AACA,oBAAI,CAACZ,cAAL,CAAoBqB,IAApB,CAAyB;AACvBjC,qBAAK,EAALA,KADuB;AAEvBkC,qBAAK,EAAE,MAAI,CAACC;AAFW,eAAzB;;AAKA,oBAAI,CAACR,YAAL,CAAkBS,GAAlB,CACE,uDAAUV,QAAV,EAAoB,WAApB,EACGW,IADH,CACQ,iEAAUZ,OAAV,CADR,EAEGG,SAFH,CAEa,UAACU,UAAD;AAAA,uBAA4B,MAAI,CAACC,WAAL,CAAiBD,UAAjB,CAA5B;AAAA,eAFb,CADF;;AAMA,oBAAI,CAACE,IAAL,CAAUxC,KAAV;AACD,aAdwB,EActB,KAAKW,QAdiB,CAAzB;AAgBA,iBAAK6B,IAAL,CAAUxC,KAAV;AACD;;;sCAEWA,K,EAAiB;AAC3B,gBAAI,KAAKuB,QAAL,IAAiB,CAAC,KAAKC,cAA3B,EAA2C;AACzC,kBAAMiB,MAAM,GAAGC,IAAI,CAACC,GAAL,CAAS3C,KAAK,CAACqB,OAAN,GAAgB,KAAKN,MAA9B,IAAwC,EAAvD;AACA,kBAAM6B,MAAM,GAAGF,IAAI,CAACC,GAAL,CAAS3C,KAAK,CAACsB,OAAN,GAAgB,KAAKN,MAA9B,IAAwC,EAAvD;;AAEA,kBAAIyB,MAAM,IAAIG,MAAd,EAAsB;AACpB,qBAAKC,QAAL;AACD;AACF;AACF;;;+BAEI7C,K,EAAiB;AAAA;;AACpB,gBAAI,KAAKwB,cAAT,EAAyB;AACvB,mBAAKO,OAAL,GAAeC,UAAU,CAAC,YAAM;AAC9B,sBAAI,CAACnB,YAAL,CAAkBoB,IAAlB,CAAuB;AACrBjC,uBAAK,EAALA,KADqB;AAErBkC,uBAAK,EAAE,MAAI,CAACC;AAFS,iBAAvB;;AAIA,sBAAI,CAACK,IAAL,CAAUxC,KAAV;AACD,eANwB,EAMtB,EANsB,CAAzB;AAOD;AACF;;;qCAEO;AACN8C,wBAAY,CAAC,KAAKf,OAAN,CAAZ;AACA,iBAAKP,cAAL,GAAsB,KAAtB;AACA,iBAAKD,QAAL,GAAgB,KAAhB;;AACA,iBAAKwB,oBAAL;;AAEA,iBAAKjC,YAAL,CAAkBmB,IAAlB,CAAuB;AACrBC,mBAAK,EAAE,KAAKC;AADS,aAAvB;AAGD;;;sCAEQ;AACP,iBAAKU,QAAL;AACD;;;wCAEU;AACT,iBAAKE,oBAAL;AACD;;;iDAE2B;AAC1B,gBAAI,KAAKpB,YAAT,EAAuB;AACrB,mBAAKA,YAAL,CAAkBqB,WAAlB;AACA,mBAAKrB,YAAL,GAAoBtB,SAApB;AACD;AACF;;;8BA7FQ;AACP,mBAAO,KAAKkB,QAAZ;AACD;;;8BAGc;AACb,mBAAO,KAAKC,cAAZ;AACD;;;;;;;yBAzBUf,kB;AAAkB,O;;;cAAlBA,kB;AAAkB,2C;AAAA,mB;AAAA;AAAA;;qBAAlB,uB;AAAmB,a;;;;;;;;;;;;;;;;;;;;;wEAAnBA,kB,EAAkB;gBAD9B,uDAC8B;iBADpB;AAAEnC,oBAAQ,EAAE;AAAZ,W;AACoB,U;AACpBoC,sBAAY,EAAE,CAAF;kBAApB;AAAoB,WAAE,C;AACdyB,oBAAU,EAAE,CAAF;kBAAlB;AAAkB,WAAE,C;AACZxB,kBAAQ,EAAE,CAAF;kBAAhB;AAAgB,WAAE,C;AAETC,wBAAc,EAAE,CAAF;kBAAvB;AAAuB,WAAE,C;AAChBC,sBAAY,EAAE,CAAF;kBAArB;AAAqB,WAAE,C;AACdC,sBAAY,EAAE,CAAF;kBAArB;AAAqB,WAAE,C;AAWpBmC,eAAK;kBADR,yDACQ;mBADI,a;AACJ,Y;AAKLC,qBAAW;kBADd,yDACc;mBADF,iB;AACE,Y;AAKfC,qBAAW;kBADV,0DACU;mBADG,W,EAAa,CAAC,QAAD,C;AAChB;;;;;;;;;;;;;;;;;;;AClCb;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAMA;;;;;AAGO,eAASC,iBAAT,CAA2BxE,OAA3B,EAAmD;AACxD,YAAI,CAACA,OAAL,EAAc,OAD0C,CAGxD;AACA;AACA;;AACA,YAAIyE,eAAe,GAAY,KAA/B;;AANwD,mDAQnCzE,OARmC;AAAA;;AAAA;AAQxD,8DAA8B;AAAA,gBAAnB0E,MAAmB;;AAC5B,gBAAI,CAACA,MAAM,CAACC,IAAZ,EAAkB;AAChBD,oBAAM,CAACC,IAAP,GAAc,gDAAd;AACD,aAH2B,CAK5B;AACA;;;AACA,gBAAIC,iBAAiB,CAACF,MAAM,CAACzE,IAAR,CAAjB,IAAkCyE,MAAM,CAACxE,IAA7C,EAAmD;AACjDwE,oBAAM,CAACzE,IAAP,GAAc,8DAAUyE,MAAM,CAACxE,IAAjB,CAAd;AACD;;AAED,gBAAI,CAACwE,MAAM,CAACG,aAAZ,EAA2B;AACzBH,oBAAM,CAACG,aAAP,GAAuB,2EAAcH,MAAM,CAACzE,IAArB,CAAvB;AACD,aAb2B,CAe5B;;;AACA,gBAAI,CAAC2E,iBAAiB,CAACF,MAAM,CAACzE,IAAR,CAAlB,IAAmC2E,iBAAiB,CAACF,MAAM,CAACxE,IAAR,CAAxD,EAAuE;AACrEwE,oBAAM,CAACxE,IAAP,GAAc,gEAAY4E,MAAM,CAACJ,MAAM,CAACzE,IAAR,CAAlB,CAAd;AACD;;AAED,gBAAI2E,iBAAiB,CAACF,MAAM,CAACzE,IAAR,CAAjB,IAAkC2E,iBAAiB,CAACF,MAAM,CAACxE,IAAR,CAAvD,EAAsE;AACpEwE,oBAAM,CAACxE,IAAP,GAAc,EAAd,CADoE,CAClD;AACnB;;AAED,gBAAI,CAACwE,MAAM,CAACK,cAAP,CAAsB,YAAtB,CAAL,EAA0C;AACxCL,oBAAM,CAACM,UAAP,GAAoB,IAApB;AACD;;AAED,gBAAI,CAACN,MAAM,CAACK,cAAP,CAAsB,UAAtB,CAAL,EAAwC;AACtCL,oBAAM,CAACO,QAAP,GAAkB,IAAlB;AACD;;AAED,gBAAI,CAACP,MAAM,CAACK,cAAP,CAAsB,WAAtB,CAAL,EAAyC;AACvCL,oBAAM,CAACQ,SAAP,GAAmB,IAAnB;AACD;;AAED,gBAAI,CAACR,MAAM,CAACK,cAAP,CAAsB,eAAtB,CAAL,EAA6C;AAC3CL,oBAAM,CAACS,aAAP,GAAuB,IAAvB;AACD;;AAED,gBAAI,CAACT,MAAM,CAACK,cAAP,CAAsB,OAAtB,CAAL,EAAqC;AACnCL,oBAAM,CAACU,KAAP,GAAe,GAAf;AACD;;AAED,gBAAI,CAACV,MAAM,CAACK,cAAP,CAAsB,cAAtB,CAAL,EAA4C;AAC1CL,oBAAM,CAACW,YAAP,GAAsB,KAAtB;AACD,aAFD,MAEO;AACL,kBAAIX,MAAM,CAACW,YAAP,IAAuB,CAACZ,eAA5B,EAA6C;AAC3C;AACA;AACAA,+BAAe,GAAG,IAAlB;AACD,eAJD,MAIO;AACL;AACA;AACAC,sBAAM,CAACW,YAAP,GAAsB,KAAtB;AACD;AACF;AACF;AAjEuD;AAAA;AAAA;AAAA;AAAA;AAkEzD;;AAEM,eAAST,iBAAT,CAA8BU,KAA9B,EAAyD;AAC9D,eAAOA,KAAK,KAAK,IAAV,IAAkBA,KAAK,KAAK7D,SAAnC;AACD;AAED;;;;;AAGO,eAAS8D,kBAAT,CAA4BC,SAA5B,EAAiE;AACtE,YAAMC,MAAM,GAAU,EAAtB;;AADsE,oDAEnDD,SAFmD;AAAA;;AAAA;AAEtE,iEAA8B;AAAA,gBAAnBE,IAAmB;AAC5B,gBAAMC,GAAG,GAAQ,EAAjB;AAEA,gBAAMC,KAAK,GAAGC,MAAM,CAACC,mBAAP,CAA2BJ,IAA3B,CAAd;;AAH4B,wDAITE,KAJS;AAAA;;AAAA;AAI5B,qEAA0B;AAAA,oBAAf3F,IAAe;AACxB0F,mBAAG,CAAC1F,IAAD,CAAH,GAAYyF,IAAI,CAACzF,IAAD,CAAhB;AACD;AAN2B;AAAA;AAAA;AAAA;AAAA;;AAQ5B,gBAAIyF,IAAI,CAACK,cAAT,EAAyB;AACvBJ,iBAAG,CAACI,cAAJ,GAAqBL,IAAI,CAACK,cAA1B;AACD;;AAED,gBAAIL,IAAI,CAACM,YAAT,EAAuB;AACrBL,iBAAG,CAACK,YAAJ,GAAmBN,IAAI,CAACM,YAAxB;AACD;;AAED,gBAAIN,IAAI,CAACO,WAAT,EAAsB;AACpBN,iBAAG,CAACM,WAAJ,GAAkBP,IAAI,CAACO,WAAvB;AACD;;AAED,gBAAIP,IAAI,CAACQ,eAAT,EAA0B;AACxBP,iBAAG,CAACO,eAAJ,GAAsBR,IAAI,CAACQ,eAA3B;AACD;;AAEDT,kBAAM,CAACU,IAAP,CAAYR,GAAZ;AACD;AA3BqE;AAAA;AAAA;AAAA;AAAA;;AA6BtE,eAAOF,MAAP;AACD;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AClHD;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAEA;;;;;;UAKaW,gB;;;;;;;wCACGC,O,EAAgB;AAC5B,mBAAOA,OAAO,CAACC,qBAAR,EAAP;AACD;;;;;;;yBAHUF,gB;AAAgB,O;;;eAAhBA,gB;AAAgB,iBAAhBA,gBAAgB;;;;;wEAAhBA,gB,EAAgB;gBAD5B;AAC4B,U;;;;;;;;;;;;;;;;;;ACP7B;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;;;;;;;;;;;;;;;;;;;;;;;;AAOA,UAAMG,WAAW,GAAG,yDAApB;;UAEMC,S;;;AAIN;;;;;UAIaC,wB;;;;;;;qCACOC,M,EAAgBC,K,EAAa;AAC7C,mBAAO,gDAAGJ,WAAW,CAACK,KAAZ,CAAkBF,MAAlB,EAA0BA,MAAM,GAAGC,KAAnC,CAAH,EAA8ClD,IAA9C,CACL,6DAAM,IAAIoD,IAAJ,CAASA,IAAI,CAACC,GAAL,KAAa,GAAtB,CAAN,CADK,EAEL,2DAAI,UAAAC,CAAC;AAAA,qBAAK;AAAE1G,oBAAI,EAAE0G;AAAR,eAAL;AAAA,aAAL,CAFK,CAAP;AAID;;;;;;;yBANUN,wB;AAAwB,O;;;eAAxBA,wB;AAAwB,iBAAxBA,wBAAwB;;;;;wEAAxBA,wB,EAAwB;gBADpC;AACoC,U;;;UAwCxBO,wB;AAUX,0CAAoBC,oBAApB,EAA4EC,EAA5E,EAA4F;AAAA;;AAAxE,eAAAD,oBAAA,GAAAA,oBAAA;AAAwD,eAAAC,EAAA,GAAAA,EAAA;AATnE,eAAAC,YAAA,GAAe,EAAf;AACA,eAAAC,SAAA,GAAY,EAAZ;AACA,eAAAC,SAAA,GAAY,EAAZ;AAET,eAAAtH,IAAA,GAA4B,EAA5B;AAGA,eAAAI,UAAA,GAAa,yFAAb;AAE8F;;;;qCAEnF;AACT,iBAAKmH,QAAL,CAAc,CAAd;AACD;;;mCAEQC,O,EAAiB;AACxB;AACA,gBAAMC,UAAU,GAAG,KAAKN,EAAL,CAAQO,aAAR,CAAsBnB,qBAAtB,GAA8CoB,MAA9C,GAAuD,KAAKP,YAA/E,CAFwB,CAIxB;;AACA,gBAAI,CAAC,KAAKQ,SAAN,IAAmBJ,OAAO,GAAGC,UAAV,IAAwB,KAAKzH,IAAL,CAAU6H,MAAV,GAAmB,KAAKR,SAAvE,EAAkF;AAChF;AACA,kBAAIT,KAAK,GAAG,KAAKU,SAAjB,CAFgF,CAIhF;;AACA,kBAAI,KAAKtH,IAAL,CAAU6H,MAAV,KAAqB,CAAzB,EAA4B;AAC1B;AACA,oBAAMC,QAAQ,GAAG/D,IAAI,CAACgE,IAAL,CAAUN,UAAU,GAAG,KAAKJ,SAA5B,CAAjB,CAF0B,CAI1B;AACA;;AACAT,qBAAK,GAAG7C,IAAI,CAACiE,GAAL,CAASF,QAAT,EAAmB,KAAKR,SAAxB,CAAR;AACD;;AACD,mBAAKW,QAAL,CAAcrB,KAAd;AACD;AACF;;;mCAEgBA,K,EAAe;AAAA;;AAC9B;AACA;AACA;AACA,iBAAKgB,SAAL,GAAiB,IAAjB;AAEA,iBAAKV,oBAAL,CAA0BgB,UAA1B,CAAqC,KAAKlI,IAAL,CAAU6H,MAA/C,EAAuDjB,KAAvD,EAA8D3D,SAA9D,CAAwE,UAAAkF,OAAO,EAAI;AACjF,kBAAMnI,IAAI,gCAAO,MAAI,CAACA,IAAZ,sBAAqBmI,OAAO,CAAC7H,IAA7B,EAAV;AACA,oBAAI,CAACN,IAAL,GAAYA,IAAZ;AACA,oBAAI,CAAC4H,SAAL,GAAiB,KAAjB;AACD,aAJD;AAKD;;;;;;;yBAjDUX,wB,EAAwB,gEAUOP,wBAVP,C,EAU+B,yH;AAAA,O;;;cAVvDO,wB;AAAwB,8C;AAAA,oFA7BxB,CAACP,wBAAD,CA6BwB,E;AA7BE,gB;AAAA,gB;AAAA,2S;AAAA;AAAA;AAEnC;;AACE;;AACE;;AACA;;AACE;;AAIE;;AACF;;AACF;;AACF;;AACA;;AASE;AAAA,qBAAU,IAAAa,QAAA,gBAAV;AAAkC,aAAlC;;AACD;;AACH;;;;AATI;;AAAA,uFAAa,SAAb,EAAa,2RAAb,EAAa,YAAb,EAAa,oBAAb,EAAa,cAAb,EAAa,gBAAb,EAAa,WAAb,EAAa,aAAb,EAAa,kBAAb,EAAa,aAAb,EAAa,YAAb,EAAa,IAAb;;;;;;;;;wEAaKN,wB,EAAwB;gBA/BpC,uDA+BoC;iBA/B1B;AACTtH,oBAAQ,EAAE,uBADD;AAETyI,qBAAS,EAAE,CAAC1B,wBAAD,CAFF;AAGT9G,oBAAQ,6wBAHC;AA6BTyI,qBAAS,EAAE,CAAC,kCAAD;AA7BF,W;AA+B0B,U;;kBAUO3B;aAAwB;AAAA;AAAA,W;AAAA,S,EAAA,I;AAAA,O;;;;;;;;;;;;;;;;;ACnEpE;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;;UAmCa4B,kB;AAaX,sCAAc;AAAA;;AAAA;;AAZd,eAAAtI,IAAA,GAAO,EAAP;AACA,eAAAuI,gBAAA,GAAmB,IAAnB;AACA,eAAAC,WAAA,GAAc,IAAd;AAEA,eAAAvI,OAAA,GAAU,CACR;AAAEC,gBAAI,EAAE,MAAR;AAAgBgG,uBAAW,EAAE;AAAA,qBAAM,IAAN;AAAA;AAA7B,WADQ,EAER;AAAE/F,gBAAI,EAAE,QAAR;AAAkB+F,uBAAW,EAAE,qBAAAuC,KAAK;AAAA,qBAAI,MAAI,CAACC,gBAAL,CAAsBD,KAAtB,CAAJ;AAAA;AAApC,WAFQ,EAGR;AAAEtI,gBAAI,EAAE,SAAR;AAAmB+F,uBAAW,EAAE;AAAA,qBAAM,IAAN;AAAA;AAAhC,WAHQ,CAAV;AAMA,eAAA9F,UAAA,GAAa,yFAAb;AAGE,eAAKC,KAAL,CAAW,UAAAC,IAAI,EAAI;AACjB,kBAAI,CAACN,IAAL,GAAYM,IAAZ;AACA+C,sBAAU,CAAC,YAAM;AACf,oBAAI,CAACkF,gBAAL,GAAwB,KAAxB;AACD,aAFS,EAEP,IAFO,CAAV;AAGD,WALD;AAMD;;;;gCAEKhI,E,EAAI;AACR,gBAAMC,GAAG,GAAG,IAAIC,cAAJ,EAAZ;AACAD,eAAG,CAACE,IAAJ,CAAS,KAAT;;AAEAF,eAAG,CAACG,MAAJ,GAAa,YAAM;AACjBJ,gBAAE,CAACK,IAAI,CAACC,KAAL,CAAWL,GAAG,CAACM,QAAf,CAAD,CAAF;AACD,aAFD;;AAIAN,eAAG,CAACO,IAAJ;AACD;;;2CAEwB0H,K,EAAiB;AACxC,gBAAME,KAAK,GAAGF,KAAK,CAACG,MAAN,CAAa,UAAAC,IAAI;AAAA,qBAAIA,IAAI,KAAK,MAAb;AAAA,aAAjB,EAAsChB,MAApD;AACA,gBAAMiB,OAAO,GAAGL,KAAK,CAACG,MAAN,CAAa,UAAAC,IAAI;AAAA,qBAAIA,IAAI,KAAK,QAAb;AAAA,aAAjB,EAAwChB,MAAxD;AAEA,oCAAiBc,KAAjB,wBAAoCG,OAApC;AACD;;;;;;;yBAtCUR,kB;AAAkB,O;;;cAAlBA,kB;AAAkB,8C;AAAA,gB;AAAA,e;AAAA,6S;AAAA;AAAA;AA7B3B;;AACE;;AACE;;AACA;;AACE;;AAIE;;AACF;;AACF;;AACF;;AACA;;AAcF;;;;AAZI;;AAAA,uFAAa,kBAAb,EAAa,oBAAb,EAAa,SAAb,EAAa,WAAb,EAAa,YAAb,EAAa,oBAAb,EAAa,cAAb,EAAa,EAAb,EAAa,YAAb,EAAa,IAAb,EAAa,cAAb,EAAa,EAAb,EAAa,OAAb,EAAa,EAAb,EAAa,aAAb,EAAa,eAAb;;;;;;;;;wEAeKA,kB,EAAkB;gBAhC9B,uDAgC8B;iBAhCpB;AACT3I,oBAAQ,EAAE,uBADD;AAETC,oBAAQ;AAFC,W;AAgCoB,U;;;;;;;;;;;;;;;;;;;;ACnC/B;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAIA;;;;;AAGO,eAASmJ,WAAT,CAAqBC,QAArB,EAAyCC,OAAzC,EAA+D;AACpE,YAAID,QAAQ,KAAK,0DAASE,MAA1B,EAAkC;AAChC,cAAID,OAAO,KAAK,yEAAcE,GAA9B,EAAmC;AACjC,mBAAO,yEAAcC,IAArB;AACD,WAFD,MAEO;AACL,mBAAO,yEAAcD,GAArB;AACD;AACF,SAND,MAMO;AACL,cAAI,CAACF,OAAL,EAAc;AACZ,mBAAO,yEAAcE,GAArB;AACD,WAFD,MAEO,IAAIF,OAAO,KAAK,yEAAcE,GAA9B,EAAmC;AACxC,mBAAO,yEAAcC,IAArB;AACD,WAFM,MAEA,IAAIH,OAAO,KAAK,yEAAcG,IAA9B,EAAoC;AACzC,mBAAO1H,SAAP;AACD,WAPI,CAQL;;;AACA,iBAAOA,SAAP;AACD;AACF;AAED;;;;;;AAIO,eAAS2H,iBAAT,CAA2BC,CAA3B,EAAmCC,CAAnC,EAAyC;AAC9C,YAAID,CAAC,KAAK,IAAN,IAAc,OAAOA,CAAP,KAAa,WAA/B,EAA4CA,CAAC,GAAG,CAAJ;AAC5C,YAAIC,CAAC,KAAK,IAAN,IAAc,OAAOA,CAAP,KAAa,WAA/B,EAA4CA,CAAC,GAAG,CAAJ;;AAC5C,YAAID,CAAC,YAAYxC,IAAb,IAAqByC,CAAC,YAAYzC,IAAtC,EAA4C;AAC1C,cAAIwC,CAAC,GAAGC,CAAR,EAAW,OAAO,CAAC,CAAR;AACX,cAAID,CAAC,GAAGC,CAAR,EAAW,OAAO,CAAP;AACZ,SAHD,MAGO,IAAIC,KAAK,CAACC,UAAU,CAACH,CAAD,CAAX,CAAL,IAAwB,CAACI,QAAQ,CAACJ,CAAD,CAAjC,IAAwCE,KAAK,CAACC,UAAU,CAACF,CAAD,CAAX,CAA7C,IAAgE,CAACG,QAAQ,CAACH,CAAD,CAA7E,EAAkF;AACvF;AACAD,WAAC,GAAGvE,MAAM,CAACuE,CAAD,CAAV;AACAC,WAAC,GAAGxE,MAAM,CAACwE,CAAD,CAAV,CAHuF,CAIvF;;AACA,cAAID,CAAC,CAACK,WAAF,KAAkBJ,CAAC,CAACI,WAAF,EAAtB,EAAuC,OAAO,CAAC,CAAR;AACvC,cAAIL,CAAC,CAACK,WAAF,KAAkBJ,CAAC,CAACI,WAAF,EAAtB,EAAuC,OAAO,CAAP;AACxC,SAPM,MAOA;AACL;AACA,cAAIF,UAAU,CAACH,CAAD,CAAV,GAAgBG,UAAU,CAACF,CAAD,CAA9B,EAAmC,OAAO,CAAC,CAAR;AACnC,cAAIE,UAAU,CAACH,CAAD,CAAV,GAAgBG,UAAU,CAACF,CAAD,CAA9B,EAAmC,OAAO,CAAP;AACpC,SAjB6C,CAmB9C;;;AACA,eAAO,CAAP;AACD;AAED;;;;;;AAIO,eAASK,QAAT,CAAkB5J,IAAlB,EAA+BC,OAA/B,EAA+C4J,IAA/C,EAAkE;AACvE,YAAI,CAAC7J,IAAL,EAAW,OAAO,EAAP;AACX,YAAI,CAAC6J,IAAD,IAAS,CAACA,IAAI,CAAChC,MAAf,IAAyB,CAAC5H,OAA9B,EAAuC,0BAAWD,IAAX;AAEvC;;;;;AAIA,YAAM8J,aAAa,GAAG,IAAIC,GAAJ,EAAtB;AACA/J,YAAI,CAACgK,OAAL,CAAa,UAACC,GAAD,EAAMC,KAAN;AAAA,iBAAgBJ,aAAa,CAACK,GAAd,CAAkBF,GAAlB,EAAuBC,KAAvB,CAAhB;AAAA,SAAb;;AAEA,YAAMvE,IAAI,sBAAO3F,IAAP,CAAV;;AACA,YAAMoK,IAAI,GAAGnK,OAAO,CAACoK,MAAR,CAAe,UAACC,GAAD,EAAM1E,GAAN,EAAc;AACxC,cAAIA,GAAG,CAAC2E,UAAJ,IAAkB,OAAO3E,GAAG,CAAC2E,UAAX,KAA0B,UAAhD,EAA4D;AAC1DD,eAAG,CAAC1E,GAAG,CAAC1F,IAAL,CAAH,GAAgB0F,GAAG,CAAC2E,UAApB;AACD;;AACD,iBAAOD,GAAP;AACD,SALY,EAKV,EALU,CAAb,CAZuE,CAmBvE;AACA;;AACA,YAAME,UAAU,GAAGX,IAAI,CAACY,GAAL,CAAS,UAAAC,GAAG,EAAI;AACjC,cAAMxK,IAAI,GAAGwK,GAAG,CAACxK,IAAjB;AACA,iBAAO;AACLA,gBAAI,EAAJA,IADK;AAELwK,eAAG,EAAEA,GAAG,CAACA,GAFJ;AAGLC,uBAAW,EAAE,2EAAczK,IAAd,CAHR;AAIL0K,qBAAS,EAAER,IAAI,CAAClK,IAAD,CAAJ,IAAcmJ;AAJpB,WAAP;AAMD,SARkB,CAAnB;AAUA,eAAO1D,IAAI,CAACkF,IAAL,CAAU,UAAUC,IAAV,EAAqBC,IAArB,EAAgC;AAAA,sDACvBP,UADuB;AAAA;;AAAA;AAC/C,mEAAoC;AAAA,kBAAzBQ,SAAyB;AAClC;AADkC,kBAE1B9K,IAF0B,GAEJ8K,SAFI,CAE1B9K,IAF0B;AAAA,kBAEpByK,WAFoB,GAEJK,SAFI,CAEpBL,WAFoB,EAGlC;;AACA,kBAAMM,KAAK,GAAGN,WAAW,CAACG,IAAD,EAAO5K,IAAP,CAAzB;AACA,kBAAMgL,KAAK,GAAGP,WAAW,CAACI,IAAD,EAAO7K,IAAP,CAAzB,CALkC,CAOlC;AACA;AACA;AACA;AACA;AACA;AACA;;AACA,kBAAMiL,UAAU,GACdH,SAAS,CAACN,GAAV,KAAkB,yEAActB,IAAhC,GACI4B,SAAS,CAACJ,SAAV,CAAoBK,KAApB,EAA2BC,KAA3B,EAAkCJ,IAAlC,EAAwCC,IAAxC,EAA8CC,SAAS,CAACN,GAAxD,CADJ,GAEI,CAACM,SAAS,CAACJ,SAAV,CAAoBK,KAApB,EAA2BC,KAA3B,EAAkCJ,IAAlC,EAAwCC,IAAxC,EAA8CC,SAAS,CAACN,GAAxD,CAHP,CAdkC,CAmBlC;;AACA,kBAAIS,UAAU,KAAK,CAAnB,EAAsB,OAAOA,UAAP;AACvB;AAtB8C;AAAA;AAAA;AAAA;AAAA;;AAwB/C,cAAI,EAAErB,aAAa,CAACsB,GAAd,CAAkBN,IAAlB,KAA2BhB,aAAa,CAACsB,GAAd,CAAkBL,IAAlB,CAA7B,CAAJ,EAA2D,OAAO,CAAP;AAE3D;;;;AAGA,iBAAOjB,aAAa,CAACuB,GAAd,CAAkBP,IAAlB,IAA0BhB,aAAa,CAACuB,GAAd,CAAkBN,IAAlB,CAA1B,GAAoD,CAAC,CAArD,GAAyD,CAAhE;AACD,SA9BM,CAAP;AA+BD;;;;;;;;;;;;;;;;;ACxHD;AAAA;;;AAAA;AAAA;AAAA;;AAAA,UAAYO,aAAZ;;AAAA,iBAAYA,aAAZ,EAAyB;AACvB;AACA;AACA;AACA;AACA;AACD,OAND,EAAYA,aAAa,KAAbA,aAAa,MAAzB;;;;;;;;;;;;;;;;;ACAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;AAAA;;;AAAA;AAAA;AAAA;AAAA;;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;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AAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;;;;ACqMI;;;;;;AACA;;;;;;AACA;;;;;;AACA;;;;;;AACA;;;;;;AACA;;;;;;AACA;;;;;;AACA;;;;;;AACA;;;;;;AACA;;;;;;AACA;;;;;;AACA;;;;;;AACA;;;;;;AACA;;;;;;AACA;;;;;;AACA;;;;;;AACA;;;;;;AAGA;;;;;;AACA;;;;;;AAGA;;;;;;AACA;;;;;;AAGA;;;;;;AACA;;;;;;AACA;;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","file":"main-es5.js","sourcesContent":["import { Component, ChangeDetectionStrategy } from '@angular/core';\r\n\r\n@Component({\r\n  selector: 'datatable-progress',\r\n  template: `\r\n    <div class=\"progress-linear\" role=\"progressbar\">\r\n      <div class=\"container\">\r\n        <div class=\"bar\"></div>\r\n      </div>\r\n    </div>\r\n  `,\r\n  changeDetection: ChangeDetectionStrategy.OnPush\r\n})\r\nexport class ProgressBarComponent {}\r\n","import { Component } from '@angular/core';\r\nimport { ColumnMode } from 'projects/swimlane/ngx-datatable/src/public-api';\r\n\r\n@Component({\r\n  selector: 'basic-fixed-demo',\r\n  template: `\r\n    <div>\r\n      <h3>\r\n        Fix Row Height\r\n        <small>\r\n          <a\r\n            href=\"https://github.com/swimlane/ngx-datatable/blob/master/src/app/basic/basic-fixed.component.ts\"\r\n            target=\"_blank\"\r\n          >\r\n            Source\r\n          </a>\r\n        </small>\r\n      </h3>\r\n      <ngx-datatable\r\n        class=\"material striped\"\r\n        [rows]=\"rows\"\r\n        [columns]=\"columns\"\r\n        [columnMode]=\"ColumnMode.force\"\r\n        [headerHeight]=\"50\"\r\n        [footerHeight]=\"50\"\r\n        [rowHeight]=\"50\"\r\n      >\r\n      </ngx-datatable>\r\n    </div>\r\n  `\r\n})\r\nexport class BasicFixedComponent {\r\n  rows = [];\r\n  columns = [{ prop: 'name' }, { name: 'Company' }, { name: 'Gender' }];\r\n\r\n  ColumnMode = ColumnMode;\r\n\r\n  constructor() {\r\n    this.fetch(data => {\r\n      this.rows = data;\r\n    });\r\n  }\r\n\r\n  fetch(cb) {\r\n    const req = new XMLHttpRequest();\r\n    req.open('GET', `assets/data/company.json`);\r\n\r\n    req.onload = () => {\r\n      cb(JSON.parse(req.response));\r\n    };\r\n\r\n    req.send();\r\n  }\r\n}\r\n","import { Component } from '@angular/core';\r\nimport { ColumnMode } from 'projects/swimlane/ngx-datatable/src/public-api';\r\n\r\n@Component({\r\n  selector: 'contextmenu-demo',\r\n  template: `\r\n    <div>\r\n      <h3>\r\n        Context Menu Event\r\n        <small>\r\n          <a\r\n            href=\"https://github.com/swimlane/ngx-datatable/blob/master/src/app/basic/contextmenu.component.ts\"\r\n            target=\"_blank\"\r\n          >\r\n            Source\r\n          </a>\r\n        </small>\r\n      </h3>\r\n      <div class=\"info\">\r\n        <p>\r\n          <strong>Note:</strong> ngx-datatable does not provide a context menu feature. This demonstrates how you would\r\n          access the <code>contextmenu</code> event to display your own custom context menu.\r\n        </p>\r\n        <p *ngIf=\"rawEvent\">\r\n          <strong>Mouse position:</strong> <code>(x: {{ rawEvent?.x }}, y: {{ rawEvent?.y }})</code>\r\n        </p>\r\n        <p *ngIf=\"contextmenuRow\"><strong>Row:</strong> {{ contextmenuRow?.name }}</p>\r\n        <p *ngIf=\"contextmenuColumn\">\r\n          <strong>Header:</strong> name: {{ contextmenuColumn?.name }} prop: {{ contextmenuColumn?.prop }}\r\n        </p>\r\n      </div>\r\n      <ngx-datatable\r\n        class=\"material\"\r\n        [rows]=\"rows\"\r\n        [columns]=\"columns\"\r\n        [columnMode]=\"ColumnMode.force\"\r\n        [headerHeight]=\"50\"\r\n        [footerHeight]=\"50\"\r\n        rowHeight=\"auto\"\r\n        (tableContextmenu)=\"onTableContextMenu($event)\"\r\n      >\r\n      </ngx-datatable>\r\n    </div>\r\n  `\r\n})\r\nexport class ContextMenuDemoComponent {\r\n  rows = [];\r\n\r\n  columns = [{ prop: 'name' }, { name: 'Gender' }, { name: 'Company' }];\r\n\r\n  rawEvent: any;\r\n  contextmenuRow: any;\r\n  contextmenuColumn: any;\r\n\r\n  ColumnMode = ColumnMode;\r\n\r\n  constructor() {\r\n    this.fetch(data => {\r\n      this.rows = data;\r\n    });\r\n  }\r\n\r\n  onTableContextMenu(contextMenuEvent) {\r\n    console.log(contextMenuEvent);\r\n\r\n    this.rawEvent = contextMenuEvent.event;\r\n    if (contextMenuEvent.type === 'body') {\r\n      this.contextmenuRow = contextMenuEvent.content;\r\n      this.contextmenuColumn = undefined;\r\n    } else {\r\n      this.contextmenuColumn = contextMenuEvent.content;\r\n      this.contextmenuRow = undefined;\r\n    }\r\n\r\n    contextMenuEvent.event.preventDefault();\r\n    contextMenuEvent.event.stopPropagation();\r\n  }\r\n\r\n  fetch(cb) {\r\n    const req = new XMLHttpRequest();\r\n    req.open('GET', `assets/data/company.json`);\r\n\r\n    req.onload = () => {\r\n      cb(JSON.parse(req.response));\r\n    };\r\n\r\n    req.send();\r\n  }\r\n}\r\n","import { Directive, Input, Output, EventEmitter, HostBinding, HostListener, OnDestroy } from '@angular/core';\r\nimport { Observable, Subscription, fromEvent } from 'rxjs';\r\nimport { takeUntil } from 'rxjs/operators';\r\nimport { MouseEvent } from '../events';\r\n\r\n@Directive({ selector: '[long-press]' })\r\nexport class LongPressDirective implements OnDestroy {\r\n  @Input() pressEnabled: boolean = true;\r\n  @Input() pressModel: any;\r\n  @Input() duration: number = 500;\r\n\r\n  @Output() longPressStart: EventEmitter<any> = new EventEmitter();\r\n  @Output() longPressing: EventEmitter<any> = new EventEmitter();\r\n  @Output() longPressEnd: EventEmitter<any> = new EventEmitter();\r\n\r\n  pressing: boolean;\r\n  isLongPressing: boolean;\r\n  timeout: any;\r\n  mouseX: number = 0;\r\n  mouseY: number = 0;\r\n\r\n  subscription: Subscription;\r\n\r\n  @HostBinding('class.press')\r\n  get press(): boolean {\r\n    return this.pressing;\r\n  }\r\n\r\n  @HostBinding('class.longpress')\r\n  get isLongPress(): boolean {\r\n    return this.isLongPressing;\r\n  }\r\n\r\n  @HostListener('mousedown', ['$event'])\r\n  onMouseDown(event: MouseEvent): void {\r\n    // don't do right/middle clicks\r\n    if (event.which !== 1 || !this.pressEnabled) return;\r\n\r\n    // don't start drag if its on resize handle\r\n    const target = <HTMLElement>event.target;\r\n    if (target.classList.contains('resize-handle')) return;\r\n\r\n    this.mouseX = event.clientX;\r\n    this.mouseY = event.clientY;\r\n\r\n    this.pressing = true;\r\n    this.isLongPressing = false;\r\n\r\n    const mouseup = fromEvent(document, 'mouseup');\r\n    this.subscription = mouseup.subscribe((ev: MouseEvent) => this.onMouseup());\r\n\r\n    this.timeout = setTimeout(() => {\r\n      this.isLongPressing = true;\r\n      this.longPressStart.emit({\r\n        event,\r\n        model: this.pressModel\r\n      });\r\n\r\n      this.subscription.add(\r\n        fromEvent(document, 'mousemove')\r\n          .pipe(takeUntil(mouseup))\r\n          .subscribe((mouseEvent: MouseEvent) => this.onMouseMove(mouseEvent))\r\n      );\r\n\r\n      this.loop(event);\r\n    }, this.duration);\r\n\r\n    this.loop(event);\r\n  }\r\n\r\n  onMouseMove(event: MouseEvent): void {\r\n    if (this.pressing && !this.isLongPressing) {\r\n      const xThres = Math.abs(event.clientX - this.mouseX) > 10;\r\n      const yThres = Math.abs(event.clientY - this.mouseY) > 10;\r\n\r\n      if (xThres || yThres) {\r\n        this.endPress();\r\n      }\r\n    }\r\n  }\r\n\r\n  loop(event: MouseEvent): void {\r\n    if (this.isLongPressing) {\r\n      this.timeout = setTimeout(() => {\r\n        this.longPressing.emit({\r\n          event,\r\n          model: this.pressModel\r\n        });\r\n        this.loop(event);\r\n      }, 50);\r\n    }\r\n  }\r\n\r\n  endPress(): void {\r\n    clearTimeout(this.timeout);\r\n    this.isLongPressing = false;\r\n    this.pressing = false;\r\n    this._destroySubscription();\r\n\r\n    this.longPressEnd.emit({\r\n      model: this.pressModel\r\n    });\r\n  }\r\n\r\n  onMouseup(): void {\r\n    this.endPress();\r\n  }\r\n\r\n  ngOnDestroy(): void {\r\n    this._destroySubscription();\r\n  }\r\n\r\n  private _destroySubscription(): void {\r\n    if (this.subscription) {\r\n      this.subscription.unsubscribe();\r\n      this.subscription = undefined;\r\n    }\r\n  }\r\n}\r\n","import { camelCase, deCamelCase } from './camel-case';\r\nimport { id } from './id';\r\nimport { getterForProp } from './column-prop-getters';\r\nimport { TableColumn } from '../types/table-column.type';\r\nimport { DataTableColumnDirective } from '../components/columns/column.directive';\r\n\r\n/**\r\n * Sets the column defaults\r\n */\r\nexport function setColumnDefaults(columns: TableColumn[]) {\r\n  if (!columns) return;\r\n\r\n  // Only one column should hold the tree view\r\n  // Thus if multiple columns are provided with\r\n  // isTreeColumn as true we take only the first one\r\n  let treeColumnFound: boolean = false;\r\n\r\n  for (const column of columns) {\r\n    if (!column.$$id) {\r\n      column.$$id = id();\r\n    }\r\n\r\n    // prop can be numeric; zero is valid not a missing prop\r\n    // translate name => prop\r\n    if (isNullOrUndefined(column.prop) && column.name) {\r\n      column.prop = camelCase(column.name);\r\n    }\r\n\r\n    if (!column.$$valueGetter) {\r\n      column.$$valueGetter = getterForProp(column.prop);\r\n    }\r\n\r\n    // format props if no name passed\r\n    if (!isNullOrUndefined(column.prop) && isNullOrUndefined(column.name)) {\r\n      column.name = deCamelCase(String(column.prop));\r\n    }\r\n\r\n    if (isNullOrUndefined(column.prop) && isNullOrUndefined(column.name)) {\r\n      column.name = ''; // Fixes IE and Edge displaying `null`\r\n    }\r\n\r\n    if (!column.hasOwnProperty('resizeable')) {\r\n      column.resizeable = true;\r\n    }\r\n\r\n    if (!column.hasOwnProperty('sortable')) {\r\n      column.sortable = true;\r\n    }\r\n\r\n    if (!column.hasOwnProperty('draggable')) {\r\n      column.draggable = true;\r\n    }\r\n\r\n    if (!column.hasOwnProperty('canAutoResize')) {\r\n      column.canAutoResize = true;\r\n    }\r\n\r\n    if (!column.hasOwnProperty('width')) {\r\n      column.width = 150;\r\n    }\r\n\r\n    if (!column.hasOwnProperty('isTreeColumn')) {\r\n      column.isTreeColumn = false;\r\n    } else {\r\n      if (column.isTreeColumn && !treeColumnFound) {\r\n        // If the first column with isTreeColumn is true found\r\n        // we mark that treeCoulmn is found\r\n        treeColumnFound = true;\r\n      } else {\r\n        // After that isTreeColumn property for any other column\r\n        // will be set as false\r\n        column.isTreeColumn = false;\r\n      }\r\n    }\r\n  }\r\n}\r\n\r\nexport function isNullOrUndefined<T>(value: T | null | undefined): value is null | undefined {\r\n  return value === null || value === undefined;\r\n}\r\n\r\n/**\r\n * Translates templates definitions to objects\r\n */\r\nexport function translateTemplates(templates: DataTableColumnDirective[]): any[] {\r\n  const result: any[] = [];\r\n  for (const temp of templates) {\r\n    const col: any = {};\r\n\r\n    const props = Object.getOwnPropertyNames(temp);\r\n    for (const prop of props) {\r\n      col[prop] = temp[prop];\r\n    }\r\n\r\n    if (temp.headerTemplate) {\r\n      col.headerTemplate = temp.headerTemplate;\r\n    }\r\n\r\n    if (temp.cellTemplate) {\r\n      col.cellTemplate = temp.cellTemplate;\r\n    }\r\n\r\n    if (temp.summaryFunc) {\r\n      col.summaryFunc = temp.summaryFunc;\r\n    }\r\n\r\n    if (temp.summaryTemplate) {\r\n      col.summaryTemplate = temp.summaryTemplate;\r\n    }\r\n\r\n    result.push(col);\r\n  }\r\n\r\n  return result;\r\n}\r\n","import { Inject, Injectable } from '@angular/core';\r\n\r\n/**\r\n * Gets the width of the scrollbar.  Nesc for windows\r\n * http://stackoverflow.com/a/13382873/888165\r\n */\r\n@Injectable()\r\nexport class DimensionsHelper {\r\n  getDimensions(element: Element): ClientRect {\r\n    return element.getBoundingClientRect();\r\n  }\r\n}\r\n","import { Component, ElementRef, Injectable } from '@angular/core';\r\nimport { Observable, of } from 'rxjs';\r\nimport { delay, map } from 'rxjs/operators';\r\nimport { CorporateEmployee } from './model/corporate-employee';\r\n\r\nimport data from 'src/assets/data/company.json';\r\nimport { ColumnMode } from 'projects/swimlane/ngx-datatable/src/public-api';\r\nconst companyData = data as any[];\r\n\r\nclass PagedData<T> {\r\n  data: T[];\r\n}\r\n\r\n/**\r\n * A server used to mock a paged data result from a server\r\n */\r\n@Injectable()\r\nexport class MockServerResultsService {\r\n  public getResults(offset: number, limit: number): Observable<PagedData<CorporateEmployee>> {\r\n    return of(companyData.slice(offset, offset + limit)).pipe(\r\n      delay(new Date(Date.now() + 500)),\r\n      map(d => ({ data: d }))\r\n    );\r\n  }\r\n}\r\n\r\n@Component({\r\n  selector: 'server-scrolling-demo',\r\n  providers: [MockServerResultsService],\r\n  template: `\r\n    <div>\r\n      <h3>\r\n        Server-side Scrolling\r\n        <small>\r\n          <a\r\n            href=\"https://github.com/swimlane/ngx-datatable/blob/master/src/app/paging/scrolling-server.component.ts\"\r\n            target=\"_blank\"\r\n          >\r\n            Source\r\n          </a>\r\n        </small>\r\n      </h3>\r\n      <ngx-datatable\r\n        class=\"material server-scrolling-demo\"\r\n        [rows]=\"rows\"\r\n        [columns]=\"[{ name: 'Name' }, { name: 'Gender' }, { name: 'Company' }]\"\r\n        [columnMode]=\"ColumnMode.force\"\r\n        [headerHeight]=\"headerHeight\"\r\n        [rowHeight]=\"rowHeight\"\r\n        [loadingIndicator]=\"isLoading\"\r\n        [scrollbarV]=\"true\"\r\n        (scroll)=\"onScroll($event.offsetY)\"\r\n      ></ngx-datatable>\r\n    </div>\r\n  `,\r\n  styleUrls: ['./scrolling-server.component.css']\r\n})\r\nexport class ServerScrollingComponent {\r\n  readonly headerHeight = 50;\r\n  readonly rowHeight = 50;\r\n  readonly pageLimit = 10;\r\n\r\n  rows: CorporateEmployee[] = [];\r\n  isLoading: boolean;\r\n\r\n  ColumnMode = ColumnMode;\r\n\r\n  constructor(private serverResultsService: MockServerResultsService, private el: ElementRef) {}\r\n\r\n  ngOnInit() {\r\n    this.onScroll(0);\r\n  }\r\n\r\n  onScroll(offsetY: number) {\r\n    // total height of all rows in the viewport\r\n    const viewHeight = this.el.nativeElement.getBoundingClientRect().height - this.headerHeight;\r\n\r\n    // check if we scrolled to the end of the viewport\r\n    if (!this.isLoading && offsetY + viewHeight >= this.rows.length * this.rowHeight) {\r\n      // total number of results to load\r\n      let limit = this.pageLimit;\r\n\r\n      // check if we haven't fetched any results yet\r\n      if (this.rows.length === 0) {\r\n        // calculate the number of rows that fit within viewport\r\n        const pageSize = Math.ceil(viewHeight / this.rowHeight);\r\n\r\n        // change the limit to pageSize such that we fill the first page entirely\r\n        // (otherwise, we won't be able to scroll past it)\r\n        limit = Math.max(pageSize, this.pageLimit);\r\n      }\r\n      this.loadPage(limit);\r\n    }\r\n  }\r\n\r\n  private loadPage(limit: number) {\r\n    // set the loading flag, which serves two purposes:\r\n    // 1) it prevents the same page from being loaded twice\r\n    // 2) it enables display of the loading indicator\r\n    this.isLoading = true;\r\n\r\n    this.serverResultsService.getResults(this.rows.length, limit).subscribe(results => {\r\n      const rows = [...this.rows, ...results.data];\r\n      this.rows = rows;\r\n      this.isLoading = false;\r\n    });\r\n  }\r\n}\r\n","import { Component } from '@angular/core';\r\nimport { ColumnMode } from 'projects/swimlane/ngx-datatable/src/public-api';\r\n\r\n@Component({\r\n  selector: 'basic-dark-theme-demo',\r\n  template: `\r\n    <div>\r\n      <h3>\r\n        Dark Theme\r\n        <small>\r\n          <a\r\n            href=\"https://github.com/swimlane/ngx-datatable/blob/master/src/app/basic/dark-theme.component.ts\"\r\n            target=\"_blank\"\r\n          >\r\n            Source\r\n          </a>\r\n        </small>\r\n      </h3>\r\n      <ngx-datatable\r\n        class=\"dark\"\r\n        [rows]=\"rows\"\r\n        [loadingIndicator]=\"loadingIndicator\"\r\n        [columns]=\"columns\"\r\n        [columnMode]=\"ColumnMode.force\"\r\n        [headerHeight]=\"40\"\r\n        [summaryRow]=\"true\"\r\n        [footerHeight]=\"40\"\r\n        [limit]=\"10\"\r\n        rowHeight=\"auto\"\r\n        [reorderable]=\"reorderable\"\r\n      >\r\n      </ngx-datatable>\r\n    </div>\r\n  `\r\n})\r\nexport class DarkThemeComponent {\r\n  rows = [];\r\n  loadingIndicator = true;\r\n  reorderable = true;\r\n\r\n  columns = [\r\n    { prop: 'name', summaryFunc: () => null },\r\n    { name: 'Gender', summaryFunc: cells => this.summaryForGender(cells) },\r\n    { name: 'Company', summaryFunc: () => null }\r\n  ];\r\n\r\n  ColumnMode = ColumnMode;\r\n\r\n  constructor() {\r\n    this.fetch(data => {\r\n      this.rows = data;\r\n      setTimeout(() => {\r\n        this.loadingIndicator = false;\r\n      }, 1500);\r\n    });\r\n  }\r\n\r\n  fetch(cb) {\r\n    const req = new XMLHttpRequest();\r\n    req.open('GET', `assets/data/company.json`);\r\n\r\n    req.onload = () => {\r\n      cb(JSON.parse(req.response));\r\n    };\r\n\r\n    req.send();\r\n  }\r\n\r\n  private summaryForGender(cells: string[]) {\r\n    const males = cells.filter(cell => cell === 'male').length;\r\n    const females = cells.filter(cell => cell === 'female').length;\r\n\r\n    return `males: ${males}, females: ${females}`;\r\n  }\r\n}\r\n","import { getterForProp } from './column-prop-getters';\r\nimport { SortType } from '../types/sort.type';\r\nimport { SortDirection } from '../types/sort-direction.type';\r\nimport { SortPropDir } from '../types/sort-prop-dir.type';\r\n/**\r\n * Gets the next sort direction\r\n */\r\nexport function nextSortDir(sortType: SortType, current: SortDirection): SortDirection | undefined {\r\n  if (sortType === SortType.single) {\r\n    if (current === SortDirection.asc) {\r\n      return SortDirection.desc;\r\n    } else {\r\n      return SortDirection.asc;\r\n    }\r\n  } else {\r\n    if (!current) {\r\n      return SortDirection.asc;\r\n    } else if (current === SortDirection.asc) {\r\n      return SortDirection.desc;\r\n    } else if (current === SortDirection.desc) {\r\n      return undefined;\r\n    }\r\n    // avoid TS7030: Not all code paths return a value.\r\n    return undefined;\r\n  }\r\n}\r\n\r\n/**\r\n * Adapted from fueld-ui on 6/216\r\n * https://github.com/FuelInteractive/fuel-ui/tree/master/src/pipes/OrderBy\r\n */\r\nexport function orderByComparator(a: any, b: any): number {\r\n  if (a === null || typeof a === 'undefined') a = 0;\r\n  if (b === null || typeof b === 'undefined') b = 0;\r\n  if (a instanceof Date && b instanceof Date) {\r\n    if (a < b) return -1;\r\n    if (a > b) return 1;\r\n  } else if (isNaN(parseFloat(a)) || !isFinite(a) || isNaN(parseFloat(b)) || !isFinite(b)) {\r\n    // Convert to string in case of a=0 or b=0\r\n    a = String(a);\r\n    b = String(b);\r\n    // Isn't a number so lowercase the string to properly compare\r\n    if (a.toLowerCase() < b.toLowerCase()) return -1;\r\n    if (a.toLowerCase() > b.toLowerCase()) return 1;\r\n  } else {\r\n    // Parse strings as numbers to compare properly\r\n    if (parseFloat(a) < parseFloat(b)) return -1;\r\n    if (parseFloat(a) > parseFloat(b)) return 1;\r\n  }\r\n\r\n  // equal each other\r\n  return 0;\r\n}\r\n\r\n/**\r\n * creates a shallow copy of the `rows` input and returns the sorted copy. this function\r\n * does not sort the `rows` argument in place\r\n */\r\nexport function sortRows(rows: any[], columns: any[], dirs: SortPropDir[]): any[] {\r\n  if (!rows) return [];\r\n  if (!dirs || !dirs.length || !columns) return [...rows];\r\n\r\n  /**\r\n   * record the row ordering of results from prior sort operations (if applicable)\r\n   * this is necessary to guarantee stable sorting behavior\r\n   */\r\n  const rowToIndexMap = new Map<any, number>();\r\n  rows.forEach((row, index) => rowToIndexMap.set(row, index));\r\n\r\n  const temp = [...rows];\r\n  const cols = columns.reduce((obj, col) => {\r\n    if (col.comparator && typeof col.comparator === 'function') {\r\n      obj[col.prop] = col.comparator;\r\n    }\r\n    return obj;\r\n  }, {});\r\n\r\n  // cache valueGetter and compareFn so that they\r\n  // do not need to be looked-up in the sort function body\r\n  const cachedDirs = dirs.map(dir => {\r\n    const prop = dir.prop;\r\n    return {\r\n      prop,\r\n      dir: dir.dir,\r\n      valueGetter: getterForProp(prop),\r\n      compareFn: cols[prop] || orderByComparator\r\n    };\r\n  });\r\n\r\n  return temp.sort(function (rowA: any, rowB: any) {\r\n    for (const cachedDir of cachedDirs) {\r\n      // Get property and valuegetters for column to be sorted\r\n      const { prop, valueGetter } = cachedDir;\r\n      // Get A and B cell values from rows based on properties of the columns\r\n      const propA = valueGetter(rowA, prop);\r\n      const propB = valueGetter(rowB, prop);\r\n\r\n      // Compare function gets five parameters:\r\n      // Two cell values to be compared as propA and propB\r\n      // Two rows corresponding to the cells as rowA and rowB\r\n      // Direction of the sort for this column as SortDirection\r\n      // Compare can be a standard JS comparison function (a,b) => -1|0|1\r\n      // as additional parameters are silently ignored. The whole row and sort\r\n      // direction enable more complex sort logic.\r\n      const comparison =\r\n        cachedDir.dir !== SortDirection.desc\r\n          ? cachedDir.compareFn(propA, propB, rowA, rowB, cachedDir.dir)\r\n          : -cachedDir.compareFn(propA, propB, rowA, rowB, cachedDir.dir);\r\n\r\n      // Don't return 0 yet in case of needing to sort by next property\r\n      if (comparison !== 0) return comparison;\r\n    }\r\n\r\n    if (!(rowToIndexMap.has(rowA) && rowToIndexMap.has(rowB))) return 0;\r\n\r\n    /**\r\n     * all else being equal, preserve original order of the rows (stable sort)\r\n     */\r\n    return rowToIndexMap.get(rowA) < rowToIndexMap.get(rowB) ? -1 : 1;\r\n  });\r\n}\r\n","export enum SelectionType {\r\n  single = 'single',\r\n  multi = 'multi',\r\n  multiClick = 'multiClick',\r\n  cell = 'cell',\r\n  checkbox = 'checkbox'\r\n}\r\n","/*\r\n * Public API Surface of ngx-datatable\r\n */\r\n\r\n// components\r\nexport * from './lib/ngx-datatable.module';\r\nexport * from './lib/components/datatable.component';\r\nexport * from './lib/components/header/header.component';\r\nexport * from './lib/components/header/header-cell.component';\r\nexport * from './lib/components/body/body.component';\r\nexport * from './lib/components/body/body-cell.component';\r\nexport * from './lib/components/body/body-row.component';\r\nexport * from './lib/components/body/progress-bar.component';\r\nexport * from './lib/components/body/scroller.component';\r\nexport * from './lib/components/body/body-row-wrapper.component';\r\nexport * from './lib/components/body/selection.component';\r\nexport * from './lib/components/body/body-group-header.directive';\r\nexport * from './lib/components/body/body-group-header-template.directive';\r\nexport * from './lib/components/body/summary/summary-row.component';\r\nexport * from './lib/components/footer/footer.component';\r\nexport * from './lib/components/footer/pager.component';\r\nexport * from './lib/components/footer/footer.directive';\r\nexport * from './lib/components/footer/footer-template.directive';\r\nexport * from './lib/components/columns/column.directive';\r\nexport * from './lib/components/columns/column-header.directive';\r\nexport * from './lib/components/columns/column-cell.directive';\r\nexport * from './lib/components/columns/tree.directive';\r\nexport * from './lib/components/row-detail/row-detail.directive';\r\nexport * from './lib/components/row-detail/row-detail-template.directive';\r\n\r\n// directives\r\nexport * from './lib/directives/draggable.directive';\r\nexport * from './lib/directives/long-press.directive';\r\nexport * from './lib/directives/orderable.directive';\r\nexport * from './lib/directives/resizeable.directive';\r\nexport * from './lib/directives/visibility.directive';\r\n\r\n// services\r\nexport * from './lib/services/scrollbar-helper.service';\r\nexport * from './lib/services/dimensions-helper.service';\r\nexport * from './lib/services/column-changes.service';\r\n\r\n// types\r\nexport * from './lib/types/column-mode.type';\r\nexport * from './lib/types/sort.type';\r\nexport * from './lib/types/sort-direction.type';\r\nexport * from './lib/types/selection.type';\r\nexport * from './lib/types/click.type';\r\nexport * from './lib/types/table-column.type';\r\nexport * from './lib/types/sort-prop-dir.type';\r\nexport * from './lib/types/contextmenu.type';\r\n\r\n// utils\r\nexport * from './lib/utils/id';\r\nexport * from './lib/utils/column';\r\nexport * from './lib/utils/column-prop-getters';\r\nexport * from './lib/utils/camel-case';\r\nexport * from './lib/utils/keys';\r\nexport * from './lib/utils/math';\r\nexport * from './lib/utils/prefixes';\r\nexport * from './lib/utils/selection';\r\nexport * from './lib/utils/translate';\r\nexport * from './lib/utils/throttle';\r\nexport * from './lib/utils/sort';\r\nexport * from './lib/utils/row-height-cache';\r\nexport * from './lib/utils/column-helper';\r\nexport * from './lib/utils/elm-from-point';\r\nexport * from './lib/utils/tree';\r\n","import { Component } from '@angular/core';\r\nimport { ColumnMode } from 'projects/swimlane/ngx-datatable/src/public-api';\r\n\r\n@Component({\r\n  selector: 'column-force-demo',\r\n  template: `\r\n    <div>\r\n      <h3>\r\n        Force Fill Column Width Distribution\r\n        <small>\r\n          <a\r\n            href=\"https://github.com/swimlane/ngx-datatable/blob/master/src/app/columns/column-force.component.ts\"\r\n            target=\"_blank\"\r\n          >\r\n            Source\r\n          </a>\r\n        </small>\r\n      </h3>\r\n      <ngx-datatable\r\n        class=\"material\"\r\n        [columnMode]=\"ColumnMode.force\"\r\n        [headerHeight]=\"50\"\r\n        [footerHeight]=\"50\"\r\n        rowHeight=\"auto\"\r\n        [rows]=\"rows\"\r\n      >\r\n        <ngx-datatable-column name=\"Name\" [width]=\"100\">\r\n          <ng-template let-value=\"value\" ngx-datatable-cell-template>\r\n            {{ value }}\r\n          </ng-template>\r\n        </ngx-datatable-column>\r\n        <ngx-datatable-column name=\"Gender\" [width]=\"100\">\r\n          <ng-template let-row=\"row\" let-value=\"value\" ngx-datatable-cell-template>\r\n            {{ value }}\r\n          </ng-template>\r\n        </ngx-datatable-column>\r\n        <ngx-datatable-column name=\"Age\" [width]=\"300\">\r\n          <ng-template let-value=\"value\" ngx-datatable-cell-template>\r\n            {{ value }}\r\n          </ng-template>\r\n        </ngx-datatable-column>\r\n      </ngx-datatable>\r\n    </div>\r\n  `\r\n})\r\nexport class ColumnForceComponent {\r\n  rows = [];\r\n\r\n  ColumnMode = ColumnMode;\r\n\r\n  constructor() {\r\n    this.fetch(data => {\r\n      this.rows = data.splice(0, 5);\r\n    });\r\n  }\r\n\r\n  fetch(cb) {\r\n    const req = new XMLHttpRequest();\r\n    req.open('GET', `assets/data/company.json`);\r\n\r\n    req.onload = () => {\r\n      cb(JSON.parse(req.response));\r\n    };\r\n\r\n    req.send();\r\n  }\r\n}\r\n","import { Component } from '@angular/core';\r\nimport { ColumnMode, SelectionType } from 'projects/swimlane/ngx-datatable/src/public-api';\r\n\r\n@Component({\r\n  selector: 'chkbox-selection-template-demo',\r\n  template: `\r\n    <div>\r\n      <h3>\r\n        Custom Checkbox Selection\r\n        <small>\r\n          <a\r\n            href=\"https://github.com/swimlane/ngx-datatable/blob/master/src/app/selection/selection-chkbox-template.component.ts\"\r\n            target=\"_blank\"\r\n          >\r\n            Source\r\n          </a>\r\n        </small>\r\n        <small>\r\n          <a href=\"javascript:void(0)\" (click)=\"add()\">Add</a> |\r\n          <a href=\"javascript:void(0)\" (click)=\"update()\">Update</a> |\r\n          <a href=\"javascript:void(0)\" (click)=\"remove()\">Remove</a>\r\n        </small>\r\n      </h3>\r\n      <div style=\"float:left;width:75%\">\r\n        <ngx-datatable\r\n          style=\"width: 90%\"\r\n          class=\"material\"\r\n          [rows]=\"rows\"\r\n          [columnMode]=\"ColumnMode.force\"\r\n          [headerHeight]=\"50\"\r\n          [footerHeight]=\"50\"\r\n          rowHeight=\"auto\"\r\n          [limit]=\"5\"\r\n          [selected]=\"selected\"\r\n          [selectionType]=\"SelectionType.checkbox\"\r\n          (activate)=\"onActivate($event)\"\r\n          (select)=\"onSelect($event)\"\r\n        >\r\n          <ngx-datatable-column\r\n            [width]=\"30\"\r\n            [sortable]=\"false\"\r\n            [canAutoResize]=\"false\"\r\n            [draggable]=\"false\"\r\n            [resizeable]=\"false\"\r\n          >\r\n            <ng-template\r\n              ngx-datatable-header-template\r\n              let-value=\"value\"\r\n              let-allRowsSelected=\"allRowsSelected\"\r\n              let-selectFn=\"selectFn\"\r\n            >\r\n              <input type=\"checkbox\" [checked]=\"allRowsSelected\" (change)=\"selectFn(!allRowsSelected)\" />\r\n            </ng-template>\r\n            <ng-template\r\n              ngx-datatable-cell-template\r\n              let-value=\"value\"\r\n              let-isSelected=\"isSelected\"\r\n              let-onCheckboxChangeFn=\"onCheckboxChangeFn\"\r\n            >\r\n              <input type=\"checkbox\" [checked]=\"isSelected\" (change)=\"onCheckboxChangeFn($event)\" />\r\n            </ng-template>\r\n          </ngx-datatable-column>\r\n          <ngx-datatable-column name=\"Name\"></ngx-datatable-column>\r\n          <ngx-datatable-column name=\"Gender\"></ngx-datatable-column>\r\n          <ngx-datatable-column name=\"Company\"></ngx-datatable-column>\r\n        </ngx-datatable>\r\n      </div>\r\n\r\n      <div class=\"selected-column\">\r\n        <h4>\r\n          Selections <small>({{ selected?.length }})</small>\r\n        </h4>\r\n        <ul>\r\n          <li *ngFor=\"let sel of selected\">\r\n            {{ sel.name }}\r\n          </li>\r\n          <li *ngIf=\"!selected?.length\">No Selections</li>\r\n        </ul>\r\n      </div>\r\n    </div>\r\n  `\r\n})\r\nexport class CustomCheckboxSelectionComponent {\r\n  rows = [];\r\n  selected = [];\r\n\r\n  ColumnMode = ColumnMode;\r\n  SelectionType = SelectionType;\r\n\r\n  constructor() {\r\n    this.fetch(data => {\r\n      this.rows = data;\r\n    });\r\n  }\r\n\r\n  fetch(cb) {\r\n    const req = new XMLHttpRequest();\r\n    req.open('GET', `assets/data/company.json`);\r\n\r\n    req.onload = () => {\r\n      cb(JSON.parse(req.response));\r\n    };\r\n\r\n    req.send();\r\n  }\r\n\r\n  onSelect({ selected }) {\r\n    console.log('Select Event', selected, this.selected);\r\n\r\n    this.selected.splice(0, this.selected.length);\r\n    this.selected.push(...selected);\r\n  }\r\n\r\n  onActivate(event) {\r\n    console.log('Activate Event', event);\r\n  }\r\n\r\n  add() {\r\n    this.selected.push(this.rows[1], this.rows[3]);\r\n  }\r\n\r\n  update() {\r\n    this.selected = [this.rows[1], this.rows[3]];\r\n  }\r\n\r\n  remove() {\r\n    this.selected = [];\r\n  }\r\n}\r\n","import { Component } from '@angular/core';\r\nimport { ColumnMode } from 'projects/swimlane/ngx-datatable/src/public-api';\r\n\r\n@Component({\r\n  selector: 'column-reorder-demo',\r\n  styles: [\r\n    `\r\n      .icon {\r\n        position: absolute;\r\n      }\r\n      .datatable-icon-down {\r\n        top: 0px;\r\n      }\r\n      .datatable-icon-up {\r\n        top: 40px;\r\n      }\r\n      .dragFromLeft .icon {\r\n        left: -13px;\r\n      }\r\n    `\r\n  ],\r\n  template: `\r\n    <div>\r\n      <h3>\r\n        Reorder Column\r\n        <small>\r\n          <a\r\n            href=\"https://github.com/swimlane/ngx-datatable/blob/master/src/app/columns/column-reorder.component.ts\"\r\n            target=\"_blank\"\r\n          >\r\n            Source\r\n          </a>\r\n        </small>\r\n      </h3>\r\n      <ngx-datatable\r\n        class=\"material\"\r\n        [rows]=\"rows\"\r\n        [loadingIndicator]=\"loadingIndicator\"\r\n        [columns]=\"columns\"\r\n        [columnMode]=\"ColumnMode.force\"\r\n        [headerHeight]=\"50\"\r\n        [footerHeight]=\"50\"\r\n        rowHeight=\"auto\"\r\n        [reorderable]=\"reorderable\"\r\n        [swapColumns]=\"swapColumns\"\r\n        [targetMarkerTemplate]=\"targetMarkerTemplate\"\r\n      >\r\n      </ngx-datatable>\r\n      <ng-template #targetMarkerTemplate let-class=\"class\">\r\n        <div [ngClass]=\"class\">\r\n          <div class=\"icon datatable-icon-down\"></div>\r\n          <div class=\"icon datatable-icon-up\"></div>\r\n        </div>\r\n      </ng-template>\r\n    </div>\r\n  `\r\n})\r\nexport class ColumnReorderComponent {\r\n  rows = [];\r\n  loadingIndicator = true;\r\n  reorderable = true;\r\n  swapColumns = false;\r\n\r\n  columns = [{ prop: 'name' }, { name: 'Gender' }, { name: 'Company', sortable: false }];\r\n\r\n  ColumnMode = ColumnMode;\r\n\r\n  constructor() {\r\n    this.fetch(data => {\r\n      this.rows = data;\r\n      setTimeout(() => {\r\n        this.loadingIndicator = false;\r\n      }, 1500);\r\n    });\r\n  }\r\n\r\n  fetch(cb) {\r\n    const req = new XMLHttpRequest();\r\n    req.open('GET', `assets/data/company.json`);\r\n\r\n    req.onload = () => {\r\n      cb(JSON.parse(req.response));\r\n    };\r\n\r\n    req.send();\r\n  }\r\n}\r\n","import { Directive, ElementRef, Input, Output, EventEmitter, OnDestroy, OnChanges, SimpleChanges } from '@angular/core';\r\nimport { Subscription, fromEvent } from 'rxjs';\r\nimport { takeUntil } from 'rxjs/operators';\r\n\r\n/**\r\n * Draggable Directive for Angular2\r\n *\r\n * Inspiration:\r\n *   https://github.com/AngularClass/angular2-examples/blob/master/rx-draggable/directives/draggable.ts\r\n *   http://stackoverflow.com/questions/35662530/how-to-implement-drag-and-drop-in-angular2\r\n *\r\n */\r\n@Directive({ selector: '[draggable]' })\r\nexport class DraggableDirective implements OnDestroy, OnChanges {\r\n  @Input() dragEventTarget: any;\r\n  @Input() dragModel: any;\r\n  @Input() dragX: boolean = true;\r\n  @Input() dragY: boolean = true;\r\n\r\n  @Output() dragStart: EventEmitter<any> = new EventEmitter();\r\n  @Output() dragging: EventEmitter<any> = new EventEmitter();\r\n  @Output() dragEnd: EventEmitter<any> = new EventEmitter();\r\n\r\n  element: HTMLElement;\r\n  isDragging: boolean = false;\r\n  subscription: Subscription;\r\n\r\n  constructor(element: ElementRef) {\r\n    this.element = element.nativeElement;\r\n  }\r\n\r\n  ngOnChanges(changes: SimpleChanges): void {\r\n    if (changes['dragEventTarget'] && changes['dragEventTarget'].currentValue && this.dragModel.dragging) {\r\n      this.onMousedown(changes['dragEventTarget'].currentValue);\r\n    }\r\n  }\r\n\r\n  ngOnDestroy(): void {\r\n    this._destroySubscription();\r\n  }\r\n\r\n  onMouseup(event: MouseEvent): void {\r\n    if (!this.isDragging) return;\r\n\r\n    this.isDragging = false;\r\n    this.element.classList.remove('dragging');\r\n\r\n    if (this.subscription) {\r\n      this._destroySubscription();\r\n      this.dragEnd.emit({\r\n        event,\r\n        element: this.element,\r\n        model: this.dragModel\r\n      });\r\n    }\r\n  }\r\n\r\n  onMousedown(event: MouseEvent): void {\r\n    // we only want to drag the inner header text\r\n    const isDragElm = (<HTMLElement>event.target).classList.contains('draggable');\r\n\r\n    if (isDragElm && (this.dragX || this.dragY)) {\r\n      event.preventDefault();\r\n      this.isDragging = true;\r\n\r\n      const mouseDownPos = { x: event.clientX, y: event.clientY };\r\n\r\n      const mouseup = fromEvent(document, 'mouseup');\r\n      this.subscription = mouseup.subscribe((ev: MouseEvent) => this.onMouseup(ev));\r\n\r\n      const mouseMoveSub = fromEvent(document, 'mousemove')\r\n        .pipe(takeUntil(mouseup))\r\n        .subscribe((ev: MouseEvent) => this.move(ev, mouseDownPos));\r\n\r\n      this.subscription.add(mouseMoveSub);\r\n\r\n      this.dragStart.emit({\r\n        event,\r\n        element: this.element,\r\n        model: this.dragModel\r\n      });\r\n    }\r\n  }\r\n\r\n  move(event: MouseEvent, mouseDownPos: { x: number; y: number }): void {\r\n    if (!this.isDragging) return;\r\n\r\n    const x = event.clientX - mouseDownPos.x;\r\n    const y = event.clientY - mouseDownPos.y;\r\n\r\n    if (this.dragX) this.element.style.left = `${x}px`;\r\n    if (this.dragY) this.element.style.top = `${y}px`;\r\n\r\n    this.element.classList.add('dragging');\r\n\r\n    this.dragging.emit({\r\n      event,\r\n      element: this.element,\r\n      model: this.dragModel\r\n    });\r\n  }\r\n\r\n  private _destroySubscription(): void {\r\n    if (this.subscription) {\r\n      this.subscription.unsubscribe();\r\n      this.subscription = undefined;\r\n    }\r\n  }\r\n}\r\n","import { Component, ViewEncapsulation, ViewChild } from '@angular/core';\r\nimport { NgStyle } from '@angular/common';\r\nimport { ColumnMode } from 'projects/swimlane/ngx-datatable/src/public-api';\r\n\r\n@Component({\r\n  selector: 'row-grouping-demo',\r\n  template: `\r\n    <div>\r\n      <h3>\r\n        Row Grouping\r\n        <small>\r\n          <a\r\n            href=\"https://github.com/swimlane/ngx-datatable/blob/master/src/app/basic/row-grouping.component.ts\"\r\n            target=\"_blank\"\r\n          >\r\n            Source\r\n          </a>\r\n        </small>\r\n      </h3>\r\n      <ngx-datatable\r\n        #myTable\r\n        class=\"material expandable\"\r\n        [rows]=\"rows\"\r\n        [groupRowsBy]=\"'age'\"\r\n        [columnMode]=\"ColumnMode.force\"\r\n        [scrollbarH]=\"true\"\r\n        [headerHeight]=\"50\"\r\n        [footerHeight]=\"50\"\r\n        [rowHeight]=\"40\"\r\n        [limit]=\"4\"\r\n        [groupExpansionDefault]=\"true\"\r\n      >\r\n        <!-- Group Header Template -->\r\n        <ngx-datatable-group-header [rowHeight]=\"50\" #myGroupHeader (toggle)=\"onDetailToggle($event)\">\r\n          <ng-template let-group=\"group\" let-expanded=\"expanded\" ngx-datatable-group-header-template>\r\n            <div style=\"padding-left:5px;\">\r\n              <a\r\n                href=\"#\"\r\n                [class.datatable-icon-right]=\"!expanded\"\r\n                [class.datatable-icon-down]=\"expanded\"\r\n                title=\"Expand/Collapse Group\"\r\n                (click)=\"toggleExpandGroup(group)\"\r\n              >\r\n                <b>Age: {{ group.value[0].age }}</b>\r\n              </a>\r\n            </div>\r\n          </ng-template>\r\n        </ngx-datatable-group-header>\r\n\r\n        <!-- Row Column Template -->\r\n        <ngx-datatable-column name=\"Exp. Pay.\" prop=\"\" editable=\"true\" frozenLeft=\"True\">\r\n          <ng-template\r\n            ngx-datatable-cell-template\r\n            let-rowIndex=\"rowIndex\"\r\n            let-value=\"value\"\r\n            let-row=\"row\"\r\n            let-group=\"group\"\r\n          >\r\n            <label for=\"ep1{{ rowIndex }}\" class=\"datatable-checkbox\">\r\n              <input\r\n                type=\"checkbox\"\r\n                id=\"ep1{{ rowIndex }}\"\r\n                name=\"{{ rowIndex }}\"\r\n                value=\"0\"\r\n                class=\"expectedpayment\"\r\n                (change)=\"checkGroup($event, row, rowIndex, group)\"\r\n                [checked]=\"row.exppayyes === 1\"\r\n              />\r\n            </label>\r\n            <label for=\"ep2{{ rowIndex }}\" class=\"datatable-checkbox\">\r\n              <input\r\n                type=\"checkbox\"\r\n                id=\"ep2{{ rowIndex }}\"\r\n                name=\"{{ rowIndex }}\"\r\n                value=\"1\"\r\n                class=\"expectedpayment2\"\r\n                (change)=\"checkGroup($event, row, rowIndex, group)\"\r\n                [checked]=\"row.exppayno === 1\"\r\n              />\r\n            </label>\r\n            <label for=\"ep3{{ rowIndex }}\" class=\"datatable-checkbox\">\r\n              <input\r\n                type=\"checkbox\"\r\n                id=\"ep3{{ rowIndex }}\"\r\n                name=\"{{ rowIndex }}\"\r\n                value=\"2\"\r\n                class=\"expectedpayment3\"\r\n                (change)=\"checkGroup($event, row, rowIndex, group)\"\r\n                [checked]=\"row.exppaypending === 1\"\r\n              />\r\n            </label>\r\n          </ng-template>\r\n        </ngx-datatable-column>\r\n\r\n        <ngx-datatable-column name=\"Source\" prop=\"source\" editable=\"false\" frozenLeft=\"True\"></ngx-datatable-column>\r\n        <ngx-datatable-column name=\"Name\" prop=\"name\" editable=\"true\"></ngx-datatable-column>\r\n        <ngx-datatable-column name=\"Gender\" prop=\"gender\"></ngx-datatable-column>\r\n        <ngx-datatable-column name=\"Age\" prop=\"age\"></ngx-datatable-column>\r\n        <ngx-datatable-column name=\"Comment\" prop=\"comment\">\r\n          <ng-template\r\n            ngx-datatable-cell-template\r\n            let-rowIndex=\"rowIndex\"\r\n            let-value=\"value\"\r\n            let-row=\"row\"\r\n            let-group=\"group\"\r\n            let-rowHeight=\"rowHeight\"\r\n          >\r\n            <input\r\n              autofocus\r\n              (blur)=\"updateValue($event, 'comment', rowIndex)\"\r\n              type=\"text\"\r\n              name=\"comment\"\r\n              [value]=\"value\"\r\n            />\r\n          </ng-template>\r\n        </ngx-datatable-column>\r\n      </ngx-datatable>\r\n    </div>\r\n  `\r\n})\r\nexport class RowGroupingComponent {\r\n  @ViewChild('myTable') table: any;\r\n\r\n  funder = [];\r\n  calculated = [];\r\n  pending = [];\r\n  groups = [];\r\n\r\n  editing = {};\r\n  rows = [];\r\n\r\n  ColumnMode = ColumnMode;\r\n\r\n  constructor() {\r\n    this.fetch(data => {\r\n      this.rows = data;\r\n    });\r\n  }\r\n\r\n  fetch(cb) {\r\n    const req = new XMLHttpRequest();\r\n    req.open('GET', `assets/data/forRowGrouping.json`);\r\n\r\n    req.onload = () => {\r\n      cb(JSON.parse(req.response));\r\n    };\r\n\r\n    req.send();\r\n  }\r\n\r\n  getGroupRowHeight(group, rowHeight) {\r\n    let style = {};\r\n\r\n    style = {\r\n      height: group.length * 40 + 'px',\r\n      width: '100%'\r\n    };\r\n\r\n    return style;\r\n  }\r\n\r\n  checkGroup(event, row, rowIndex, group) {\r\n    let groupStatus = 'Pending';\r\n    let expectedPaymentDealtWith = true;\r\n\r\n    row.exppayyes = 0;\r\n    row.exppayno = 0;\r\n    row.exppaypending = 0;\r\n\r\n    if (event.target.checked) {\r\n      if (event.target.value === '0') {\r\n        // expected payment yes selected\r\n        row.exppayyes = 1;\r\n      } else if (event.target.value === '1') {\r\n        // expected payment yes selected\r\n        row.exppayno = 1;\r\n      } else if (event.target.value === '2') {\r\n        // expected payment yes selected\r\n        row.exppaypending = 1;\r\n      }\r\n    }\r\n\r\n    if (group.length === 2) {\r\n      // There are only 2 lines in a group\r\n      // tslint:disable-next-line:max-line-length\r\n      if (\r\n        ['Calculated', 'Funder'].indexOf(group[0].source) > -1 &&\r\n        ['Calculated', 'Funder'].indexOf(group[1].source) > -1\r\n      ) {\r\n        // Sources are funder and calculated\r\n        // tslint:disable-next-line:max-line-length\r\n        if (group[0].startdate === group[1].startdate && group[0].enddate === group[1].enddate) {\r\n          // Start dates and end dates match\r\n          for (let index = 0; index < group.length; index++) {\r\n            if (group[index].source !== row.source) {\r\n              if (event.target.value === '0') {\r\n                // expected payment yes selected\r\n                group[index].exppayyes = 0;\r\n                group[index].exppaypending = 0;\r\n                group[index].exppayno = 1;\r\n              }\r\n            }\r\n\r\n            if (group[index].exppayyes === 0 && group[index].exppayno === 0 && group[index].exppaypending === 0) {\r\n              expectedPaymentDealtWith = false;\r\n            }\r\n            console.log('expectedPaymentDealtWith', expectedPaymentDealtWith);\r\n          }\r\n        }\r\n      }\r\n    } else {\r\n      for (let index = 0; index < group.length; index++) {\r\n        if (group[index].exppayyes === 0 && group[index].exppayno === 0 && group[index].exppaypending === 0) {\r\n          expectedPaymentDealtWith = false;\r\n        }\r\n        console.log('expectedPaymentDealtWith', expectedPaymentDealtWith);\r\n      }\r\n    }\r\n\r\n    // check if there is a pending selected payment or a row that does not have any expected payment selected\r\n    if (\r\n      group.filter(rowFilter => rowFilter.exppaypending === 1).length === 0 &&\r\n      group.filter(rowFilter => rowFilter.exppaypending === 0 && rowFilter.exppayyes === 0 && rowFilter.exppayno === 0)\r\n        .length === 0\r\n    ) {\r\n      console.log('expected payment dealt with');\r\n\r\n      // check if can set the group status\r\n      const numberOfExpPayYes = group.filter(rowFilter => rowFilter.exppayyes === 1).length;\r\n      const numberOfSourceFunder = group.filter(rowFilter => rowFilter.exppayyes === 1 && rowFilter.source === 'Funder')\r\n        .length;\r\n      const numberOfSourceCalculated = group.filter(\r\n        rowFilter => rowFilter.exppayyes === 1 && rowFilter.source === 'Calculated'\r\n      ).length;\r\n      const numberOfSourceManual = group.filter(rowFilter => rowFilter.exppayyes === 1 && rowFilter.source === 'Manual')\r\n        .length;\r\n\r\n      console.log('numberOfExpPayYes', numberOfExpPayYes);\r\n      console.log('numberOfSourceFunder', numberOfSourceFunder);\r\n      console.log('numberOfSourceCalculated', numberOfSourceCalculated);\r\n      console.log('numberOfSourceManual', numberOfSourceManual);\r\n\r\n      if (numberOfExpPayYes > 0) {\r\n        if (numberOfExpPayYes === numberOfSourceFunder) {\r\n          groupStatus = 'Funder Selected';\r\n        } else if (numberOfExpPayYes === numberOfSourceCalculated) {\r\n          groupStatus = 'Calculated Selected';\r\n        } else if (numberOfExpPayYes === numberOfSourceManual) {\r\n          groupStatus = 'Manual Selected';\r\n        } else {\r\n          groupStatus = 'Hybrid Selected';\r\n        }\r\n      }\r\n    }\r\n\r\n    group[0].groupstatus = groupStatus;\r\n  }\r\n\r\n  updateValue(event, cell, rowIndex) {\r\n    this.editing[rowIndex + '-' + cell] = false;\r\n    this.rows[rowIndex][cell] = event.target.value;\r\n    this.rows = [...this.rows];\r\n  }\r\n\r\n  toggleExpandGroup(group) {\r\n    console.log('Toggled Expand Group!', group);\r\n    this.table.groupHeader.toggleExpandGroup(group);\r\n  }\r\n\r\n  onDetailToggle(event) {\r\n    console.log('Detail Toggled', event);\r\n  }\r\n}\r\n","import { Component } from '@angular/core';\r\nimport { ColumnMode, SelectionType } from 'projects/swimlane/ngx-datatable/src/public-api';\r\n\r\n@Component({\r\n  selector: 'single-selection-demo',\r\n  template: `\r\n    <div>\r\n      <h3>\r\n        Single Row Selection\r\n        <small>\r\n          <a\r\n            href=\"https://github.com/swimlane/ngx-datatable/blob/master/src/app/selection/selection-single.component.ts\"\r\n            target=\"_blank\"\r\n          >\r\n            Source\r\n          </a>\r\n        </small>\r\n      </h3>\r\n      <div style=\"float:left;width:75%\">\r\n        <div class=\"info\">\r\n          <p>This demonstrates a simple single selection table with the 3rd row selected by default.</p>\r\n        </div>\r\n\r\n        <ngx-datatable\r\n          class=\"material\"\r\n          [rows]=\"rows\"\r\n          [columnMode]=\"ColumnMode.force\"\r\n          [columns]=\"columns\"\r\n          [headerHeight]=\"50\"\r\n          [footerHeight]=\"50\"\r\n          rowHeight=\"auto\"\r\n          [limit]=\"5\"\r\n          [selected]=\"selected\"\r\n          [selectionType]=\"SelectionType.single\"\r\n          (activate)=\"onActivate($event)\"\r\n          (select)=\"onSelect($event)\"\r\n        >\r\n        </ngx-datatable>\r\n      </div>\r\n\r\n      <div class=\"selected-column\">\r\n        <h4>Selections</h4>\r\n        <ul>\r\n          <li *ngFor=\"let sel of selected\">\r\n            {{ sel.name }}\r\n          </li>\r\n          <li *ngIf=\"!selected.length\">No Selections</li>\r\n        </ul>\r\n      </div>\r\n    </div>\r\n  `\r\n})\r\nexport class SingleSelectionComponent {\r\n  rows = [];\r\n\r\n  selected = [];\r\n\r\n  columns: any[] = [{ prop: 'name' }, { name: 'Company' }, { name: 'Gender' }];\r\n\r\n  ColumnMode = ColumnMode;\r\n  SelectionType = SelectionType;\r\n\r\n  constructor() {\r\n    this.fetch(data => {\r\n      this.selected = [data[2]];\r\n      this.rows = data;\r\n    });\r\n  }\r\n\r\n  fetch(cb) {\r\n    const req = new XMLHttpRequest();\r\n    req.open('GET', `assets/data/company.json`);\r\n\r\n    req.onload = () => {\r\n      cb(JSON.parse(req.response));\r\n    };\r\n\r\n    req.send();\r\n  }\r\n\r\n  onSelect({ selected }) {\r\n    console.log('Select Event', selected, this.selected);\r\n  }\r\n\r\n  onActivate(event) {\r\n    console.log('Activate Event', event);\r\n  }\r\n}\r\n","import { Component, TemplateRef, ViewChild } from '@angular/core';\r\nimport { ColumnMode } from 'projects/swimlane/ngx-datatable/src/public-api';\r\n\r\n@Component({\r\n  selector: 'template-ref-demo',\r\n  template: `\r\n    <div>\r\n      <h3>\r\n        TemplateRef via Column Property\r\n        <small>\r\n          <a\r\n            href=\"https://github.com/swimlane/ngx-datatable/blob/master/src/app/templates/template-obj.component.ts\"\r\n            target=\"_blank\"\r\n          >\r\n            Source\r\n          </a>\r\n        </small>\r\n      </h3>\r\n      <ngx-datatable\r\n        class=\"material\"\r\n        [rows]=\"rows\"\r\n        [columns]=\"columns\"\r\n        [columnMode]=\"ColumnMode.force\"\r\n        [headerHeight]=\"50\"\r\n        [footerHeight]=\"50\"\r\n        rowHeight=\"auto\"\r\n      >\r\n      </ngx-datatable>\r\n\r\n      <ng-template #hdrTpl let-column=\"column\"> <strong>Fancy</strong>: {{ column.name }} !! </ng-template>\r\n\r\n      <ng-template #editTmpl let-row=\"row\" let-value=\"value\">\r\n        <img *ngIf=\"value === 'male'\" width=\"150\" src=\"https://media.giphy.com/media/I8nepxWwlEuqI/giphy.gif\" />\r\n        <img *ngIf=\"value === 'female'\" width=\"150\" src=\"https://media.giphy.com/media/sxSVG3XHf7yww/giphy.gif\" />\r\n      </ng-template>\r\n    </div>\r\n  `\r\n})\r\nexport class TemplateRefTemplatesComponent {\r\n  @ViewChild('editTmpl', { static: true }) editTmpl: TemplateRef<any>;\r\n  @ViewChild('hdrTpl', { static: true }) hdrTpl: TemplateRef<any>;\r\n\r\n  rows = [];\r\n  columns = [];\r\n\r\n  ColumnMode = ColumnMode;\r\n\r\n  constructor() {\r\n    this.fetch(data => {\r\n      this.rows = data.splice(0, 5);\r\n    });\r\n  }\r\n\r\n  ngOnInit() {\r\n    this.columns = [\r\n      {\r\n        cellTemplate: this.editTmpl,\r\n        headerTemplate: this.hdrTpl,\r\n        name: 'Gender'\r\n      }\r\n    ];\r\n  }\r\n\r\n  fetch(cb) {\r\n    const req = new XMLHttpRequest();\r\n    req.open('GET', `assets/data/company.json`);\r\n\r\n    req.onload = () => {\r\n      cb(JSON.parse(req.response));\r\n    };\r\n\r\n    req.send();\r\n  }\r\n}\r\n","/**\r\n * Converts strings from something to camel case\r\n * http://stackoverflow.com/questions/10425287/convert-dash-separated-string-to-camelcase\r\n */\r\nexport function camelCase(str: string): string {\r\n  // Replace special characters with a space\r\n  str = str.replace(/[^a-zA-Z0-9 ]/g, ' ');\r\n  // put a space before an uppercase letter\r\n  str = str.replace(/([a-z](?=[A-Z]))/g, '$1 ');\r\n\r\n  // Lower case first character and some other stuff\r\n  str = str\r\n    .replace(/([^a-zA-Z0-9 ])|^[0-9]+/g, '')\r\n    .trim()\r\n    .toLowerCase();\r\n\r\n  // uppercase characters preceded by a space or number\r\n  str = str.replace(/([ 0-9]+)([a-zA-Z])/g, function (a, b, c) {\r\n    return b.trim() + c.toUpperCase();\r\n  });\r\n\r\n  return str;\r\n}\r\n\r\n/**\r\n * Converts strings from camel case to words\r\n * http://stackoverflow.com/questions/7225407/convert-camelcasetext-to-camel-case-text\r\n */\r\nexport function deCamelCase(str: string): string {\r\n  return str.replace(/([A-Z])/g, match => ` ${match}`).replace(/^./, match => match.toUpperCase());\r\n}\r\n","import { Input, Output, EventEmitter, Directive, TemplateRef, ContentChild } from '@angular/core';\r\nimport { DatatableGroupHeaderTemplateDirective } from './body-group-header-template.directive';\r\n\r\n@Directive({ selector: 'ngx-datatable-group-header' })\r\nexport class DatatableGroupHeaderDirective {\r\n  /**\r\n   * Row height is required when virtual scroll is enabled.\r\n   */\r\n  @Input() rowHeight: number | ((group?: any, index?: number) => number) = 0;\r\n\r\n  @Input('template')\r\n  _templateInput: TemplateRef<any>;\r\n\r\n  @ContentChild(DatatableGroupHeaderTemplateDirective, { read: TemplateRef, static: true })\r\n  _templateQuery: TemplateRef<any>;\r\n\r\n  get template(): TemplateRef<any> {\r\n    return this._templateInput || this._templateQuery;\r\n  }\r\n\r\n  /**\r\n   * Track toggling of group visibility\r\n   */\r\n  @Output() toggle: EventEmitter<any> = new EventEmitter();\r\n\r\n  /**\r\n   * Toggle the expansion of a group\r\n   */\r\n  toggleExpandGroup(group: any): void {\r\n    this.toggle.emit({\r\n      type: 'group',\r\n      value: group\r\n    });\r\n  }\r\n\r\n  /**\r\n   * Expand all groups\r\n   */\r\n  expandAllGroups(): void {\r\n    this.toggle.emit({\r\n      type: 'all',\r\n      value: true\r\n    });\r\n  }\r\n\r\n  /**\r\n   * Collapse all groups\r\n   */\r\n  collapseAllGroups(): void {\r\n    this.toggle.emit({\r\n      type: 'all',\r\n      value: false\r\n    });\r\n  }\r\n}\r\n","import { Inject, Injectable } from '@angular/core';\r\nimport { DOCUMENT } from '@angular/common';\r\n\r\n/**\r\n * Gets the width of the scrollbar.  Nesc for windows\r\n * http://stackoverflow.com/a/13382873/888165\r\n */\r\n@Injectable()\r\nexport class ScrollbarHelper {\r\n  width: number = this.getWidth();\r\n\r\n  constructor(@Inject(DOCUMENT) private document: any) {}\r\n\r\n  getWidth(): number {\r\n    const outer = this.document.createElement('div');\r\n    outer.style.visibility = 'hidden';\r\n    outer.style.width = '100px';\r\n    outer.style.msOverflowStyle = 'scrollbar';\r\n    this.document.body.appendChild(outer);\r\n\r\n    const widthNoScroll = outer.offsetWidth;\r\n    outer.style.overflow = 'scroll';\r\n\r\n    const inner = this.document.createElement('div');\r\n    inner.style.width = '100%';\r\n    outer.appendChild(inner);\r\n\r\n    const widthWithScroll = inner.offsetWidth;\r\n    outer.parentNode.removeChild(outer);\r\n\r\n    return widthNoScroll - widthWithScroll;\r\n  }\r\n}\r\n","import { Component } from '@angular/core';\r\nimport { ColumnMode } from 'projects/swimlane/ngx-datatable/src/public-api';\r\n\r\n@Component({\r\n  selector: 'footer-demo',\r\n  template: `\r\n    <div>\r\n      <h3>\r\n        Custom Footer\r\n        <small>\r\n          <a\r\n            href=\"https://github.com/swimlane/ngx-datatable/blob/master/src/app/basic/footer.component.ts\"\r\n            target=\"_blank\"\r\n          >\r\n            Source\r\n          </a>\r\n        </small>\r\n      </h3>\r\n      <ngx-datatable\r\n        class=\"material\"\r\n        [rows]=\"rows\"\r\n        [columns]=\"columns\"\r\n        [columnMode]=\"ColumnMode.force\"\r\n        [footerHeight]=\"100\"\r\n        [headerHeight]=\"50\"\r\n        rowHeight=\"auto\"\r\n      >\r\n        <ngx-datatable-footer *ngIf=\"true\">\r\n          <ng-template\r\n            ngx-datatable-footer-template\r\n            let-rowCount=\"rowCount\"\r\n            let-pageSize=\"pageSize\"\r\n            let-selectedCount=\"selectedCount\"\r\n            let-curPage=\"curPage\"\r\n            let-offset=\"offset\"\r\n          >\r\n            <div style=\"padding: 5px 10px\">\r\n              <div><strong>Summary</strong>: Gender: Female</div>\r\n              <hr style=\"width:100%\" />\r\n              <div>Rows: {{ rowCount }} | Size: {{ pageSize }} | Current: {{ curPage }} | Offset: {{ offset }}</div>\r\n            </div>\r\n          </ng-template>\r\n        </ngx-datatable-footer>\r\n      </ngx-datatable>\r\n    </div>\r\n  `\r\n})\r\nexport class FooterDemoComponent {\r\n  rows = [];\r\n\r\n  columns = [{ prop: 'name' }, { name: 'Gender' }, { name: 'Company' }];\r\n\r\n  ColumnMode = ColumnMode;\r\n\r\n  constructor() {\r\n    this.fetch(data => {\r\n      this.rows = data.splice(0, 5);\r\n    });\r\n  }\r\n\r\n  fetch(cb) {\r\n    const req = new XMLHttpRequest();\r\n    req.open('GET', `assets/data/company.json`);\r\n\r\n    req.onload = () => {\r\n      cb(JSON.parse(req.response));\r\n    };\r\n\r\n    req.send();\r\n  }\r\n}\r\n","// This file can be replaced during build by using the `fileReplacements` array.\r\n// `ng build --prod` replaces `environment.ts` with `environment.prod.ts`.\r\n// The list of file replacements can be found in `angular.json`.\r\n\r\nexport const environment = {\r\n  production: false\r\n};\r\n\r\n/*\r\n * For easier debugging in development mode, you can import the following file\r\n * to ignore zone related error stack frames such as `zone.run`, `zoneDelegate.invokeTask`.\r\n *\r\n * This import should be commented out in production mode because it will have a negative impact\r\n * on performance if an error is thrown.\r\n */\r\n// import 'zone.js/dist/zone-error';  // Included with Angular CLI.\r\n","import { Component } from '@angular/core';\r\nimport { ColumnMode } from 'projects/swimlane/ngx-datatable/src/public-api';\r\n\r\n@Component({\r\n  selector: 'dynamic-height-demo',\r\n  template: `\r\n    <div>\r\n      <h3>\r\n        Dynamic Height w/ Virtual Scrolling\r\n        <small>\r\n          <a\r\n            href=\"https://github.com/swimlane/ngx-datatable/blob/master/src/app/basic/dynamic-height.component.ts\"\r\n            target=\"_blank\"\r\n          >\r\n            Source\r\n          </a>\r\n        </small>\r\n      </h3>\r\n      <ngx-datatable\r\n        class=\"material\"\r\n        [rows]=\"rows\"\r\n        [columnMode]=\"ColumnMode.force\"\r\n        [headerHeight]=\"50\"\r\n        [footerHeight]=\"50\"\r\n        [rowHeight]=\"getRowHeight\"\r\n        [scrollbarV]=\"true\"\r\n      >\r\n        <ngx-datatable-column name=\"Name\"></ngx-datatable-column>\r\n        <ngx-datatable-column name=\"Gender\"></ngx-datatable-column>\r\n        <ngx-datatable-column name=\"Row Height\" prop=\"height\"></ngx-datatable-column>\r\n      </ngx-datatable>\r\n    </div>\r\n  `\r\n})\r\nexport class DynamicHeightComponent {\r\n  rows = [];\r\n  expanded = {};\r\n  timeout: any;\r\n\r\n  ColumnMode = ColumnMode;\r\n\r\n  constructor() {\r\n    this.fetch(data => {\r\n      this.rows = data;\r\n    });\r\n  }\r\n\r\n  fetch(cb) {\r\n    const req = new XMLHttpRequest();\r\n    req.open('GET', `assets/data/100k.json`);\r\n\r\n    req.onload = () => {\r\n      const rows = JSON.parse(req.response).splice(0, 100);\r\n\r\n      for (const row of rows) {\r\n        row.height = Math.floor(Math.random() * 80) + 50;\r\n      }\r\n\r\n      cb(rows);\r\n    };\r\n\r\n    req.send();\r\n  }\r\n\r\n  getRowHeight(row) {\r\n    console.log('ROW', row);\r\n    if (!row) {\r\n      return 50;\r\n    }\r\n    if (row.height === undefined) {\r\n      return 50;\r\n    }\r\n    return row.height;\r\n  }\r\n}\r\n","import {\r\n  Component,\r\n  Input,\r\n  HostBinding,\r\n  ElementRef,\r\n  Output,\r\n  KeyValueDiffers,\r\n  KeyValueDiffer,\r\n  EventEmitter,\r\n  HostListener,\r\n  ChangeDetectionStrategy,\r\n  ChangeDetectorRef,\r\n  DoCheck,\r\n  SkipSelf\r\n} from '@angular/core';\r\n\r\nimport { TreeStatus } from './body-cell.component';\r\nimport { columnsByPin, columnGroupWidths, columnsByPinArr } from '../../utils/column';\r\nimport { Keys } from '../../utils/keys';\r\nimport { ScrollbarHelper } from '../../services/scrollbar-helper.service';\r\nimport { translateXY } from '../../utils/translate';\r\n\r\n@Component({\r\n  selector: 'datatable-body-row',\r\n  changeDetection: ChangeDetectionStrategy.OnPush,\r\n  template: `\r\n    <div\r\n      *ngFor=\"let colGroup of _columnsByPin; let i = index; trackBy: trackByGroups\"\r\n      class=\"datatable-row-{{ colGroup.type }} datatable-row-group\"\r\n      [ngStyle]=\"_groupStyles[colGroup.type]\"\r\n    >\r\n      <datatable-body-cell\r\n        role=\"cell\"\r\n        *ngFor=\"let column of colGroup.columns; let ii = index; trackBy: columnTrackingFn\"\r\n        tabindex=\"-1\"\r\n        [row]=\"row\"\r\n        [group]=\"group\"\r\n        [expanded]=\"expanded\"\r\n        [isSelected]=\"isSelected\"\r\n        [rowIndex]=\"rowIndex\"\r\n        [column]=\"column\"\r\n        [rowHeight]=\"rowHeight\"\r\n        [selectCheck]=\"selectCheck\"\r\n        [displayCheck]=\"displayCheck\"\r\n        [treeStatus]=\"treeStatus\"\r\n        (activate)=\"onActivate($event, ii)\"\r\n        (treeAction)=\"onTreeAction()\"\r\n      >\r\n      </datatable-body-cell>\r\n    </div>\r\n  `\r\n})\r\nexport class DataTableBodyRowComponent implements DoCheck {\r\n  @Input() set columns(val: any[]) {\r\n    this._columns = val;\r\n    this.recalculateColumns(val);\r\n    this.buildStylesByGroup();\r\n  }\r\n\r\n  get columns(): any[] {\r\n    return this._columns;\r\n  }\r\n\r\n  @Input() set innerWidth(val: number) {\r\n    if (this._columns) {\r\n      const colByPin = columnsByPin(this._columns);\r\n      this._columnGroupWidths = columnGroupWidths(colByPin, this._columns);\r\n    }\r\n\r\n    this._innerWidth = val;\r\n    this.recalculateColumns();\r\n    this.buildStylesByGroup();\r\n  }\r\n\r\n  get innerWidth(): number {\r\n    return this._innerWidth;\r\n  }\r\n\r\n  @Input() expanded: boolean;\r\n  @Input() rowClass: any;\r\n  @Input() row: any;\r\n  @Input() group: any;\r\n  @Input() isSelected: boolean;\r\n  @Input() rowIndex: number;\r\n  @Input() selectCheck: any;\r\n  @Input() displayCheck: any;\r\n  @Input() treeStatus: TreeStatus = 'collapsed';\r\n\r\n  @Input()\r\n  set offsetX(val: number) {\r\n    this._offsetX = val;\r\n    this.buildStylesByGroup();\r\n  }\r\n  get offsetX() {\r\n    return this._offsetX;\r\n  }\r\n\r\n  @HostBinding('class')\r\n  get cssClass() {\r\n    let cls = 'datatable-body-row';\r\n    if (this.isSelected) {\r\n      cls += ' active';\r\n    }\r\n    if (this.rowIndex % 2 !== 0) {\r\n      cls += ' datatable-row-odd';\r\n    }\r\n    if (this.rowIndex % 2 === 0) {\r\n      cls += ' datatable-row-even';\r\n    }\r\n\r\n    if (this.rowClass) {\r\n      const res = this.rowClass(this.row);\r\n      if (typeof res === 'string') {\r\n        cls += ` ${res}`;\r\n      } else if (typeof res === 'object') {\r\n        const keys = Object.keys(res);\r\n        for (const k of keys) {\r\n          if (res[k] === true) {\r\n            cls += ` ${k}`;\r\n          }\r\n        }\r\n      }\r\n    }\r\n\r\n    return cls;\r\n  }\r\n\r\n  @HostBinding('style.height.px')\r\n  @Input()\r\n  rowHeight: number;\r\n\r\n  @HostBinding('style.width.px')\r\n  get columnsTotalWidths(): string {\r\n    return this._columnGroupWidths.total;\r\n  }\r\n\r\n  @Output() activate: EventEmitter<any> = new EventEmitter();\r\n  @Output() treeAction: EventEmitter<any> = new EventEmitter();\r\n\r\n  _element: any;\r\n  _columnGroupWidths: any;\r\n  _columnsByPin: any;\r\n  _offsetX: number;\r\n  _columns: any[];\r\n  _innerWidth: number;\r\n  _groupStyles: { [prop: string]: {} } = {\r\n    left: {},\r\n    center: {},\r\n    right: {}\r\n  };\r\n\r\n  private _rowDiffer: KeyValueDiffer<{}, {}>;\r\n\r\n  constructor(\r\n    private differs: KeyValueDiffers,\r\n    @SkipSelf() private scrollbarHelper: ScrollbarHelper,\r\n    private cd: ChangeDetectorRef,\r\n    element: ElementRef\r\n  ) {\r\n    this._element = element.nativeElement;\r\n    this._rowDiffer = differs.find({}).create();\r\n  }\r\n\r\n  ngDoCheck(): void {\r\n    if (this._rowDiffer.diff(this.row)) {\r\n      this.cd.markForCheck();\r\n    }\r\n  }\r\n\r\n  trackByGroups(index: number, colGroup: any): any {\r\n    return colGroup.type;\r\n  }\r\n\r\n  columnTrackingFn(index: number, column: any): any {\r\n    return column.$$id;\r\n  }\r\n\r\n  buildStylesByGroup() {\r\n    this._groupStyles.left = this.calcStylesByGroup('left');\r\n    this._groupStyles.center = this.calcStylesByGroup('center');\r\n    this._groupStyles.right = this.calcStylesByGroup('right');\r\n    this.cd.markForCheck();\r\n  }\r\n\r\n  calcStylesByGroup(group: string) {\r\n    const widths = this._columnGroupWidths;\r\n    const offsetX = this.offsetX;\r\n\r\n    const styles = {\r\n      width: `${widths[group]}px`\r\n    };\r\n\r\n    if (group === 'left') {\r\n      translateXY(styles, offsetX, 0);\r\n    } else if (group === 'right') {\r\n      const bodyWidth = parseInt(this.innerWidth + '', 0);\r\n      const totalDiff = widths.total - bodyWidth;\r\n      const offsetDiff = totalDiff - offsetX;\r\n      const offset = (offsetDiff + this.scrollbarHelper.width) * -1;\r\n      translateXY(styles, offset, 0);\r\n    }\r\n\r\n    return styles;\r\n  }\r\n\r\n  onActivate(event: any, index: number): void {\r\n    event.cellIndex = index;\r\n    event.rowElement = this._element;\r\n    this.activate.emit(event);\r\n  }\r\n\r\n  @HostListener('keydown', ['$event'])\r\n  onKeyDown(event: KeyboardEvent): void {\r\n    const keyCode = event.keyCode;\r\n    const isTargetRow = event.target === this._element;\r\n\r\n    const isAction =\r\n      keyCode === Keys.return ||\r\n      keyCode === Keys.down ||\r\n      keyCode === Keys.up ||\r\n      keyCode === Keys.left ||\r\n      keyCode === Keys.right;\r\n\r\n    if (isAction && isTargetRow) {\r\n      event.preventDefault();\r\n      event.stopPropagation();\r\n\r\n      this.activate.emit({\r\n        type: 'keydown',\r\n        event,\r\n        row: this.row,\r\n        rowElement: this._element\r\n      });\r\n    }\r\n  }\r\n\r\n  @HostListener('mouseenter', ['$event'])\r\n  onMouseenter(event: any): void {\r\n    this.activate.emit({\r\n      type: 'mouseenter',\r\n      event,\r\n      row: this.row,\r\n      rowElement: this._element\r\n    });\r\n  }\r\n\r\n  recalculateColumns(val: any[] = this.columns): void {\r\n    this._columns = val;\r\n    const colsByPin = columnsByPin(this._columns);\r\n    this._columnsByPin = columnsByPinArr(this._columns);\r\n    this._columnGroupWidths = columnGroupWidths(colsByPin, this._columns);\r\n  }\r\n\r\n  onTreeAction() {\r\n    this.treeAction.emit();\r\n  }\r\n}\r\n","import { Component, Input, Output, EventEmitter, ChangeDetectionStrategy } from '@angular/core';\r\n\r\n@Component({\r\n  selector: 'datatable-pager',\r\n  template: `\r\n    <ul class=\"pager\">\r\n      <li [class.disabled]=\"!canPrevious()\">\r\n        <a role=\"button\" aria-label=\"go to first page\" href=\"javascript:void(0)\" (click)=\"selectPage(1)\">\r\n          <i class=\"{{ pagerPreviousIcon }}\"></i>\r\n        </a>\r\n      </li>\r\n      <li [class.disabled]=\"!canPrevious()\">\r\n        <a role=\"button\" aria-label=\"go to previous page\" href=\"javascript:void(0)\" (click)=\"prevPage()\">\r\n          <i class=\"{{ pagerLeftArrowIcon }}\"></i>\r\n        </a>\r\n      </li>\r\n      <li\r\n        role=\"button\"\r\n        [attr.aria-label]=\"'page ' + pg.number\"\r\n        class=\"pages\"\r\n        *ngFor=\"let pg of pages\"\r\n        [class.active]=\"pg.number === page\"\r\n      >\r\n        <a href=\"javascript:void(0)\" (click)=\"selectPage(pg.number)\">\r\n          {{ pg.text }}\r\n        </a>\r\n      </li>\r\n      <li [class.disabled]=\"!canNext()\">\r\n        <a role=\"button\" aria-label=\"go to next page\" href=\"javascript:void(0)\" (click)=\"nextPage()\">\r\n          <i class=\"{{ pagerRightArrowIcon }}\"></i>\r\n        </a>\r\n      </li>\r\n      <li *ngIf=\"showLastPage\" [class.disabled]=\"!canNext()\">\r\n        <a role=\"button\" aria-label=\"go to last page\" href=\"javascript:void(0)\" (click)=\"selectPage(totalPages)\">\r\n          <i class=\"{{ pagerNextIcon }}\"></i>\r\n        </a>\r\n      </li>\r\n    </ul>\r\n  `,\r\n  host: {\r\n    class: 'datatable-pager'\r\n  },\r\n  changeDetection: ChangeDetectionStrategy.OnPush\r\n})\r\nexport class DataTablePagerComponent {\r\n  @Input() pagerLeftArrowIcon: string;\r\n  @Input() pagerRightArrowIcon: string;\r\n  @Input() pagerPreviousIcon: string;\r\n  @Input() pagerNextIcon: string;\r\n  @Input() showLastPage = true;\r\n\r\n  @Input()\r\n  set size(val: number) {\r\n    this._size = val;\r\n    this.pages = this.calcPages();\r\n  }\r\n\r\n  get size(): number {\r\n    return this._size;\r\n  }\r\n\r\n  @Input()\r\n  set count(val: number) {\r\n    this._count = val;\r\n    this.pages = this.calcPages();\r\n  }\r\n\r\n  get count(): number {\r\n    return this._count;\r\n  }\r\n\r\n  @Input()\r\n  set page(val: number) {\r\n    this._page = val;\r\n    this.pages = this.calcPages();\r\n  }\r\n\r\n  get page(): number {\r\n    return this._page;\r\n  }\r\n\r\n  get totalPages(): number {\r\n    const count = this.size < 1 ? 1 : Math.ceil(this.count / this.size);\r\n    return Math.max(count || 0, 1);\r\n  }\r\n\r\n  @Output() change: EventEmitter<any> = new EventEmitter();\r\n\r\n  _count: number = 0;\r\n  _page: number = 1;\r\n  _size: number = 0;\r\n  pages: any;\r\n\r\n  canPrevious(): boolean {\r\n    return this.page > 1;\r\n  }\r\n\r\n  canNext(): boolean {\r\n    return this.page < this.totalPages;\r\n  }\r\n\r\n  prevPage(): void {\r\n    this.selectPage(this.page - 1);\r\n  }\r\n\r\n  nextPage(): void {\r\n    this.selectPage(this.page + 1);\r\n  }\r\n\r\n  selectPage(page: number): void {\r\n    if (page > 0 && page <= this.totalPages && page !== this.page) {\r\n      this.page = page;\r\n\r\n      this.change.emit({\r\n        page\r\n      });\r\n    }\r\n  }\r\n\r\n  calcPages(page?: number): any[] {\r\n    const pages = [];\r\n    let startPage = 1;\r\n    let endPage = this.totalPages;\r\n    const maxSize = 5;\r\n    const isMaxSized = maxSize < this.totalPages;\r\n\r\n    page = page || this.page;\r\n\r\n    if (isMaxSized) {\r\n      startPage = page - Math.floor(maxSize / 2);\r\n      endPage = page + Math.floor(maxSize / 2);\r\n\r\n      if (startPage < 1) {\r\n        startPage = 1;\r\n        endPage = Math.min(startPage + maxSize - 1, this.totalPages);\r\n      } else if (endPage > this.totalPages) {\r\n        startPage = Math.max(this.totalPages - maxSize + 1, 1);\r\n        endPage = this.totalPages;\r\n      }\r\n    }\r\n\r\n    for (let num = startPage; num <= endPage; num++) {\r\n      pages.push({\r\n        number: num,\r\n        text: <string>(<any>num)\r\n      });\r\n    }\r\n\r\n    return pages;\r\n  }\r\n}\r\n","import { Component } from '@angular/core';\r\nimport { ColumnMode } from 'projects/swimlane/ngx-datatable/src/public-api';\r\n\r\n@Component({\r\n  selector: 'column-pinning-demo',\r\n  template: `\r\n    <div>\r\n      <h3>\r\n        Column Pinning\r\n        <small>\r\n          <a\r\n            href=\"https://github.com/swimlane/ngx-datatable/blob/master/src/app/columns/pinning.component.ts\"\r\n            target=\"_blank\"\r\n          >\r\n            Source\r\n          </a>\r\n        </small>\r\n      </h3>\r\n      <ngx-datatable\r\n        class=\"material\"\r\n        [columnMode]=\"ColumnMode.force\"\r\n        [headerHeight]=\"50\"\r\n        [footerHeight]=\"50\"\r\n        [rowHeight]=\"50\"\r\n        [scrollbarV]=\"true\"\r\n        [scrollbarH]=\"true\"\r\n        [rows]=\"rows\"\r\n      >\r\n        <ngx-datatable-column name=\"Name\" [width]=\"300\" [frozenLeft]=\"true\"> </ngx-datatable-column>\r\n        <ngx-datatable-column name=\"Gender\"> </ngx-datatable-column>\r\n        <ngx-datatable-column name=\"Age\"> </ngx-datatable-column>\r\n        <ngx-datatable-column name=\"City\" [width]=\"150\" prop=\"address.city\"> </ngx-datatable-column>\r\n        <ngx-datatable-column name=\"State\" [width]=\"300\" prop=\"address.state\" [frozenRight]=\"true\">\r\n        </ngx-datatable-column>\r\n      </ngx-datatable>\r\n    </div>\r\n  `\r\n})\r\nexport class ColumnPinningComponent {\r\n  rows = [];\r\n\r\n  ColumnMode = ColumnMode;\r\n\r\n  constructor() {\r\n    this.fetch(data => {\r\n      this.rows = data;\r\n    });\r\n  }\r\n\r\n  fetch(cb) {\r\n    const req = new XMLHttpRequest();\r\n    req.open('GET', `assets/data/100k.json`);\r\n\r\n    req.onload = () => {\r\n      cb(JSON.parse(req.response));\r\n    };\r\n\r\n    req.send();\r\n  }\r\n}\r\n","import { Component, Input, Output, EventEmitter, ChangeDetectionStrategy } from '@angular/core';\r\nimport { SelectionType } from '../../types/selection.type';\r\nimport { selectRowsBetween, selectRows } from '../../utils/selection';\r\nimport { Keys } from '../../utils/keys';\r\n\r\nexport interface Model {\r\n  type: string;\r\n  event: MouseEvent | KeyboardEvent;\r\n  row: any;\r\n  rowElement: any;\r\n  cellElement: any;\r\n  cellIndex: number;\r\n}\r\n\r\n@Component({\r\n  selector: 'datatable-selection',\r\n  template: ` <ng-content></ng-content> `,\r\n  changeDetection: ChangeDetectionStrategy.OnPush\r\n})\r\nexport class DataTableSelectionComponent {\r\n  @Input() rows: any[];\r\n  @Input() selected: any[];\r\n  @Input() selectEnabled: boolean;\r\n  @Input() selectionType: SelectionType;\r\n  @Input() rowIdentity: any;\r\n  @Input() selectCheck: any;\r\n\r\n  @Output() activate: EventEmitter<any> = new EventEmitter();\r\n  @Output() select: EventEmitter<any> = new EventEmitter();\r\n\r\n  prevIndex: number;\r\n\r\n  selectRow(event: KeyboardEvent | MouseEvent, index: number, row: any): void {\r\n    if (!this.selectEnabled) return;\r\n\r\n    if (event instanceof MouseEvent && event.type === 'click' && event.composedPath()) {\r\n      const path = event.composedPath();\r\n      for (let i = 0; !path[i]['localName'].startsWith('datatable-') && i < path.length; i++) {\r\n        if (path[i]['localName'] === 'button' || path[i]['localName'] === 'a') {\r\n          return;\r\n        }\r\n      }\r\n    }\r\n\r\n    const chkbox = this.selectionType === SelectionType.checkbox;\r\n    const multi = this.selectionType === SelectionType.multi;\r\n    const multiClick = this.selectionType === SelectionType.multiClick;\r\n    let selected: any[] = [];\r\n\r\n    if (multi || chkbox || multiClick) {\r\n      if (event.shiftKey) {\r\n        selected = selectRowsBetween([], this.rows, index, this.prevIndex, this.getRowSelectedIdx.bind(this));\r\n      } else if (event.ctrlKey || event.metaKey || multiClick || chkbox) {\r\n        selected = selectRows([...this.selected], row, this.getRowSelectedIdx.bind(this));\r\n      } else {\r\n        selected = selectRows([], row, this.getRowSelectedIdx.bind(this));\r\n      }\r\n    } else {\r\n      selected = selectRows([], row, this.getRowSelectedIdx.bind(this));\r\n    }\r\n\r\n    if (typeof this.selectCheck === 'function') {\r\n      selected = selected.filter(this.selectCheck.bind(this));\r\n    }\r\n\r\n    this.selected.splice(0, this.selected.length);\r\n    this.selected.push(...selected);\r\n\r\n    this.prevIndex = index;\r\n\r\n    this.select.emit({\r\n      selected\r\n    });\r\n  }\r\n\r\n  onActivate(model: Model, index: number): void {\r\n    const { type, event, row } = model;\r\n    const chkbox = this.selectionType === SelectionType.checkbox;\r\n    const select = (!chkbox && (type === 'click' || type === 'dblclick')) || (chkbox && type === 'checkbox');\r\n\r\n    if (select) {\r\n      this.selectRow(event, index, row);\r\n    } else if (type === 'keydown') {\r\n      if ((<KeyboardEvent>event).keyCode === Keys.return) {\r\n        this.selectRow(event, index, row);\r\n      } else {\r\n        this.onKeyboardFocus(model);\r\n      }\r\n    }\r\n    this.activate.emit(model);\r\n  }\r\n\r\n  onKeyboardFocus(model: Model): void {\r\n    const { keyCode } = <KeyboardEvent>model.event;\r\n    const shouldFocus = keyCode === Keys.up || keyCode === Keys.down || keyCode === Keys.right || keyCode === Keys.left;\r\n\r\n    if (shouldFocus) {\r\n      const isCellSelection = this.selectionType === SelectionType.cell;\r\n\r\n      if (!model.cellElement || !isCellSelection) {\r\n        this.focusRow(model.rowElement, keyCode);\r\n      } else if (isCellSelection) {\r\n        this.focusCell(model.cellElement, model.rowElement, keyCode, model.cellIndex);\r\n      }\r\n    }\r\n  }\r\n\r\n  focusRow(rowElement: any, keyCode: number): void {\r\n    const nextRowElement = this.getPrevNextRow(rowElement, keyCode);\r\n    if (nextRowElement) nextRowElement.focus();\r\n  }\r\n\r\n  getPrevNextRow(rowElement: any, keyCode: number): any {\r\n    const parentElement = rowElement.parentElement;\r\n\r\n    if (parentElement) {\r\n      let focusElement: HTMLElement;\r\n      if (keyCode === Keys.up) {\r\n        focusElement = parentElement.previousElementSibling;\r\n      } else if (keyCode === Keys.down) {\r\n        focusElement = parentElement.nextElementSibling;\r\n      }\r\n\r\n      if (focusElement && focusElement.children.length) {\r\n        return focusElement.children[0];\r\n      }\r\n    }\r\n  }\r\n\r\n  focusCell(cellElement: any, rowElement: any, keyCode: number, cellIndex: number): void {\r\n    let nextCellElement: HTMLElement;\r\n\r\n    if (keyCode === Keys.left) {\r\n      nextCellElement = cellElement.previousElementSibling;\r\n    } else if (keyCode === Keys.right) {\r\n      nextCellElement = cellElement.nextElementSibling;\r\n    } else if (keyCode === Keys.up || keyCode === Keys.down) {\r\n      const nextRowElement = this.getPrevNextRow(rowElement, keyCode);\r\n      if (nextRowElement) {\r\n        const children = nextRowElement.getElementsByClassName('datatable-body-cell');\r\n        if (children.length) nextCellElement = children[cellIndex];\r\n      }\r\n    }\r\n\r\n    if (nextCellElement) nextCellElement.focus();\r\n  }\r\n\r\n  getRowSelected(row: any): boolean {\r\n    return this.getRowSelectedIdx(row, this.selected) > -1;\r\n  }\r\n\r\n  getRowSelectedIdx(row: any, selected: any[]): number {\r\n    if (!selected || !selected.length) return -1;\r\n\r\n    const rowId = this.rowIdentity(row);\r\n    return selected.findIndex(r => {\r\n      const id = this.rowIdentity(r);\r\n      return id === rowId;\r\n    });\r\n  }\r\n}\r\n","import { Component } from '@angular/core';\r\nimport { ColumnMode } from 'projects/swimlane/ngx-datatable/src/public-api';\r\n\r\n@Component({\r\n  selector: 'summary-row-inline-html',\r\n  template: `\r\n    <div>\r\n      <h3>\r\n        Inline HTML template\r\n        <small>\r\n          <a\r\n            href=\"https://github.com/swimlane/ngx-datatable/blob/master/src/app/summary/summary-row-inline-html.component.ts\"\r\n          >\r\n            Source\r\n          </a>\r\n        </small>\r\n      </h3>\r\n      <ngx-datatable\r\n        class=\"material\"\r\n        [summaryRow]=\"enableSummary\"\r\n        [summaryPosition]=\"summaryPosition\"\r\n        [summaryHeight]=\"100\"\r\n        [columnMode]=\"ColumnMode.force\"\r\n        [headerHeight]=\"50\"\r\n        rowHeight=\"auto\"\r\n        [rows]=\"rows\"\r\n      >\r\n        <ngx-datatable-column prop=\"name\" [summaryTemplate]=\"nameSummaryCell\"></ngx-datatable-column>\r\n        <ngx-datatable-column name=\"Gender\" [summaryFunc]=\"summaryForGender\"></ngx-datatable-column>\r\n        <ngx-datatable-column prop=\"age\" [summaryFunc]=\"avgAge\"></ngx-datatable-column>\r\n      </ngx-datatable>\r\n      <ng-template #nameSummaryCell>\r\n        <div class=\"name-container\">\r\n          <div class=\"chip\" *ngFor=\"let name of getNames()\">\r\n            <span class=\"chip-content\">{{ name }}</span>\r\n          </div>\r\n        </div>\r\n      </ng-template>\r\n    </div>\r\n  `\r\n})\r\nexport class SummaryRowInlineHtmlComponent {\r\n  rows = [];\r\n\r\n  enableSummary = true;\r\n  summaryPosition = 'top';\r\n\r\n  ColumnMode = ColumnMode;\r\n\r\n  constructor() {\r\n    this.fetch(data => {\r\n      this.rows = data.splice(0, 5);\r\n    });\r\n  }\r\n\r\n  fetch(cb) {\r\n    const req = new XMLHttpRequest();\r\n    req.open('GET', `assets/data/company.json`);\r\n\r\n    req.onload = () => {\r\n      cb(JSON.parse(req.response));\r\n    };\r\n\r\n    req.send();\r\n  }\r\n\r\n  getNames(): string[] {\r\n    return this.rows.map(row => row.name).map(fullName => fullName.split(' ')[1]);\r\n  }\r\n\r\n  summaryForGender(cells: string[]) {\r\n    const males = cells.filter(cell => cell === 'male').length;\r\n    const females = cells.filter(cell => cell === 'female').length;\r\n\r\n    return `males: ${males}, females: ${females}`;\r\n  }\r\n\r\n  avgAge(cells: number[]): number {\r\n    const filteredCells = cells.filter(cell => !!cell);\r\n    return filteredCells.reduce((sum, cell) => (sum += cell), 0) / filteredCells.length;\r\n  }\r\n}\r\n","import { Component } from '@angular/core';\r\nimport { ColumnMode } from 'projects/swimlane/ngx-datatable/src/public-api';\r\n\r\n@Component({\r\n  selector: 'tabs-demo',\r\n  template: `\r\n    <div>\r\n      <h3>\r\n        Hidden By Default\r\n        <small>\r\n          <a\r\n            href=\"https://github.com/swimlane/ngx-datatable/blob/master/src/app/basic/tabs.component.ts\"\r\n            target=\"_blank\"\r\n          >\r\n            Source\r\n          </a>\r\n        </small>\r\n      </h3>\r\n\r\n      <div style=\"width:75%;margin:0 auto\">\r\n        <div>\r\n          <button type=\"button\" (click)=\"tab1 = true; tab2 = false; tab3 = false\">Nothing</button>\r\n          <button type=\"button\" (click)=\"tab2 = true; tab1 = false; tab3 = false\">Hidden</button>\r\n          <button type=\"button\" (click)=\"tab3 = true; tab1 = false; tab2 = false\">NgIf</button>\r\n        </div>\r\n\r\n        <div [hidden]=\"!tab1\">\r\n          <p>Click a button to toggle table visibilities</p>\r\n        </div>\r\n\r\n        <div [hidden]=\"!tab2\">\r\n          <h4>hidden Table</h4>\r\n          <ngx-datatable\r\n            class=\"material\"\r\n            [rows]=\"rows\"\r\n            [columnMode]=\"ColumnMode.force\"\r\n            [headerHeight]=\"50\"\r\n            [footerHeight]=\"50\"\r\n            [rowHeight]=\"50\"\r\n            [scrollbarV]=\"true\"\r\n          >\r\n            <ngx-datatable-column name=\"Name\" [width]=\"200\"></ngx-datatable-column>\r\n            <ngx-datatable-column name=\"Gender\" [width]=\"300\"></ngx-datatable-column>\r\n            <ngx-datatable-column name=\"Age\" [width]=\"80\"></ngx-datatable-column>\r\n          </ngx-datatable>\r\n        </div>\r\n\r\n        <div *ngIf=\"tab3\">\r\n          <h4>ngIf Table</h4>\r\n          <ngx-datatable\r\n            class=\"material\"\r\n            [rows]=\"rows\"\r\n            [columnMode]=\"ColumnMode.force\"\r\n            [headerHeight]=\"50\"\r\n            [footerHeight]=\"50\"\r\n            [rowHeight]=\"50\"\r\n            [scrollbarV]=\"true\"\r\n          >\r\n            <ngx-datatable-column name=\"Name\" [width]=\"200\"></ngx-datatable-column>\r\n            <ngx-datatable-column name=\"Gender\" [width]=\"300\"></ngx-datatable-column>\r\n            <ngx-datatable-column name=\"Age\" [width]=\"80\"></ngx-datatable-column>\r\n          </ngx-datatable>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  `\r\n})\r\nexport class TabsDemoComponent {\r\n  rows = [];\r\n\r\n  tab1 = true;\r\n  tab2 = false;\r\n  tab3 = false;\r\n\r\n  ColumnMode = ColumnMode;\r\n\r\n  constructor() {\r\n    this.fetch(data => {\r\n      this.rows = data;\r\n    });\r\n  }\r\n\r\n  fetch(cb) {\r\n    const req = new XMLHttpRequest();\r\n    req.open('GET', `assets/data/100k.json`);\r\n\r\n    req.onload = () => {\r\n      cb(JSON.parse(req.response));\r\n    };\r\n\r\n    req.send();\r\n  }\r\n}\r\n","import { Component } from '@angular/core';\r\nimport { ColumnMode } from 'projects/swimlane/ngx-datatable/src/public-api';\r\n\r\n@Component({\r\n  selector: 'basic-bootstrap-theme-demo',\r\n  template: `\r\n    <div>\r\n      <h3>\r\n        Bootstrap Theme\r\n        <small>\r\n          <a\r\n            href=\"https://github.com/swimlane/ngx-datatable/blob/master/src/app/basic/bootstrap.component.ts\"\r\n            target=\"_blank\"\r\n          >\r\n            Source\r\n          </a>\r\n        </small>\r\n      </h3>\r\n      <ngx-datatable\r\n        class=\"bootstrap\"\r\n        [rows]=\"rows\"\r\n        [loadingIndicator]=\"loadingIndicator\"\r\n        [columns]=\"columns\"\r\n        [columnMode]=\"ColumnMode.force\"\r\n        [headerHeight]=\"40\"\r\n        [summaryRow]=\"true\"\r\n        [summaryPosition]=\"'bottom'\"\r\n        [footerHeight]=\"40\"\r\n        [limit]=\"10\"\r\n        rowHeight=\"auto\"\r\n        [reorderable]=\"reorderable\"\r\n      >\r\n      </ngx-datatable>\r\n    </div>\r\n  `\r\n})\r\nexport class BootstrapThemeComponent {\r\n  rows = [];\r\n  loadingIndicator = true;\r\n  reorderable = true;\r\n\r\n  columns = [\r\n    { prop: 'name', summaryFunc: () => null },\r\n    { name: 'Gender', summaryFunc: cells => this.summaryForGender(cells) },\r\n    { name: 'Company', summaryFunc: () => null }\r\n  ];\r\n\r\n  ColumnMode = ColumnMode;\r\n\r\n  constructor() {\r\n    this.fetch(data => {\r\n      this.rows = data;\r\n      setTimeout(() => {\r\n        this.loadingIndicator = false;\r\n      }, 1500);\r\n    });\r\n  }\r\n\r\n  fetch(cb) {\r\n    const req = new XMLHttpRequest();\r\n    req.open('GET', `assets/data/company.json`);\r\n\r\n    req.onload = () => {\r\n      cb(JSON.parse(req.response));\r\n    };\r\n\r\n    req.send();\r\n  }\r\n\r\n  private summaryForGender(cells: string[]) {\r\n    const males = cells.filter(cell => cell === 'male').length;\r\n    const females = cells.filter(cell => cell === 'female').length;\r\n\r\n    return `males: ${males}, females: ${females}`;\r\n  }\r\n}\r\n","import { Component, ViewChild } from '@angular/core';\r\nimport { DatatableComponent } from '../../../projects/swimlane/ngx-datatable/src/lib/components/datatable.component';\r\nimport { ColumnMode } from 'projects/swimlane/ngx-datatable/src/public-api';\r\n\r\n@Component({\r\n  selector: 'filter-demo',\r\n  template: `\r\n    <div>\r\n      <h3>\r\n        Client-side Search and Filtering\r\n        <small>\r\n          <a\r\n            href=\"https://github.com/swimlane/ngx-datatable/blob/master/src/app/basic/filter.component.ts\"\r\n            target=\"_blank\"\r\n          >\r\n            Source\r\n          </a>\r\n        </small>\r\n      </h3>\r\n      <input\r\n        type=\"text\"\r\n        style=\"padding:8px;margin:15px auto;width:30%;\"\r\n        placeholder=\"Type to filter the name column...\"\r\n        (keyup)=\"updateFilter($event)\"\r\n      />\r\n      <ngx-datatable\r\n        #table\r\n        class=\"material\"\r\n        [columns]=\"columns\"\r\n        [columnMode]=\"ColumnMode.force\"\r\n        [headerHeight]=\"50\"\r\n        [footerHeight]=\"50\"\r\n        rowHeight=\"auto\"\r\n        [limit]=\"10\"\r\n        [rows]=\"rows\"\r\n      >\r\n      </ngx-datatable>\r\n    </div>\r\n  `\r\n})\r\nexport class FilterBarComponent {\r\n  rows = [];\r\n\r\n  temp = [];\r\n\r\n  columns = [{ prop: 'name' }, { name: 'Company' }, { name: 'Gender' }];\r\n  @ViewChild(DatatableComponent) table: DatatableComponent;\r\n\r\n  ColumnMode = ColumnMode;\r\n\r\n  constructor() {\r\n    this.fetch(data => {\r\n      // cache our list\r\n      this.temp = [...data];\r\n\r\n      // push our inital complete list\r\n      this.rows = data;\r\n    });\r\n  }\r\n\r\n  fetch(cb) {\r\n    const req = new XMLHttpRequest();\r\n    req.open('GET', `assets/data/company.json`);\r\n\r\n    req.onload = () => {\r\n      cb(JSON.parse(req.response));\r\n    };\r\n\r\n    req.send();\r\n  }\r\n\r\n  updateFilter(event) {\r\n    const val = event.target.value.toLowerCase();\r\n\r\n    // filter our data\r\n    const temp = this.temp.filter(function (d) {\r\n      return d.name.toLowerCase().indexOf(val) !== -1 || !val;\r\n    });\r\n\r\n    // update the rows\r\n    this.rows = temp;\r\n    // Whenever the filter changes, always go back to the first page\r\n    this.table.offset = 0;\r\n  }\r\n}\r\n","import { Component } from '@angular/core';\r\nimport { ColumnMode } from 'projects/swimlane/ngx-datatable/src/public-api';\r\n\r\n@Component({\r\n  selector: 'column-flex-demo',\r\n  template: `\r\n    <div>\r\n      <h3>\r\n        Flex Column Width Distribution\r\n        <small>\r\n          <a\r\n            href=\"https://github.com/swimlane/ngx-datatable/blob/master/src/app/columns/column-flex.component.ts\"\r\n            target=\"_blank\"\r\n          >\r\n            Source\r\n          </a>\r\n        </small>\r\n      </h3>\r\n      <ngx-datatable\r\n        class=\"material\"\r\n        [columnMode]=\"ColumnMode.flex\"\r\n        [headerHeight]=\"50\"\r\n        [footerHeight]=\"50\"\r\n        rowHeight=\"auto\"\r\n        [rows]=\"rows\"\r\n      >\r\n        <ngx-datatable-column name=\"Name\" [flexGrow]=\"3\">\r\n          <ng-template let-value=\"value\" ngx-datatable-cell-template>\r\n            {{ value }}\r\n          </ng-template>\r\n        </ngx-datatable-column>\r\n        <ngx-datatable-column name=\"Gender\" [flexGrow]=\"1\">\r\n          <ng-template let-row=\"row\" let-value=\"value\" ngx-datatable-cell-template>\r\n            {{ value }}\r\n          </ng-template>\r\n        </ngx-datatable-column>\r\n        <ngx-datatable-column name=\"Age\" [flexGrow]=\"1\">\r\n          <ng-template let-value=\"value\" ngx-datatable-cell-template>\r\n            {{ value }}\r\n          </ng-template>\r\n        </ngx-datatable-column>\r\n      </ngx-datatable>\r\n    </div>\r\n  `\r\n})\r\nexport class ColumnFlexComponent {\r\n  rows = [];\r\n\r\n  ColumnMode = ColumnMode;\r\n\r\n  constructor() {\r\n    this.fetch(data => {\r\n      this.rows = data.splice(0, 5);\r\n    });\r\n  }\r\n\r\n  fetch(cb) {\r\n    const req = new XMLHttpRequest();\r\n    req.open('GET', `assets/data/company.json`);\r\n\r\n    req.onload = () => {\r\n      cb(JSON.parse(req.response));\r\n    };\r\n\r\n    req.send();\r\n  }\r\n}\r\n","<div role=\"table\" visibilityObserver (visible)=\"recalculate()\">\r\n  <datatable-footer\r\n    *ngIf=\"footerHeight\"\r\n    [rowCount]=\"rowCount\"\r\n    [pageSize]=\"pageSize\"\r\n    [offset]=\"offset\"\r\n    [footerHeight]=\"footerHeight\"\r\n    [footerTemplate]=\"footer\"\r\n    [totalMessage]=\"messages.totalMessage\"\r\n    [pagerLeftArrowIcon]=\"cssClasses.pagerLeftArrow\"\r\n    [pagerRightArrowIcon]=\"cssClasses.pagerRightArrow\"\r\n    [pagerPreviousIcon]=\"cssClasses.pagerPrevious\"\r\n    [selectedCount]=\"selected.length\"\r\n    [selectedMessage]=\"!!selectionType && messages.selectedMessage\"\r\n    [pagerNextIcon]=\"cssClasses.pagerNext\"\r\n    (page)=\"onFooterPage($event)\"\r\n  >\r\n  </datatable-footer>\r\n  <datatable-header\r\n    role=\"rowgroup\"\r\n    *ngIf=\"headerHeight\"\r\n    [sorts]=\"sorts\"\r\n    [sortType]=\"sortType\"\r\n    [scrollbarH]=\"scrollbarH\"\r\n    [innerWidth]=\"_innerWidth\"\r\n    [offsetX]=\"_offsetX | async\"\r\n    [dealsWithGroup]=\"groupedRows !== undefined\"\r\n    [columns]=\"_internalColumns\"\r\n    [headerHeight]=\"headerHeight\"\r\n    [reorderable]=\"reorderable\"\r\n    [targetMarkerTemplate]=\"targetMarkerTemplate\"\r\n    [sortAscendingIcon]=\"cssClasses.sortAscending\"\r\n    [sortDescendingIcon]=\"cssClasses.sortDescending\"\r\n    [sortUnsetIcon]=\"cssClasses.sortUnset\"\r\n    [allRowsSelected]=\"allRowsSelected\"\r\n    [selectionType]=\"selectionType\"\r\n    (sort)=\"onColumnSort($event)\"\r\n    (resize)=\"onColumnResize($event)\"\r\n    (reorder)=\"onColumnReorder($event)\"\r\n    (select)=\"onHeaderSelect($event)\"\r\n    (columnContextmenu)=\"onColumnContextmenu($event)\"\r\n  >\r\n  </datatable-header>\r\n  <datatable-body\r\n    role=\"rowgroup\"\r\n    [groupRowsBy]=\"groupRowsBy\"\r\n    [groupedRows]=\"groupedRows\"\r\n    [rows]=\"_internalRows\"\r\n    [groupExpansionDefault]=\"groupExpansionDefault\"\r\n    [scrollbarV]=\"scrollbarV\"\r\n    [scrollbarH]=\"scrollbarH\"\r\n    [virtualization]=\"virtualization\"\r\n    [loadingIndicator]=\"loadingIndicator\"\r\n    [externalPaging]=\"externalPaging\"\r\n    [rowHeight]=\"rowHeight\"\r\n    [rowCount]=\"rowCount\"\r\n    [offset]=\"offset\"\r\n    [trackByProp]=\"trackByProp\"\r\n    [columns]=\"_internalColumns\"\r\n    [pageSize]=\"pageSize\"\r\n    [offsetX]=\"_offsetX | async\"\r\n    [rowDetail]=\"rowDetail\"\r\n    [groupHeader]=\"groupHeader\"\r\n    [selected]=\"selected\"\r\n    [innerWidth]=\"_innerWidth\"\r\n    [bodyHeight]=\"bodyHeight\"\r\n    [selectionType]=\"selectionType\"\r\n    [emptyMessage]=\"messages.emptyMessage\"\r\n    [rowIdentity]=\"rowIdentity\"\r\n    [rowClass]=\"rowClass\"\r\n    [selectCheck]=\"selectCheck\"\r\n    [displayCheck]=\"displayCheck\"\r\n    [summaryRow]=\"summaryRow\"\r\n    [summaryHeight]=\"summaryHeight\"\r\n    [summaryPosition]=\"summaryPosition\"\r\n    (page)=\"onBodyPage($event)\"\r\n    (activate)=\"activate.emit($event)\"\r\n    (rowContextmenu)=\"onRowContextmenu($event)\"\r\n    (select)=\"onBodySelect($event)\"\r\n    (scroll)=\"onBodyScroll($event)\"\r\n    (treeAction)=\"onTreeAction($event)\"\r\n  >\r\n  </datatable-body>\r\n  <datatable-footer\r\n    *ngIf=\"footerHeight\"\r\n    [rowCount]=\"rowCount\"\r\n    [pageSize]=\"pageSize\"\r\n    [offset]=\"offset\"\r\n    [footerHeight]=\"footerHeight\"\r\n    [footerTemplate]=\"footer\"\r\n    [totalMessage]=\"messages.totalMessage\"\r\n    [pagerLeftArrowIcon]=\"cssClasses.pagerLeftArrow\"\r\n    [pagerRightArrowIcon]=\"cssClasses.pagerRightArrow\"\r\n    [pagerPreviousIcon]=\"cssClasses.pagerPrevious\"\r\n    [selectedCount]=\"selected.length\"\r\n    [selectedMessage]=\"!!selectionType && messages.selectedMessage\"\r\n    [pagerNextIcon]=\"cssClasses.pagerNext\"\r\n    (page)=\"onFooterPage($event)\"\r\n  >\r\n  </datatable-footer>\r\n</div>\r\n","import {\r\n  Component,\r\n  Input,\r\n  Output,\r\n  ElementRef,\r\n  EventEmitter,\r\n  ViewChild,\r\n  HostListener,\r\n  ContentChildren,\r\n  OnInit,\r\n  QueryList,\r\n  AfterViewInit,\r\n  HostBinding,\r\n  ContentChild,\r\n  DoCheck,\r\n  KeyValueDiffers,\r\n  KeyValueDiffer,\r\n  ViewEncapsulation,\r\n  ChangeDetectionStrategy,\r\n  ChangeDetectorRef,\r\n  SkipSelf,\r\n  Optional,\r\n  Inject\r\n} from '@angular/core';\r\n\r\nimport { DatatableGroupHeaderDirective } from './body/body-group-header.directive';\r\n\r\nimport { BehaviorSubject, Subscription } from 'rxjs';\r\nimport { INgxDatatableConfig } from '../ngx-datatable.module';\r\nimport { groupRowsByParents, optionalGetterForProp } from '../utils/tree';\r\nimport { TableColumn } from '../types/table-column.type';\r\nimport { setColumnDefaults, translateTemplates } from '../utils/column-helper';\r\nimport { ColumnMode } from '../types/column-mode.type';\r\nimport { SelectionType } from '../types/selection.type';\r\nimport { SortType } from '../types/sort.type';\r\nimport { ContextmenuType } from '../types/contextmenu.type';\r\nimport { DataTableColumnDirective } from './columns/column.directive';\r\nimport { DatatableRowDetailDirective } from './row-detail/row-detail.directive';\r\nimport { DatatableFooterDirective } from './footer/footer.directive';\r\nimport { DataTableBodyComponent } from './body/body.component';\r\nimport { DataTableHeaderComponent } from './header/header.component';\r\nimport { ScrollbarHelper } from '../services/scrollbar-helper.service';\r\nimport { ColumnChangesService } from '../services/column-changes.service';\r\nimport { DimensionsHelper } from '../services/dimensions-helper.service';\r\nimport { throttleable } from '../utils/throttle';\r\nimport { forceFillColumnWidths, adjustColumnWidths } from '../utils/math';\r\nimport { sortRows } from '../utils/sort';\r\n\r\n@Component({\r\n  selector: 'ngx-datatable',\r\n  templateUrl: './datatable.component.html',\r\n  changeDetection: ChangeDetectionStrategy.OnPush,\r\n  encapsulation: ViewEncapsulation.None,\r\n  styleUrls: ['./datatable.component.scss'],\r\n  host: {\r\n    class: 'ngx-datatable'\r\n  }\r\n})\r\nexport class DatatableComponent implements OnInit, DoCheck, AfterViewInit {\r\n  /**\r\n   * Template for the target marker of drag target columns.\r\n   */\r\n  @Input() targetMarkerTemplate: any;\r\n\r\n  /**\r\n   * Rows that are displayed in the table.\r\n   */\r\n  @Input() set rows(val: any) {\r\n    this._rows = val;\r\n\r\n    if (val) {\r\n      this._internalRows = [...val];\r\n    }\r\n\r\n    // auto sort on new updates\r\n    if (!this.externalSorting) {\r\n      this.sortInternalRows();\r\n    }\r\n\r\n    // auto group by parent on new update\r\n    this._internalRows = groupRowsByParents(\r\n      this._internalRows,\r\n      optionalGetterForProp(this.treeFromRelation),\r\n      optionalGetterForProp(this.treeToRelation)\r\n    );\r\n\r\n    // recalculate sizes/etc\r\n    this.recalculate();\r\n\r\n    if (this._rows && this._groupRowsBy) {\r\n      // If a column has been specified in _groupRowsBy created a new array with the data grouped by that row\r\n      this.groupedRows = this.groupArrayBy(this._rows, this._groupRowsBy);\r\n      this.groupedRows.forEach(group => {\r\n        group.value = groupRowsByParents(group.value, optionalGetterForProp(this.treeFromRelation), optionalGetterForProp(this.treeToRelation));\r\n      });\r\n    }\r\n\r\n    this.cd.markForCheck();\r\n    this.cd.detectChanges();\r\n  }\r\n\r\n  /**\r\n   * Gets the rows.\r\n   */\r\n  get rows(): any {\r\n    return this._rows;\r\n  }\r\n\r\n  /**\r\n   * This attribute allows the user to set the name of the column to group the data with\r\n   */\r\n  @Input() set groupRowsBy(val: string) {\r\n    if (val) {\r\n      this._groupRowsBy = val;\r\n      if (this._rows && this._groupRowsBy) {\r\n        // cretes a new array with the data grouped\r\n        this.groupedRows = this.groupArrayBy(this._rows, this._groupRowsBy);\r\n      }\r\n    }\r\n  }\r\n\r\n  get groupRowsBy() {\r\n    return this._groupRowsBy;\r\n  }\r\n\r\n  /**\r\n   * This attribute allows the user to set a grouped array in the following format:\r\n   *  [\r\n   *    {groupid=1} [\r\n   *      {id=1 name=\"test1\"},\r\n   *      {id=2 name=\"test2\"},\r\n   *      {id=3 name=\"test3\"}\r\n   *    ]},\r\n   *    {groupid=2>[\r\n   *      {id=4 name=\"test4\"},\r\n   *      {id=5 name=\"test5\"},\r\n   *      {id=6 name=\"test6\"}\r\n   *    ]}\r\n   *  ]\r\n   */\r\n  @Input() groupedRows: any[];\r\n\r\n  /**\r\n   * Columns to be displayed.\r\n   */\r\n  @Input() set columns(val: TableColumn[]) {\r\n    if (val) {\r\n      this._internalColumns = [...val];\r\n      setColumnDefaults(this._internalColumns);\r\n      this.recalculateColumns();\r\n    }\r\n\r\n    this._columns = val;\r\n  }\r\n\r\n  /**\r\n   * Get the columns.\r\n   */\r\n  get columns(): TableColumn[] {\r\n    return this._columns;\r\n  }\r\n\r\n  /**\r\n   * List of row objects that should be\r\n   * represented as selected in the grid.\r\n   * Default value: `[]`\r\n   */\r\n  @Input() selected: any[] = [];\r\n\r\n  /**\r\n   * Enable vertical scrollbars\r\n   */\r\n  @Input() scrollbarV: boolean = false;\r\n\r\n  /**\r\n   * Enable horz scrollbars\r\n   */\r\n  @Input() scrollbarH: boolean = false;\r\n\r\n  /**\r\n   * The row height; which is necessary\r\n   * to calculate the height for the lazy rendering.\r\n   */\r\n  @Input() rowHeight: number | 'auto' | ((row?: any) => number) = 30;\r\n\r\n  /**\r\n   * Type of column width distribution formula.\r\n   * Example: flex, force, standard\r\n   */\r\n  @Input() columnMode: ColumnMode | keyof typeof ColumnMode = ColumnMode.standard;\r\n\r\n  /**\r\n   * The minimum header height in pixels.\r\n   * Pass a falsey for no header\r\n   */\r\n  @Input() headerHeight: number = 30;\r\n\r\n  /**\r\n   * The minimum footer height in pixels.\r\n   * Pass falsey for no footer\r\n   */\r\n  @Input() footerHeight: number = 0;\r\n\r\n  /**\r\n   * If the table should use external paging\r\n   * otherwise its assumed that all data is preloaded.\r\n   */\r\n  @Input() externalPaging: boolean = false;\r\n\r\n  /**\r\n   * If the table should use external sorting or\r\n   * the built-in basic sorting.\r\n   */\r\n  @Input() externalSorting: boolean = false;\r\n\r\n  /**\r\n   * The page size to be shown.\r\n   * Default value: `undefined`\r\n   */\r\n  @Input() set limit(val: number | undefined) {\r\n    this._limit = val;\r\n\r\n    // recalculate sizes/etc\r\n    this.recalculate();\r\n  }\r\n\r\n  /**\r\n   * Gets the limit.\r\n   */\r\n  get limit(): number | undefined {\r\n    return this._limit;\r\n  }\r\n\r\n  /**\r\n   * The total count of all rows.\r\n   * Default value: `0`\r\n   */\r\n  @Input() set count(val: number) {\r\n    this._count = val;\r\n\r\n    // recalculate sizes/etc\r\n    this.recalculate();\r\n  }\r\n\r\n  /**\r\n   * Gets the count.\r\n   */\r\n  get count(): number {\r\n    return this._count;\r\n  }\r\n\r\n  /**\r\n   * The current offset ( page - 1 ) shown.\r\n   * Default value: `0`\r\n   */\r\n  @Input() set offset(val: number) {\r\n    this._offset = val;\r\n  }\r\n  get offset(): number {\r\n    return Math.max(Math.min(this._offset, Math.ceil(this.rowCount / this.pageSize) - 1), 0);\r\n  }\r\n\r\n  /**\r\n   * Show the linear loading bar.\r\n   * Default value: `false`\r\n   */\r\n  @Input() loadingIndicator: boolean = false;\r\n\r\n  /**\r\n   * Type of row selection. Options are:\r\n   *\r\n   *  - `single`\r\n   *  - `multi`\r\n   *  - `checkbox`\r\n   *  - `multiClick`\r\n   *  - `cell`\r\n   *\r\n   * For no selection pass a `falsey`.\r\n   * Default value: `undefined`\r\n   */\r\n  @Input() selectionType: SelectionType;\r\n\r\n  /**\r\n   * Enable/Disable ability to re-order columns\r\n   * by dragging them.\r\n   */\r\n  @Input() reorderable: boolean = true;\r\n\r\n  /**\r\n   * Swap columns on re-order columns or\r\n   * move them.\r\n   */\r\n  @Input() swapColumns: boolean = true;\r\n\r\n  /**\r\n   * The type of sorting\r\n   */\r\n  @Input() sortType: SortType = SortType.single;\r\n\r\n  /**\r\n   * Array of sorted columns by property and type.\r\n   * Default value: `[]`\r\n   */\r\n  @Input() sorts: any[] = [];\r\n\r\n  /**\r\n   * Css class overrides\r\n   */\r\n  @Input() cssClasses: any = {\r\n    sortAscending: 'datatable-icon-up',\r\n    sortDescending: 'datatable-icon-down',\r\n    sortUnset: 'datatable-icon-sort-unset',\r\n    pagerLeftArrow: 'datatable-icon-left',\r\n    pagerRightArrow: 'datatable-icon-right',\r\n    pagerPrevious: 'datatable-icon-prev',\r\n    pagerNext: 'datatable-icon-skip'\r\n  };\r\n\r\n  /**\r\n   * Message overrides for localization\r\n   *\r\n   * emptyMessage     [default] = 'No data to display'\r\n   * totalMessage     [default] = 'total'\r\n   * selectedMessage  [default] = 'selected'\r\n   */\r\n  @Input() messages: any = {\r\n    // Message to show when array is presented\r\n    // but contains no values\r\n    emptyMessage: '   ',\r\n\r\n    // Footer total message\r\n    totalMessage: '',\r\n\r\n    // Footer selected message\r\n    selectedMessage: ''\r\n  };\r\n\r\n  /**\r\n   * Row specific classes.\r\n   * Similar implementation to ngClass.\r\n   *\r\n   *  [rowClass]=\"'first second'\"\r\n   *  [rowClass]=\"{ 'first': true, 'second': true, 'third': false }\"\r\n   */\r\n  @Input() rowClass: any;\r\n\r\n  /**\r\n   * A boolean/function you can use to check whether you want\r\n   * to select a particular row based on a criteria. Example:\r\n   *\r\n   *    (selection) => {\r\n   *      return selection !== 'Ethel Price';\r\n   *    }\r\n   */\r\n  @Input() selectCheck: any;\r\n\r\n  /**\r\n   * A function you can use to check whether you want\r\n   * to show the checkbox for a particular row based on a criteria. Example:\r\n   *\r\n   *    (row, column, value) => {\r\n   *      return row.name !== 'Ethel Price';\r\n   *    }\r\n   */\r\n  @Input() displayCheck: (row: any, column?: any, value?: any) => boolean;\r\n\r\n  /**\r\n   * A boolean you can use to set the detault behaviour of rows and groups\r\n   * whether they will start expanded or not. If ommited the default is NOT expanded.\r\n   *\r\n   */\r\n  @Input() groupExpansionDefault: boolean = false;\r\n\r\n  /**\r\n   * Property to which you can use for custom tracking of rows.\r\n   * Example: 'name'\r\n   */\r\n  @Input() trackByProp: string;\r\n\r\n  /**\r\n   * Property to which you can use for determining select all\r\n   * rows on current page or not.\r\n   *\r\n   * @memberOf DatatableComponent\r\n   */\r\n  @Input() selectAllRowsOnPage = false;\r\n\r\n  /**\r\n   * A flag for row virtualization on / off\r\n   */\r\n  @Input() virtualization: boolean = true;\r\n\r\n  /**\r\n   * Tree from relation\r\n   */\r\n  @Input() treeFromRelation: string;\r\n\r\n  /**\r\n   * Tree to relation\r\n   */\r\n  @Input() treeToRelation: string;\r\n\r\n  /**\r\n   * A flag for switching summary row on / off\r\n   */\r\n  @Input() summaryRow: boolean = false;\r\n\r\n  /**\r\n   * A height of summary row\r\n   */\r\n  @Input() summaryHeight: number = 30;\r\n\r\n  /**\r\n   * A property holds a summary row position: top/bottom\r\n   */\r\n  @Input() summaryPosition: string = 'top';\r\n\r\n  /**\r\n   * Body was scrolled typically in a `scrollbarV:true` scenario.\r\n   */\r\n  @Output() scroll: EventEmitter<any> = new EventEmitter();\r\n\r\n  /**\r\n   * A cell or row was focused via keyboard or mouse click.\r\n   */\r\n  @Output() activate: EventEmitter<any> = new EventEmitter();\r\n\r\n  /**\r\n   * A cell or row was selected.\r\n   */\r\n  @Output() select: EventEmitter<any> = new EventEmitter();\r\n\r\n  /**\r\n   * Column sort was invoked.\r\n   */\r\n  @Output() sort: EventEmitter<any> = new EventEmitter();\r\n\r\n  /**\r\n   * The table was paged either triggered by the pager or the body scroll.\r\n   */\r\n  @Output() page: EventEmitter<any> = new EventEmitter();\r\n\r\n  /**\r\n   * Columns were re-ordered.\r\n   */\r\n  @Output() reorder: EventEmitter<any> = new EventEmitter();\r\n\r\n  /**\r\n   * Column was resized.\r\n   */\r\n  @Output() resize: EventEmitter<any> = new EventEmitter();\r\n\r\n  /**\r\n   * The context menu was invoked on the table.\r\n   * type indicates whether the header or the body was clicked.\r\n   * content contains either the column or the row that was clicked.\r\n   */\r\n  @Output() tableContextmenu = new EventEmitter<{ event: MouseEvent; type: ContextmenuType; content: any }>(false);\r\n\r\n  /**\r\n   * A row was expanded ot collapsed for tree\r\n   */\r\n  @Output() treeAction: EventEmitter<any> = new EventEmitter();\r\n\r\n  /**\r\n   * CSS class applied if the header height if fixed height.\r\n   */\r\n  @HostBinding('class.fixed-header')\r\n  get isFixedHeader(): boolean {\r\n    const headerHeight: number | string = this.headerHeight;\r\n    return typeof headerHeight === 'string' ? <string>headerHeight !== 'auto' : true;\r\n  }\r\n\r\n  /**\r\n   * CSS class applied to the root element if\r\n   * the row heights are fixed heights.\r\n   */\r\n  @HostBinding('class.fixed-row')\r\n  get isFixedRow(): boolean {\r\n    return this.rowHeight !== 'auto';\r\n  }\r\n\r\n  /**\r\n   * CSS class applied to root element if\r\n   * vertical scrolling is enabled.\r\n   */\r\n  @HostBinding('class.scroll-vertical')\r\n  get isVertScroll(): boolean {\r\n    return this.scrollbarV;\r\n  }\r\n\r\n  /**\r\n   * CSS class applied to root element if\r\n   * virtualization is enabled.\r\n   */\r\n  @HostBinding('class.virtualized')\r\n  get isVirtualized(): boolean {\r\n    return this.virtualization;\r\n  }\r\n\r\n  /**\r\n   * CSS class applied to the root element\r\n   * if the horziontal scrolling is enabled.\r\n   */\r\n  @HostBinding('class.scroll-horz')\r\n  get isHorScroll(): boolean {\r\n    return this.scrollbarH;\r\n  }\r\n\r\n  /**\r\n   * CSS class applied to root element is selectable.\r\n   */\r\n  @HostBinding('class.selectable')\r\n  get isSelectable(): boolean {\r\n    return this.selectionType !== undefined;\r\n  }\r\n\r\n  /**\r\n   * CSS class applied to root is checkbox selection.\r\n   */\r\n  @HostBinding('class.checkbox-selection')\r\n  get isCheckboxSelection(): boolean {\r\n    return this.selectionType === SelectionType.checkbox;\r\n  }\r\n\r\n  /**\r\n   * CSS class applied to root if cell selection.\r\n   */\r\n  @HostBinding('class.cell-selection')\r\n  get isCellSelection(): boolean {\r\n    return this.selectionType === SelectionType.cell;\r\n  }\r\n\r\n  /**\r\n   * CSS class applied to root if single select.\r\n   */\r\n  @HostBinding('class.single-selection')\r\n  get isSingleSelection(): boolean {\r\n    return this.selectionType === SelectionType.single;\r\n  }\r\n\r\n  /**\r\n   * CSS class added to root element if mulit select\r\n   */\r\n  @HostBinding('class.multi-selection')\r\n  get isMultiSelection(): boolean {\r\n    return this.selectionType === SelectionType.multi;\r\n  }\r\n\r\n  /**\r\n   * CSS class added to root element if mulit click select\r\n   */\r\n  @HostBinding('class.multi-click-selection')\r\n  get isMultiClickSelection(): boolean {\r\n    return this.selectionType === SelectionType.multiClick;\r\n  }\r\n\r\n  /**\r\n   * Column templates gathered from `ContentChildren`\r\n   * if described in your markup.\r\n   */\r\n  @ContentChildren(DataTableColumnDirective)\r\n  set columnTemplates(val: QueryList<DataTableColumnDirective>) {\r\n    this._columnTemplates = val;\r\n    this.translateColumns(val);\r\n  }\r\n\r\n  /**\r\n   * Returns the column templates.\r\n   */\r\n  get columnTemplates(): QueryList<DataTableColumnDirective> {\r\n    return this._columnTemplates;\r\n  }\r\n\r\n  /**\r\n   * Row Detail templates gathered from the ContentChild\r\n   */\r\n  @ContentChild(DatatableRowDetailDirective)\r\n  rowDetail: DatatableRowDetailDirective;\r\n\r\n  /**\r\n   * Group Header templates gathered from the ContentChild\r\n   */\r\n  @ContentChild(DatatableGroupHeaderDirective)\r\n  groupHeader: DatatableGroupHeaderDirective;\r\n\r\n  /**\r\n   * Footer template gathered from the ContentChild\r\n   */\r\n  @ContentChild(DatatableFooterDirective)\r\n  footer: DatatableFooterDirective;\r\n\r\n  /**\r\n   * Reference to the body component for manually\r\n   * invoking functions on the body.\r\n   */\r\n  @ViewChild(DataTableBodyComponent)\r\n  bodyComponent: DataTableBodyComponent;\r\n\r\n  /**\r\n   * Reference to the header component for manually\r\n   * invoking functions on the header.\r\n   *\r\n   * @memberOf DatatableComponent\r\n   */\r\n  @ViewChild(DataTableHeaderComponent)\r\n  headerComponent: DataTableHeaderComponent;\r\n\r\n  /**\r\n   * Returns if all rows are selected.\r\n   */\r\n  get allRowsSelected(): boolean {\r\n    let allRowsSelected = this.rows && this.selected && this.selected.length === this.rows.length;\r\n\r\n    if (this.bodyComponent && this.selectAllRowsOnPage) {\r\n      const indexes = this.bodyComponent.indexes;\r\n      const rowsOnPage = indexes.last - indexes.first;\r\n      allRowsSelected = this.selected.length === rowsOnPage;\r\n    }\r\n\r\n    return this.selected && this.rows && this.rows.length !== 0 && allRowsSelected;\r\n  }\r\n\r\n  element: HTMLElement;\r\n  _innerWidth: number;\r\n  pageSize: number;\r\n  bodyHeight: number;\r\n  rowCount: number = 0;\r\n  rowDiffer: KeyValueDiffer<{}, {}>;\r\n\r\n  _offsetX = new BehaviorSubject(0);\r\n  _limit: number | undefined;\r\n  _count: number = 0;\r\n  _offset: number = 0;\r\n  _rows: any[];\r\n  _groupRowsBy: string;\r\n  _internalRows: any[];\r\n  _internalColumns: TableColumn[];\r\n  _columns: TableColumn[];\r\n  _columnTemplates: QueryList<DataTableColumnDirective>;\r\n  _subscriptions: Subscription[] = [];\r\n\r\n  constructor(\r\n    @SkipSelf() private scrollbarHelper: ScrollbarHelper,\r\n    @SkipSelf() private dimensionsHelper: DimensionsHelper,\r\n    private cd: ChangeDetectorRef,\r\n    element: ElementRef,\r\n    differs: KeyValueDiffers,\r\n    private columnChangesService: ColumnChangesService,\r\n    @Optional() @Inject('configuration') private configuration: INgxDatatableConfig\r\n  ) {\r\n    // get ref to elm for measuring\r\n    this.element = element.nativeElement;\r\n    this.rowDiffer = differs.find({}).create();\r\n\r\n    // apply global settings from Module.forRoot\r\n    if (this.configuration && this.configuration.messages) {\r\n      this.messages = { ...this.configuration.messages };\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Lifecycle hook that is called after data-bound\r\n   * properties of a directive are initialized.\r\n   */\r\n  ngOnInit(): void {\r\n    // need to call this immediatly to size\r\n    // if the table is hidden the visibility\r\n    // listener will invoke this itself upon show\r\n    this.recalculate();\r\n  }\r\n\r\n  /**\r\n   * Lifecycle hook that is called after a component's\r\n   * view has been fully initialized.\r\n   */\r\n  ngAfterViewInit(): void {\r\n    if (!this.externalSorting) {\r\n      this.sortInternalRows();\r\n    }\r\n\r\n    // this has to be done to prevent the change detection\r\n    // tree from freaking out because we are readjusting\r\n    if (typeof requestAnimationFrame === 'undefined') {\r\n      return;\r\n    }\r\n\r\n    requestAnimationFrame(() => {\r\n      this.recalculate();\r\n\r\n      // emit page for virtual server-side kickoff\r\n      if (this.externalPaging && this.scrollbarV) {\r\n        this.page.emit({\r\n          count: this.count,\r\n          pageSize: this.pageSize,\r\n          limit: this.limit,\r\n          offset: 0\r\n        });\r\n      }\r\n    });\r\n  }\r\n\r\n  /**\r\n   * Lifecycle hook that is called after a component's\r\n   * content has been fully initialized.\r\n   */\r\n  ngAfterContentInit() {\r\n    this.columnTemplates.changes.subscribe(v => this.translateColumns(v));\r\n    this.listenForColumnInputChanges();\r\n  }\r\n\r\n  /**\r\n   * This will be used when displaying or selecting rows.\r\n   * when tracking/comparing them, we'll use the value of this fn,\r\n   *\r\n   * (`fn(x) === fn(y)` instead of `x === y`)\r\n   */\r\n  @Input() rowIdentity: (x: any) => any = (x: any) => {\r\n    if (this._groupRowsBy) {\r\n      // each group in groupedRows are stored as {key, value: [rows]},\r\n      // where key is the groupRowsBy index\r\n      return x.key;\r\n    } else {\r\n      return x;\r\n    }\r\n  };\r\n\r\n  /**\r\n   * Translates the templates to the column objects\r\n   */\r\n  translateColumns(val: any) {\r\n    if (val) {\r\n      const arr = val.toArray();\r\n      if (arr.length) {\r\n        this._internalColumns = translateTemplates(arr);\r\n        setColumnDefaults(this._internalColumns);\r\n        this.recalculateColumns();\r\n        this.sortInternalRows();\r\n        this.cd.markForCheck();\r\n      }\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Creates a map with the data grouped by the user choice of grouping index\r\n   *\r\n   * @param originalArray the original array passed via parameter\r\n   * @param groupByIndex  the index of the column to group the data by\r\n   */\r\n  groupArrayBy(originalArray: any, groupBy: any) {\r\n    // create a map to hold groups with their corresponding results\r\n    const map = new Map();\r\n    let i: number = 0;\r\n\r\n    originalArray.forEach((item: any) => {\r\n      const key = item[groupBy];\r\n      if (!map.has(key)) {\r\n        map.set(key, [item]);\r\n      } else {\r\n        map.get(key).push(item);\r\n      }\r\n      i++;\r\n    });\r\n\r\n    const addGroup = (key: any, value: any) => {\r\n      return { key, value };\r\n    };\r\n\r\n    // convert map back to a simple array of objects\r\n    return Array.from(map, x => addGroup(x[0], x[1]));\r\n  }\r\n\r\n  /*\r\n   * Lifecycle hook that is called when Angular dirty checks a directive.\r\n   */\r\n  ngDoCheck(): void {\r\n    if (this.rowDiffer.diff(this.rows)) {\r\n      if (!this.externalSorting) {\r\n        this.sortInternalRows();\r\n      } else {\r\n        this._internalRows = [...this.rows];\r\n      }\r\n\r\n      // auto group by parent on new update\r\n      this._internalRows = groupRowsByParents(\r\n        this._internalRows,\r\n        optionalGetterForProp(this.treeFromRelation),\r\n        optionalGetterForProp(this.treeToRelation)\r\n      );\r\n\r\n      this.recalculatePages();\r\n      this.cd.markForCheck();\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Recalc's the sizes of the grid.\r\n   *\r\n   * Updated automatically on changes to:\r\n   *\r\n   *  - Columns\r\n   *  - Rows\r\n   *  - Paging related\r\n   *\r\n   * Also can be manually invoked or upon window resize.\r\n   */\r\n  recalculate(): void {\r\n    this.recalculateDims();\r\n    this.recalculateColumns();\r\n    this.cd.markForCheck();\r\n  }\r\n\r\n  /**\r\n   * Window resize handler to update sizes.\r\n   */\r\n  @HostListener('window:resize')\r\n  @throttleable(5)\r\n  onWindowResize(): void {\r\n    this.recalculate();\r\n  }\r\n\r\n  /**\r\n   * Recalulcates the column widths based on column width\r\n   * distribution mode and scrollbar offsets.\r\n   */\r\n  recalculateColumns(\r\n    columns: any[] = this._internalColumns,\r\n    forceIdx: number = -1,\r\n    allowBleed: boolean = this.scrollbarH\r\n  ): any[] | undefined {\r\n    if (!columns) return undefined;\r\n\r\n    let width = this._innerWidth;\r\n    if (this.scrollbarV) {\r\n      width = width - this.scrollbarHelper.width;\r\n    }\r\n\r\n    if (this.columnMode === ColumnMode.force) {\r\n      forceFillColumnWidths(columns, width, forceIdx, allowBleed);\r\n    } else if (this.columnMode === ColumnMode.flex) {\r\n      adjustColumnWidths(columns, width);\r\n    }\r\n\r\n    return columns;\r\n  }\r\n\r\n  /**\r\n   * Recalculates the dimensions of the table size.\r\n   * Internally calls the page size and row count calcs too.\r\n   *\r\n   */\r\n  recalculateDims(): void {\r\n    const dims = this.dimensionsHelper.getDimensions(this.element);\r\n    this._innerWidth = Math.floor(dims.width);\r\n\r\n    if (this.scrollbarV) {\r\n      let height = dims.height;\r\n      if (this.headerHeight) height = height - this.headerHeight;\r\n      if (this.footerHeight) height = height - this.footerHeight;\r\n      this.bodyHeight = height;\r\n    }\r\n\r\n    this.recalculatePages();\r\n  }\r\n\r\n  /**\r\n   * Recalculates the pages after a update.\r\n   */\r\n  recalculatePages(): void {\r\n    this.pageSize = this.calcPageSize();\r\n    this.rowCount = this.calcRowCount();\r\n  }\r\n\r\n  /**\r\n   * Body triggered a page event.\r\n   */\r\n  onBodyPage({ offset }: any): void {\r\n    // Avoid pagination caming from body events like scroll when the table\r\n    // has no virtualization and the external paging is enable.\r\n    // This means, let's the developer handle pagination by my him(her) self\r\n    if (this.externalPaging && !this.virtualization) {\r\n      return;\r\n    }\r\n\r\n    this.offset = offset;\r\n\r\n    this.page.emit({\r\n      count: this.count,\r\n      pageSize: this.pageSize,\r\n      limit: this.limit,\r\n      offset: this.offset\r\n    });\r\n  }\r\n\r\n  /**\r\n   * The body triggered a scroll event.\r\n   */\r\n  onBodyScroll(event: MouseEvent): void {\r\n    this._offsetX.next(event.offsetX);\r\n    this.scroll.emit(event);\r\n    this.cd.detectChanges();\r\n  }\r\n\r\n  /**\r\n   * The footer triggered a page event.\r\n   */\r\n  onFooterPage(event: any) {\r\n    this.offset = event.page - 1;\r\n    this.bodyComponent.updateOffsetY(this.offset);\r\n\r\n    this.page.emit({\r\n      count: this.count,\r\n      pageSize: this.pageSize,\r\n      limit: this.limit,\r\n      offset: this.offset\r\n    });\r\n\r\n    if (this.selectAllRowsOnPage) {\r\n      this.selected = [];\r\n      this.select.emit({\r\n        selected: this.selected\r\n      });\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Recalculates the sizes of the page\r\n   */\r\n  calcPageSize(val: any[] = this.rows): number {\r\n    // Keep the page size constant even if the row has been expanded.\r\n    // This is because an expanded row is still considered to be a child of\r\n    // the original row.  Hence calculation would use rowHeight only.\r\n    if (this.scrollbarV && this.virtualization) {\r\n      const size = Math.ceil(this.bodyHeight / (this.rowHeight as number));\r\n      return Math.max(size, 0);\r\n    }\r\n\r\n    // if limit is passed, we are paging\r\n    if (this.limit !== undefined) {\r\n      return this.limit;\r\n    }\r\n\r\n    // otherwise use row length\r\n    if (val) {\r\n      return val.length;\r\n    }\r\n\r\n    // other empty :(\r\n    return 0;\r\n  }\r\n\r\n  /**\r\n   * Calculates the row count.\r\n   */\r\n  calcRowCount(val: any[] = this.rows): number {\r\n    if (!this.externalPaging) {\r\n      if (!val) return 0;\r\n\r\n      if (this.groupedRows) {\r\n        return this.groupedRows.length;\r\n      } else if (this.treeFromRelation != null && this.treeToRelation != null) {\r\n        return this._internalRows.length;\r\n      } else {\r\n        return val.length;\r\n      }\r\n    }\r\n\r\n    return this.count;\r\n  }\r\n\r\n  /**\r\n   * The header triggered a contextmenu event.\r\n   */\r\n  onColumnContextmenu({ event, column }: any): void {\r\n    this.tableContextmenu.emit({ event, type: ContextmenuType.header, content: column });\r\n  }\r\n\r\n  /**\r\n   * The body triggered a contextmenu event.\r\n   */\r\n  onRowContextmenu({ event, row }: any): void {\r\n    this.tableContextmenu.emit({ event, type: ContextmenuType.body, content: row });\r\n  }\r\n\r\n  /**\r\n   * The header triggered a column resize event.\r\n   */\r\n  onColumnResize({ column, newValue }: any): void {\r\n    /* Safari/iOS 10.2 workaround */\r\n    if (column === undefined) {\r\n      return;\r\n    }\r\n\r\n    let idx: number;\r\n    const cols = this._internalColumns.map((c, i) => {\r\n      c = { ...c };\r\n\r\n      if (c.$$id === column.$$id) {\r\n        idx = i;\r\n        c.width = newValue;\r\n\r\n        // set this so we can force the column\r\n        // width distribution to be to this value\r\n        c.$$oldWidth = newValue;\r\n      }\r\n\r\n      return c;\r\n    });\r\n\r\n    this.recalculateColumns(cols, idx);\r\n    this._internalColumns = cols;\r\n\r\n    this.resize.emit({\r\n      column,\r\n      newValue\r\n    });\r\n  }\r\n\r\n  /**\r\n   * The header triggered a column re-order event.\r\n   */\r\n  onColumnReorder({ column, newValue, prevValue }: any): void {\r\n    const cols = this._internalColumns.map(c => {\r\n      return { ...c };\r\n    });\r\n\r\n    if (this.swapColumns) {\r\n      const prevCol = cols[newValue];\r\n      cols[newValue] = column;\r\n      cols[prevValue] = prevCol;\r\n    } else {\r\n      if (newValue > prevValue) {\r\n        const movedCol = cols[prevValue];\r\n        for (let i = prevValue; i < newValue; i++) {\r\n          cols[i] = cols[i + 1];\r\n        }\r\n        cols[newValue] = movedCol;\r\n      } else {\r\n        const movedCol = cols[prevValue];\r\n        for (let i = prevValue; i > newValue; i--) {\r\n          cols[i] = cols[i - 1];\r\n        }\r\n        cols[newValue] = movedCol;\r\n      }\r\n    }\r\n\r\n    this._internalColumns = cols;\r\n\r\n    this.reorder.emit({\r\n      column,\r\n      newValue,\r\n      prevValue\r\n    });\r\n  }\r\n\r\n  /**\r\n   * The header triggered a column sort event.\r\n   */\r\n  onColumnSort(event: any): void {\r\n    // clean selected rows\r\n    if (this.selectAllRowsOnPage) {\r\n      this.selected = [];\r\n      this.select.emit({\r\n        selected: this.selected\r\n      });\r\n    }\r\n\r\n    this.sorts = event.sorts;\r\n\r\n    // this could be optimized better since it will resort\r\n    // the rows again on the 'push' detection...\r\n    if (this.externalSorting === false) {\r\n      // don't use normal setter so we don't resort\r\n      this.sortInternalRows();\r\n    }\r\n\r\n    // auto group by parent on new update\r\n    this._internalRows = groupRowsByParents(\r\n      this._internalRows,\r\n      optionalGetterForProp(this.treeFromRelation),\r\n      optionalGetterForProp(this.treeToRelation)\r\n    );\r\n\r\n    // Always go to first page when sorting to see the newly sorted data\r\n    this.offset = 0;\r\n    this.bodyComponent.updateOffsetY(this.offset);\r\n    this.sort.emit(event);\r\n  }\r\n\r\n  /**\r\n   * Toggle all row selection\r\n   */\r\n  onHeaderSelect(event: any): void {\r\n    if (this.bodyComponent && this.selectAllRowsOnPage) {\r\n      // before we splice, chk if we currently have all selected\r\n      const first = this.bodyComponent.indexes.first;\r\n      const last = this.bodyComponent.indexes.last;\r\n\r\n      const selectableRows =\r\n        this.selectCheck && typeof this.selectCheck === 'function'\r\n          ? this._internalRows.slice(first, last).filter(this.selectCheck.bind(this))\r\n          : this._internalRows.slice(first, last);\r\n\r\n      const allSelected = this.selected.length === selectableRows.length;\r\n\r\n      // remove all existing either way\r\n      this.selected = [];\r\n\r\n      // do the opposite here\r\n      if (!allSelected) {\r\n        this.selected.push(...selectableRows);\r\n      }\r\n    } else {\r\n      const selectableRows = this.selectCheck && typeof this.selectCheck === 'function' ? this.rows.filter(this.selectCheck.bind(this)) : this.rows;\r\n      // before we splice, chk if we currently have all selected\r\n      const allSelected = this.selected.length === selectableRows.length;\r\n      // remove all existing either way\r\n      this.selected = [];\r\n      // do the opposite here\r\n      if (!allSelected) {\r\n        this.selected.push(...selectableRows);\r\n      }\r\n    }\r\n\r\n    this.select.emit({\r\n      selected: this.selected\r\n    });\r\n  }\r\n\r\n  /**\r\n   * A row was selected from body\r\n   */\r\n  onBodySelect(event: any): void {\r\n    this.select.emit(event);\r\n  }\r\n\r\n  /**\r\n   * A row was expanded or collapsed for tree\r\n   */\r\n  onTreeAction(event: any) {\r\n    const row = event.row;\r\n    // TODO: For duplicated items this will not work\r\n    const rowIndex = this._rows.findIndex(r => r[this.treeToRelation] === event.row[this.treeToRelation]);\r\n    this.treeAction.emit({ row, rowIndex });\r\n  }\r\n\r\n  ngOnDestroy() {\r\n    this._subscriptions.forEach(subscription => subscription.unsubscribe());\r\n  }\r\n\r\n  /**\r\n   * listen for changes to input bindings of all DataTableColumnDirective and\r\n   * trigger the columnTemplates.changes observable to emit\r\n   */\r\n  private listenForColumnInputChanges(): void {\r\n    this._subscriptions.push(\r\n      this.columnChangesService.columnInputChanges$.subscribe(() => {\r\n        if (this.columnTemplates) {\r\n          this.columnTemplates.notifyOnChanges();\r\n        }\r\n      })\r\n    );\r\n  }\r\n\r\n  private sortInternalRows(): void {\r\n    this._internalRows = sortRows(this._internalRows, this._internalColumns, this.sorts);\r\n  }\r\n}\r\n","import { Component } from '@angular/core';\r\nimport { ColumnMode } from 'projects/swimlane/ngx-datatable/src/public-api';\r\n\r\n@Component({\r\n  selector: 'multiple-tables-demo',\r\n  template: `\r\n    <div>\r\n      <h3>\r\n        Multiple Tables\r\n        <small>\r\n          <a\r\n            href=\"https://github.com/swimlane/ngx-datatable/blob/master/src/app/basic/multiple.component.ts\"\r\n            target=\"_blank\"\r\n          >\r\n            Source\r\n          </a>\r\n        </small>\r\n      </h3>\r\n      <ngx-datatable\r\n        class=\"material\"\r\n        [rows]=\"rows1\"\r\n        [columns]=\"columns1\"\r\n        [columnMode]=\"ColumnMode.force\"\r\n        [headerHeight]=\"50\"\r\n        [footerHeight]=\"0\"\r\n        [rowHeight]=\"100\"\r\n      >\r\n      </ngx-datatable>\r\n      <br />\r\n      <ngx-datatable\r\n        class=\"material\"\r\n        [rows]=\"rows2\"\r\n        [columns]=\"columns2\"\r\n        [headerHeight]=\"50\"\r\n        [footerHeight]=\"50\"\r\n        rowHeight=\"auto\"\r\n      >\r\n      </ngx-datatable>\r\n    </div>\r\n  `\r\n})\r\nexport class MultipleTablesComponent {\r\n  columns1 = [{ prop: 'name' }, { name: 'Gender' }, { name: 'Company' }];\r\n\r\n  columns2 = [{ prop: 'name', name: 'Name' }, { name: 'Gender' }];\r\n\r\n  rows1 = [\r\n    { name: 'Larry', gender: 'Male', company: 'Cisco' },\r\n    { name: 'Lauren', gender: 'Female', company: 'HP' }\r\n  ];\r\n\r\n  rows2 = [\r\n    { name: 'Callie', gender: 'Female' },\r\n    { name: 'Maggie', gender: 'Female' }\r\n  ];\r\n\r\n  ColumnMode = ColumnMode;\r\n}\r\n","import { Component } from '@angular/core';\r\nimport { MockServerResultsService } from './mock-server-results-service';\r\nimport { CorporateEmployee } from './model/corporate-employee';\r\nimport { Page } from './model/page';\r\nimport { ColumnMode } from 'projects/swimlane/ngx-datatable/src/public-api';\r\n\r\n@Component({\r\n  selector: 'paging-scrolling-novirtualization-demo',\r\n  providers: [MockServerResultsService],\r\n  template: `\r\n    <div>\r\n      <h3>\r\n        Server-side Paging\r\n        <small>\r\n          <a\r\n            href=\"https://github.com/swimlane/ngx-datatable/blob/master/src/app/paging/paging-scrolling-novirtualization.component.ts\"\r\n            target=\"_blank\"\r\n          >\r\n            Source\r\n          </a>\r\n        </small>\r\n      </h3>\r\n      <ngx-datatable\r\n        class=\"material\"\r\n        [rows]=\"rows\"\r\n        [columns]=\"[{ name: 'Name' }, { name: 'Gender' }, { name: 'Company' }]\"\r\n        [columnMode]=\"ColumnMode.force\"\r\n        [headerHeight]=\"50\"\r\n        [footerHeight]=\"50\"\r\n        rowHeight=\"auto\"\r\n        [scrollbarV]=\"true\"\r\n        [virtualization]=\"false\"\r\n        [externalPaging]=\"true\"\r\n        [count]=\"page.totalElements\"\r\n        [offset]=\"page.pageNumber\"\r\n        [limit]=\"page.size\"\r\n        (page)=\"setPage($event)\"\r\n      >\r\n      </ngx-datatable>\r\n    </div>\r\n  `\r\n})\r\nexport class PagingScrollingNoVirtualizationComponent {\r\n  page = new Page();\r\n  rows = new Array<CorporateEmployee>();\r\n\r\n  ColumnMode = ColumnMode;\r\n\r\n  constructor(private serverResultsService: MockServerResultsService) {\r\n    this.page.pageNumber = 0;\r\n    this.page.size = 20;\r\n  }\r\n\r\n  ngOnInit() {\r\n    this.setPage({ offset: 0 });\r\n  }\r\n\r\n  /**\r\n   * Populate the table with new data based on the page number\r\n   * @param page The page to select\r\n   */\r\n  setPage(pageInfo) {\r\n    this.page.pageNumber = pageInfo.offset;\r\n    this.serverResultsService.getResults(this.page).subscribe(pagedData => {\r\n      this.page = pagedData.page;\r\n      this.rows = pagedData.data;\r\n    });\r\n  }\r\n}\r\n","import { Component } from '@angular/core';\r\nimport { ColumnMode, SelectionType } from 'projects/swimlane/ngx-datatable/src/public-api';\r\n\r\n@Component({\r\n  selector: 'chkbox-selection-demo',\r\n  template: `\r\n    <div>\r\n      <h3>\r\n        Checkbox Selection\r\n        <small>\r\n          <a\r\n            href=\"https://github.com/swimlane/ngx-datatable/blob/master/src/app/selection/selection-chkbox.component.ts\"\r\n            target=\"_blank\"\r\n          >\r\n            Source\r\n          </a>\r\n        </small>\r\n        <small>\r\n          <a href=\"javascript:void(0)\" (click)=\"add()\">Add</a> |\r\n          <a href=\"javascript:void(0)\" (click)=\"update()\">Update</a> |\r\n          <a href=\"javascript:void(0)\" (click)=\"remove()\">Remove</a>\r\n        </small>\r\n      </h3>\r\n      <div style=\"float:left;width:75%\">\r\n        <ngx-datatable\r\n          style=\"width: 90%\"\r\n          class=\"material\"\r\n          [rows]=\"rows\"\r\n          [columnMode]=\"ColumnMode.force\"\r\n          [headerHeight]=\"50\"\r\n          [footerHeight]=\"50\"\r\n          rowHeight=\"auto\"\r\n          [limit]=\"5\"\r\n          [selected]=\"selected\"\r\n          [selectionType]=\"SelectionType.checkbox\"\r\n          [selectAllRowsOnPage]=\"false\"\r\n          [displayCheck]=\"displayCheck\"\r\n          (activate)=\"onActivate($event)\"\r\n          (select)=\"onSelect($event)\"\r\n        >\r\n          <ngx-datatable-column\r\n            [width]=\"30\"\r\n            [sortable]=\"false\"\r\n            [canAutoResize]=\"false\"\r\n            [draggable]=\"false\"\r\n            [resizeable]=\"false\"\r\n            [headerCheckboxable]=\"true\"\r\n            [checkboxable]=\"true\"\r\n          >\r\n          </ngx-datatable-column>\r\n          <ngx-datatable-column name=\"Name\"></ngx-datatable-column>\r\n          <ngx-datatable-column name=\"Gender\"></ngx-datatable-column>\r\n          <ngx-datatable-column name=\"Company\"></ngx-datatable-column>\r\n        </ngx-datatable>\r\n      </div>\r\n\r\n      <div class=\"selected-column\">\r\n        <h4>\r\n          Selections <small>({{ selected?.length }})</small>\r\n        </h4>\r\n        <ul>\r\n          <li *ngFor=\"let sel of selected\">\r\n            {{ sel.name }}\r\n          </li>\r\n          <li *ngIf=\"!selected?.length\">No Selections</li>\r\n        </ul>\r\n      </div>\r\n    </div>\r\n  `\r\n})\r\nexport class CheckboxSelectionComponent {\r\n  rows = [];\r\n  selected = [];\r\n\r\n  ColumnMode = ColumnMode;\r\n  SelectionType = SelectionType;\r\n\r\n  constructor() {\r\n    this.fetch(data => {\r\n      this.rows = data;\r\n    });\r\n  }\r\n\r\n  fetch(cb) {\r\n    const req = new XMLHttpRequest();\r\n    req.open('GET', `assets/data/company.json`);\r\n\r\n    req.onload = () => {\r\n      cb(JSON.parse(req.response));\r\n    };\r\n\r\n    req.send();\r\n  }\r\n\r\n  onSelect({ selected }) {\r\n    console.log('Select Event', selected, this.selected);\r\n\r\n    this.selected.splice(0, this.selected.length);\r\n    this.selected.push(...selected);\r\n  }\r\n\r\n  onActivate(event) {\r\n    console.log('Activate Event', event);\r\n  }\r\n\r\n  add() {\r\n    this.selected.push(this.rows[1], this.rows[3]);\r\n  }\r\n\r\n  update() {\r\n    this.selected = [this.rows[1], this.rows[3]];\r\n  }\r\n\r\n  remove() {\r\n    this.selected = [];\r\n  }\r\n\r\n  displayCheck(row) {\r\n    return row.name !== 'Ethel Price';\r\n  }\r\n}\r\n","import { Component } from '@angular/core';\r\nimport { ColumnMode, SelectionType } from 'projects/swimlane/ngx-datatable/src/public-api';\r\n\r\n@Component({\r\n  selector: 'multi-click-selection-demo',\r\n  template: `\r\n    <div>\r\n      <h3>\r\n        Multi Click Selection\r\n        <small>\r\n          <a\r\n            href=\"https://github.com/swimlane/ngx-datatable/blob/master/src/app/selection/selection-multi-click.component.ts\"\r\n            target=\"_blank\"\r\n          >\r\n            Source\r\n          </a>\r\n        </small>\r\n      </h3>\r\n      <div style=\"float:left;width:75%\">\r\n        <div class=\"info\">\r\n          <p>This demonstrates multi selection table, where any click event causes a selection.</p>\r\n        </div>\r\n\r\n        <ngx-datatable\r\n          class=\"material\"\r\n          [rows]=\"rows\"\r\n          [columnMode]=\"ColumnMode.force\"\r\n          [columns]=\"columns\"\r\n          [headerHeight]=\"50\"\r\n          [footerHeight]=\"50\"\r\n          rowHeight=\"auto\"\r\n          [limit]=\"5\"\r\n          [selected]=\"selected\"\r\n          [selectionType]=\"SelectionType.multiClick\"\r\n          (activate)=\"onActivate($event)\"\r\n          (select)=\"onSelect($event)\"\r\n        >\r\n        </ngx-datatable>\r\n      </div>\r\n\r\n      <div class=\"selected-column\">\r\n        <h4>Selections</h4>\r\n        <ul>\r\n          <li *ngFor=\"let sel of selected\">\r\n            {{ sel.name }}\r\n          </li>\r\n          <li *ngIf=\"!selected.length\">No Selections</li>\r\n        </ul>\r\n      </div>\r\n    </div>\r\n  `\r\n})\r\nexport class MultiClickSelectionComponent {\r\n  rows = [];\r\n\r\n  selected = [];\r\n\r\n  columns: any[] = [{ prop: 'name' }, { name: 'Company' }, { name: 'Gender' }];\r\n\r\n  ColumnMode = ColumnMode;\r\n  SelectionType = SelectionType;\r\n\r\n  constructor() {\r\n    this.fetch(data => {\r\n      this.rows = data;\r\n    });\r\n  }\r\n\r\n  fetch(cb) {\r\n    const req = new XMLHttpRequest();\r\n    req.open('GET', `assets/data/company.json`);\r\n\r\n    req.onload = () => {\r\n      cb(JSON.parse(req.response));\r\n    };\r\n\r\n    req.send();\r\n  }\r\n\r\n  onSelect({ selected }) {\r\n    console.log('Select Event', selected, this.selected);\r\n\r\n    this.selected.splice(0, this.selected.length);\r\n    this.selected.push(...selected);\r\n  }\r\n\r\n  onActivate(event) {\r\n    console.log('Activate Event', event);\r\n  }\r\n}\r\n","import { Component } from '@angular/core';\r\n\r\n@Component({\r\n  selector: 'horz-vert-scrolling-demo',\r\n  template: `\r\n    <div>\r\n      <h3>\r\n        Horizontal and Vertical Scrolling\r\n        <small>\r\n          <a\r\n            href=\"https://github.com/swimlane/ngx-datatable/blob/master/src/app/basic/scrolling.component.ts\"\r\n            target=\"_blank\"\r\n          >\r\n            Source\r\n          </a>\r\n        </small>\r\n      </h3>\r\n      <ngx-datatable\r\n        class=\"material\"\r\n        [rows]=\"rows\"\r\n        columnMode=\"force\"\r\n        [headerHeight]=\"50\"\r\n        [footerHeight]=\"0\"\r\n        [rowHeight]=\"50\"\r\n        [scrollbarV]=\"true\"\r\n        [scrollbarH]=\"true\"\r\n      >\r\n        <ngx-datatable-column name=\"Name\" [width]=\"300\"></ngx-datatable-column>\r\n        <ngx-datatable-column name=\"Gender\"></ngx-datatable-column>\r\n        <ngx-datatable-column name=\"Age\"></ngx-datatable-column>\r\n        <ngx-datatable-column name=\"City\" [width]=\"300\" prop=\"address.city\"></ngx-datatable-column>\r\n        <ngx-datatable-column name=\"State\" [width]=\"300\" prop=\"address.state\"></ngx-datatable-column>\r\n      </ngx-datatable>\r\n    </div>\r\n  `\r\n})\r\nexport class HorzVertScrolling {\r\n  rows = [];\r\n\r\n  constructor() {\r\n    this.fetch(data => {\r\n      this.rows = data;\r\n    });\r\n  }\r\n\r\n  fetch(cb) {\r\n    const req = new XMLHttpRequest();\r\n    req.open('GET', `assets/data/100k.json`);\r\n\r\n    req.onload = () => {\r\n      cb(JSON.parse(req.response));\r\n    };\r\n\r\n    req.send();\r\n  }\r\n}\r\n","/**\r\n * An object used to get page information from the server\r\n */\r\nexport class Page {\r\n  // The number of elements in the page\r\n  size: number = 0;\r\n  // The total number of elements\r\n  totalElements: number = 0;\r\n  // The total number of pages\r\n  totalPages: number = 0;\r\n  // The current page number\r\n  pageNumber: number = 0;\r\n}\r\n","import {\r\n  Component,\r\n  Input,\r\n  PipeTransform,\r\n  HostBinding,\r\n  ViewChild,\r\n  ChangeDetectorRef,\r\n  Output,\r\n  EventEmitter,\r\n  HostListener,\r\n  ElementRef,\r\n  ViewContainerRef,\r\n  OnDestroy,\r\n  DoCheck,\r\n  ChangeDetectionStrategy\r\n} from '@angular/core';\r\n\r\nimport { TableColumn } from '../../types/table-column.type';\r\nimport { SortDirection } from '../../types/sort-direction.type';\r\nimport { Keys } from '../../utils/keys';\r\n\r\nexport type TreeStatus = 'collapsed' | 'expanded' | 'loading' | 'disabled';\r\n\r\n@Component({\r\n  selector: 'datatable-body-cell',\r\n  changeDetection: ChangeDetectionStrategy.OnPush,\r\n  template: `\r\n    <div class=\"datatable-body-cell-label\" [style.margin-left.px]=\"calcLeftMargin(column, row)\">\r\n      <label\r\n        *ngIf=\"column.checkboxable && (!displayCheck || displayCheck(row, column, value))\"\r\n        class=\"datatable-checkbox\"\r\n      >\r\n        <input type=\"checkbox\" [checked]=\"isSelected\" (click)=\"onCheckboxChange($event)\" [disabled]=\"selectCheck && !selectCheck(row)\" />\r\n      </label>\r\n      <ng-container *ngIf=\"column.isTreeColumn\">\r\n        <button\r\n          *ngIf=\"!column.treeToggleTemplate\"\r\n          class=\"datatable-tree-button\"\r\n          [disabled]=\"treeStatus === 'disabled'\"\r\n          (click)=\"onTreeAction()\"\r\n        >\r\n          <span>\r\n            <i *ngIf=\"treeStatus === 'loading'\" class=\"icon datatable-icon-collapse\"></i>\r\n            <i *ngIf=\"treeStatus === 'collapsed'\" class=\"icon datatable-icon-up\"></i>\r\n            <i *ngIf=\"treeStatus === 'expanded' || treeStatus === 'disabled'\" class=\"icon datatable-icon-down\"></i>\r\n          </span>\r\n        </button>\r\n        <ng-template\r\n          *ngIf=\"column.treeToggleTemplate\"\r\n          [ngTemplateOutlet]=\"column.treeToggleTemplate\"\r\n          [ngTemplateOutletContext]=\"{ cellContext: cellContext }\"\r\n        >\r\n        </ng-template>\r\n      </ng-container>\r\n\r\n      <span *ngIf=\"!column.cellTemplate\" [title]=\"sanitizedValue\" [innerHTML]=\"value\"> </span>\r\n      <ng-template\r\n        #cellTemplate\r\n        *ngIf=\"column.cellTemplate\"\r\n        [ngTemplateOutlet]=\"column.cellTemplate\"\r\n        [ngTemplateOutletContext]=\"cellContext\"\r\n      >\r\n      </ng-template>\r\n    </div>\r\n  `\r\n})\r\nexport class DataTableBodyCellComponent implements DoCheck, OnDestroy {\r\n  @Input() displayCheck: (row: any, column?: TableColumn, value?: any) => boolean;\r\n  @Input() selectCheck: any;\r\n\r\n  @Input() set group(group: any) {\r\n    this._group = group;\r\n    this.cellContext.group = group;\r\n    this.checkValueUpdates();\r\n    this.cd.markForCheck();\r\n  }\r\n\r\n  get group() {\r\n    return this._group;\r\n  }\r\n\r\n  @Input() set rowHeight(val: number) {\r\n    this._rowHeight = val;\r\n    this.cellContext.rowHeight = val;\r\n    this.checkValueUpdates();\r\n    this.cd.markForCheck();\r\n  }\r\n\r\n  get rowHeight() {\r\n    return this._rowHeight;\r\n  }\r\n\r\n  @Input() set isSelected(val: boolean) {\r\n    this._isSelected = val;\r\n    this.cellContext.isSelected = val;\r\n    this.cd.markForCheck();\r\n  }\r\n\r\n  get isSelected(): boolean {\r\n    return this._isSelected;\r\n  }\r\n\r\n  @Input() set expanded(val: boolean) {\r\n    this._expanded = val;\r\n    this.cellContext.expanded = val;\r\n    this.cd.markForCheck();\r\n  }\r\n\r\n  get expanded(): boolean {\r\n    return this._expanded;\r\n  }\r\n\r\n  @Input() set rowIndex(val: number) {\r\n    this._rowIndex = val;\r\n    this.cellContext.rowIndex = val;\r\n    this.checkValueUpdates();\r\n    this.cd.markForCheck();\r\n  }\r\n\r\n  get rowIndex(): number {\r\n    return this._rowIndex;\r\n  }\r\n\r\n  @Input() set column(column: TableColumn) {\r\n    this._column = column;\r\n    this.cellContext.column = column;\r\n    this.checkValueUpdates();\r\n    this.cd.markForCheck();\r\n  }\r\n\r\n  get column(): TableColumn {\r\n    return this._column;\r\n  }\r\n\r\n  @Input() set row(row: any) {\r\n    this._row = row;\r\n    this.cellContext.row = row;\r\n    this.checkValueUpdates();\r\n    this.cd.markForCheck();\r\n  }\r\n\r\n  get row(): any {\r\n    return this._row;\r\n  }\r\n\r\n  @Input() set sorts(val: any[]) {\r\n    this._sorts = val;\r\n    this.calcSortDir = this.calcSortDir(val);\r\n  }\r\n\r\n  get sorts(): any[] {\r\n    return this._sorts;\r\n  }\r\n\r\n  @Input() set treeStatus(status: TreeStatus) {\r\n    if (status !== 'collapsed' && status !== 'expanded' && status !== 'loading' && status !== 'disabled') {\r\n      this._treeStatus = 'collapsed';\r\n    } else {\r\n      this._treeStatus = status;\r\n    }\r\n    this.cellContext.treeStatus = this._treeStatus;\r\n    this.checkValueUpdates();\r\n    this.cd.markForCheck();\r\n  }\r\n\r\n  get treeStatus(): TreeStatus {\r\n    return this._treeStatus;\r\n  }\r\n\r\n  @Output() activate: EventEmitter<any> = new EventEmitter();\r\n\r\n  @Output() treeAction: EventEmitter<any> = new EventEmitter();\r\n\r\n  @ViewChild('cellTemplate', { read: ViewContainerRef, static: true })\r\n  cellTemplate: ViewContainerRef;\r\n\r\n  @HostBinding('class')\r\n  get columnCssClasses(): any {\r\n    let cls = 'datatable-body-cell';\r\n    if (this.column.cellClass) {\r\n      if (typeof this.column.cellClass === 'string') {\r\n        cls += ' ' + this.column.cellClass;\r\n      } else if (typeof this.column.cellClass === 'function') {\r\n        const res = this.column.cellClass({\r\n          row: this.row,\r\n          group: this.group,\r\n          column: this.column,\r\n          value: this.value,\r\n          rowHeight: this.rowHeight\r\n        });\r\n\r\n        if (typeof res === 'string') {\r\n          cls += ' ' + res;\r\n        } else if (typeof res === 'object') {\r\n          const keys = Object.keys(res);\r\n          for (const k of keys) {\r\n            if (res[k] === true) {\r\n              cls += ` ${k}`;\r\n            }\r\n          }\r\n        }\r\n      }\r\n    }\r\n    if (!this.sortDir) {\r\n      cls += ' sort-active';\r\n    }\r\n    if (this.isFocused) {\r\n      cls += ' active';\r\n    }\r\n    if (this.sortDir === SortDirection.asc) {\r\n      cls += ' sort-asc';\r\n    }\r\n    if (this.sortDir === SortDirection.desc) {\r\n      cls += ' sort-desc';\r\n    }\r\n\r\n    return cls;\r\n  }\r\n\r\n  @HostBinding('style.width.px')\r\n  get width(): number {\r\n    return this.column.width;\r\n  }\r\n\r\n  @HostBinding('style.minWidth.px')\r\n  get minWidth(): number {\r\n    return this.column.minWidth;\r\n  }\r\n\r\n  @HostBinding('style.maxWidth.px')\r\n  get maxWidth(): number {\r\n    return this.column.maxWidth;\r\n  }\r\n\r\n  @HostBinding('style.height')\r\n  get height(): string | number {\r\n    const height = this.rowHeight;\r\n    if (isNaN(height)) {\r\n      return height;\r\n    }\r\n    return height + 'px';\r\n  }\r\n\r\n  sanitizedValue: any;\r\n  value: any;\r\n  sortDir: SortDirection;\r\n  isFocused = false;\r\n  onCheckboxChangeFn = this.onCheckboxChange.bind(this);\r\n  activateFn = this.activate.emit.bind(this.activate);\r\n\r\n  cellContext: any;\r\n\r\n  private _isSelected: boolean;\r\n  private _sorts: any[];\r\n  private _column: TableColumn;\r\n  private _row: any;\r\n  private _group: any;\r\n  private _rowHeight: number;\r\n  private _rowIndex: number;\r\n  private _expanded: boolean;\r\n  private _element: any;\r\n  private _treeStatus: TreeStatus;\r\n\r\n  constructor(element: ElementRef, private cd: ChangeDetectorRef) {\r\n    this.cellContext = {\r\n      onCheckboxChangeFn: this.onCheckboxChangeFn,\r\n      activateFn: this.activateFn,\r\n      row: this.row,\r\n      group: this.group,\r\n      value: this.value,\r\n      column: this.column,\r\n      rowHeight: this.rowHeight,\r\n      isSelected: this.isSelected,\r\n      rowIndex: this.rowIndex,\r\n      treeStatus: this.treeStatus,\r\n      onTreeAction: this.onTreeAction.bind(this)\r\n    };\r\n\r\n    this._element = element.nativeElement;\r\n  }\r\n\r\n  ngDoCheck(): void {\r\n    this.checkValueUpdates();\r\n  }\r\n\r\n  ngOnDestroy(): void {\r\n    if (this.cellTemplate) {\r\n      this.cellTemplate.clear();\r\n    }\r\n  }\r\n\r\n  checkValueUpdates(): void {\r\n    let value = '';\r\n\r\n    if (!this.row || !this.column) {\r\n      value = '';\r\n    } else {\r\n      const val = this.column.$$valueGetter(this.row, this.column.prop);\r\n      const userPipe: PipeTransform = this.column.pipe;\r\n\r\n      if (userPipe) {\r\n        value = userPipe.transform(val);\r\n      } else if (value !== undefined) {\r\n        value = val;\r\n      }\r\n    }\r\n\r\n    if (this.value !== value) {\r\n      this.value = value;\r\n      this.cellContext.value = value;\r\n      this.sanitizedValue = value !== null && value !== undefined ? this.stripHtml(value) : value;\r\n      this.cd.markForCheck();\r\n    }\r\n  }\r\n\r\n  @HostListener('focus')\r\n  onFocus(): void {\r\n    this.isFocused = true;\r\n  }\r\n\r\n  @HostListener('blur')\r\n  onBlur(): void {\r\n    this.isFocused = false;\r\n  }\r\n\r\n  @HostListener('click', ['$event'])\r\n  onClick(event: MouseEvent): void {\r\n    this.activate.emit({\r\n      type: 'click',\r\n      event,\r\n      row: this.row,\r\n      group: this.group,\r\n      rowHeight: this.rowHeight,\r\n      column: this.column,\r\n      value: this.value,\r\n      cellElement: this._element\r\n    });\r\n  }\r\n\r\n  @HostListener('dblclick', ['$event'])\r\n  onDblClick(event: MouseEvent): void {\r\n    this.activate.emit({\r\n      type: 'dblclick',\r\n      event,\r\n      row: this.row,\r\n      group: this.group,\r\n      rowHeight: this.rowHeight,\r\n      column: this.column,\r\n      value: this.value,\r\n      cellElement: this._element\r\n    });\r\n  }\r\n\r\n  @HostListener('keydown', ['$event'])\r\n  onKeyDown(event: KeyboardEvent): void {\r\n    const keyCode = event.keyCode;\r\n    const isTargetCell = event.target === this._element;\r\n\r\n    const isAction =\r\n      keyCode === Keys.return ||\r\n      keyCode === Keys.down ||\r\n      keyCode === Keys.up ||\r\n      keyCode === Keys.left ||\r\n      keyCode === Keys.right;\r\n\r\n    if (isAction && isTargetCell) {\r\n      event.preventDefault();\r\n      event.stopPropagation();\r\n\r\n      this.activate.emit({\r\n        type: 'keydown',\r\n        event,\r\n        row: this.row,\r\n        group: this.group,\r\n        rowHeight: this.rowHeight,\r\n        column: this.column,\r\n        value: this.value,\r\n        cellElement: this._element\r\n      });\r\n    }\r\n  }\r\n\r\n  onCheckboxChange(event: any): void {\r\n    this.activate.emit({\r\n      type: 'checkbox',\r\n      event,\r\n      row: this.row,\r\n      group: this.group,\r\n      rowHeight: this.rowHeight,\r\n      column: this.column,\r\n      value: this.value,\r\n      cellElement: this._element,\r\n      treeStatus: 'collapsed'\r\n    });\r\n  }\r\n\r\n  calcSortDir(sorts: any[]): any {\r\n    if (!sorts) {\r\n      return;\r\n    }\r\n\r\n    const sort = sorts.find((s: any) => {\r\n      return s.prop === this.column.prop;\r\n    });\r\n\r\n    if (sort) {\r\n      return sort.dir;\r\n    }\r\n  }\r\n\r\n  stripHtml(html: string): string {\r\n    if (!html.replace) {\r\n      return html;\r\n    }\r\n    return html.replace(/<\\/?[^>]+(>|$)/g, '');\r\n  }\r\n\r\n  onTreeAction() {\r\n    this.treeAction.emit(this.row);\r\n  }\r\n\r\n  calcLeftMargin(column: any, row: any) {\r\n    const levelIndent = column.treeLevelIndent != null ? column.treeLevelIndent : 50;\r\n    return column.isTreeColumn ? row.level * levelIndent : 0;\r\n  }\r\n}\r\n","import { Component } from '@angular/core';\r\nimport { ColumnMode } from 'projects/swimlane/ngx-datatable/src/public-api';\r\n\r\n@Component({\r\n  selector: 'column-toggle-demo',\r\n  template: `\r\n    <div>\r\n      <h3>\r\n        Column Toggling\r\n        <small>\r\n          <a\r\n            href=\"https://github.com/swimlane/ngx-datatable/blob/master/src/app/columns/column-toggle.component.ts\"\r\n            target=\"_blank\"\r\n          >\r\n            Source\r\n          </a>\r\n        </small>\r\n      </h3>\r\n      <div style=\"float:left;width:75%\">\r\n        <ngx-datatable\r\n          class=\"material\"\r\n          [rows]=\"rows\"\r\n          [columnMode]=\"ColumnMode.force\"\r\n          [headerHeight]=\"50\"\r\n          [footerHeight]=\"50\"\r\n          rowHeight=\"auto\"\r\n        >\r\n          <ngx-datatable-column *ngFor=\"let col of columns\" [name]=\"col.name\"> </ngx-datatable-column>\r\n        </ngx-datatable>\r\n      </div>\r\n      <div class=\"selected-column\">\r\n        <h4>Available Columns</h4>\r\n        <ul>\r\n          <li *ngFor=\"let col of allColumns\">\r\n            <input type=\"checkbox\" [id]=\"col.name\" (click)=\"toggle(col)\" [checked]=\"isChecked(col)\" />\r\n            <label [attr.for]=\"col.name\">{{ col.name }}</label>\r\n          </li>\r\n        </ul>\r\n      </div>\r\n    </div>\r\n  `\r\n})\r\nexport class ColumnToggleComponent {\r\n  rows = [\r\n    {\r\n      name: 'Claudine Neal',\r\n      gender: 'female',\r\n      company: 'Sealoud'\r\n    },\r\n    {\r\n      name: 'Beryl Rice',\r\n      gender: 'female',\r\n      company: 'Velity'\r\n    }\r\n  ];\r\n\r\n  columns = [{ name: 'Name' }, { name: 'Gender' }, { name: 'Company' }];\r\n\r\n  allColumns = [{ name: 'Name' }, { name: 'Gender' }, { name: 'Company' }];\r\n\r\n  ColumnMode = ColumnMode;\r\n\r\n  toggle(col) {\r\n    const isChecked = this.isChecked(col);\r\n\r\n    if (isChecked) {\r\n      this.columns = this.columns.filter(c => {\r\n        return c.name !== col.name;\r\n      });\r\n    } else {\r\n      this.columns = [...this.columns, col];\r\n    }\r\n  }\r\n\r\n  isChecked(col) {\r\n    return (\r\n      this.columns.find(c => {\r\n        return c.name === col.name;\r\n      }) !== undefined\r\n    );\r\n  }\r\n}\r\n","import { Directive, TemplateRef } from '@angular/core';\r\n\r\n@Directive({ selector: '[ngx-datatable-tree-toggle]' })\r\nexport class DataTableColumnCellTreeToggle {\r\n  constructor(public template: TemplateRef<any>) {}\r\n}\r\n","import { Component } from '@angular/core';\r\nimport { ColumnMode, SelectionType } from 'projects/swimlane/ngx-datatable/src/public-api';\r\n\r\n@Component({\r\n  selector: 'cell-selection-demo',\r\n  template: `\r\n    <div>\r\n      <h3>\r\n        Cell Selection\r\n        <small>\r\n          <a\r\n            href=\"https://github.com/swimlane/ngx-datatable/blob/master/src/app/selection/selection-cell.component.ts\"\r\n            target=\"_blank\"\r\n          >\r\n            Source\r\n          </a>\r\n        </small>\r\n      </h3>\r\n      <ngx-datatable\r\n        class=\"material selection-cell\"\r\n        [rows]=\"rows\"\r\n        [columnMode]=\"ColumnMode.force\"\r\n        [columns]=\"columns\"\r\n        [headerHeight]=\"50\"\r\n        [footerHeight]=\"50\"\r\n        [rowHeight]=\"50\"\r\n        [selected]=\"selected\"\r\n        [selectionType]=\"SelectionType.cell\"\r\n        (select)=\"onSelect($event)\"\r\n        (activate)=\"onActivate($event)\"\r\n      >\r\n      </ngx-datatable>\r\n    </div>\r\n  `\r\n})\r\nexport class CellSelectionComponent {\r\n  rows: any[] = [];\r\n  selected: any[] = [];\r\n  columns: any[] = [{ prop: 'name' }, { name: 'Company' }, { name: 'Gender' }];\r\n\r\n  ColumnMode = ColumnMode;\r\n  SelectionType = SelectionType;\r\n\r\n  constructor() {\r\n    this.fetch(data => {\r\n      this.rows = data;\r\n    });\r\n  }\r\n\r\n  fetch(cb) {\r\n    const req = new XMLHttpRequest();\r\n    req.open('GET', `assets/data/company.json`);\r\n\r\n    req.onload = () => {\r\n      cb(JSON.parse(req.response));\r\n    };\r\n\r\n    req.send();\r\n  }\r\n\r\n  onSelect(event) {\r\n    console.log('Event: select', event, this.selected);\r\n  }\r\n\r\n  onActivate(event) {\r\n    console.log('Event: activate', event);\r\n  }\r\n}\r\n","import { Component, Input, OnChanges, PipeTransform, TemplateRef } from '@angular/core';\r\n\r\nexport interface ISummaryColumn {\r\n  summaryFunc?: (cells: any[]) => any;\r\n  summaryTemplate?: TemplateRef<any>;\r\n\r\n  prop: string;\r\n  pipe?: PipeTransform;\r\n}\r\n\r\nfunction defaultSumFunc(cells: any[]): any {\r\n  const cellsWithValues = cells.filter(cell => !!cell);\r\n\r\n  if (!cellsWithValues.length) {\r\n    return null;\r\n  }\r\n  if (cellsWithValues.some(cell => typeof cell !== 'number')) {\r\n    return null;\r\n  }\r\n\r\n  return cellsWithValues.reduce((res, cell) => res + cell);\r\n}\r\n\r\nfunction noopSumFunc(cells: any[]): void {\r\n  return null;\r\n}\r\n\r\n@Component({\r\n  selector: 'datatable-summary-row',\r\n  template: `\r\n    <datatable-body-row\r\n      *ngIf=\"summaryRow && _internalColumns\"\r\n      tabindex=\"-1\"\r\n      [innerWidth]=\"innerWidth\"\r\n      [offsetX]=\"offsetX\"\r\n      [columns]=\"_internalColumns\"\r\n      [rowHeight]=\"rowHeight\"\r\n      [row]=\"summaryRow\"\r\n      [rowIndex]=\"-1\"\r\n    >\r\n    </datatable-body-row>\r\n  `,\r\n  host: {\r\n    class: 'datatable-summary-row'\r\n  }\r\n})\r\nexport class DataTableSummaryRowComponent implements OnChanges {\r\n  @Input() rows: any[];\r\n  @Input() columns: ISummaryColumn[];\r\n\r\n  @Input() rowHeight: number;\r\n  @Input() offsetX: number;\r\n  @Input() innerWidth: number;\r\n\r\n  _internalColumns: ISummaryColumn[];\r\n  summaryRow: any = {};\r\n\r\n  ngOnChanges() {\r\n    if (!this.columns || !this.rows) {\r\n      return;\r\n    }\r\n    this.updateInternalColumns();\r\n    this.updateValues();\r\n  }\r\n\r\n  private updateInternalColumns() {\r\n    this._internalColumns = this.columns.map(col => ({\r\n      ...col,\r\n      cellTemplate: col.summaryTemplate\r\n    }));\r\n  }\r\n\r\n  private updateValues() {\r\n    this.summaryRow = {};\r\n\r\n    this.columns\r\n      .filter(col => !col.summaryTemplate)\r\n      .forEach(col => {\r\n        const cellsFromSingleColumn = this.rows.map(row => row[col.prop]);\r\n        const sumFunc = this.getSummaryFunction(col);\r\n\r\n        this.summaryRow[col.prop] = col.pipe\r\n          ? col.pipe.transform(sumFunc(cellsFromSingleColumn))\r\n          : sumFunc(cellsFromSingleColumn);\r\n      });\r\n  }\r\n\r\n  private getSummaryFunction(column: ISummaryColumn): (a: any[]) => any {\r\n    if (column.summaryFunc === undefined) {\r\n      return defaultSumFunc;\r\n    } else if (column.summaryFunc === null) {\r\n      return noopSumFunc;\r\n    } else {\r\n      return column.summaryFunc;\r\n    }\r\n  }\r\n}\r\n","import { Directive, Output, EventEmitter, ElementRef, HostBinding, NgZone, OnInit, OnDestroy } from '@angular/core';\r\n\r\n/**\r\n * Visibility Observer Directive\r\n *\r\n * Usage:\r\n *\r\n * \t\t<div\r\n * \t\t\tvisibilityObserver\r\n * \t\t\t(visible)=\"onVisible($event)\">\r\n * \t\t</div>\r\n *\r\n */\r\n@Directive({ selector: '[visibilityObserver]' })\r\nexport class VisibilityDirective implements OnInit, OnDestroy {\r\n  @HostBinding('class.visible')\r\n  isVisible: boolean = false;\r\n\r\n  @Output() visible: EventEmitter<any> = new EventEmitter();\r\n\r\n  timeout: any;\r\n\r\n  constructor(private element: ElementRef, private zone: NgZone) {}\r\n\r\n  ngOnInit(): void {\r\n    this.runCheck();\r\n  }\r\n\r\n  ngOnDestroy(): void {\r\n    clearTimeout(this.timeout);\r\n  }\r\n\r\n  onVisibilityChange(): void {\r\n    // trigger zone recalc for columns\r\n    this.zone.run(() => {\r\n      this.isVisible = true;\r\n      this.visible.emit(true);\r\n    });\r\n  }\r\n\r\n  runCheck(): void {\r\n    const check = () => {\r\n      // https://davidwalsh.name/offsetheight-visibility\r\n      const { offsetHeight, offsetWidth } = this.element.nativeElement;\r\n\r\n      if (offsetHeight && offsetWidth) {\r\n        clearTimeout(this.timeout);\r\n        this.onVisibilityChange();\r\n      } else {\r\n        clearTimeout(this.timeout);\r\n        this.zone.runOutsideAngular(() => {\r\n          this.timeout = setTimeout(() => check(), 50);\r\n        });\r\n      }\r\n    };\r\n\r\n    this.timeout = setTimeout(() => check());\r\n  }\r\n}\r\n","import { Component, Output, EventEmitter, ChangeDetectionStrategy, Input } from '@angular/core';\r\nimport { DatatableFooterDirective } from './footer.directive';\r\n@Component({\r\n  selector: 'datatable-footer',\r\n  template: `\r\n    <div\r\n      class=\"datatable-footer-inner\"\r\n      [ngClass]=\"{ 'selected-count': selectedMessage }\"\r\n      [style.height.px]=\"footerHeight\"\r\n    >\r\n      <ng-template\r\n        *ngIf=\"footerTemplate\"\r\n        [ngTemplateOutlet]=\"footerTemplate.template\"\r\n        [ngTemplateOutletContext]=\"{\r\n          rowCount: rowCount,\r\n          pageSize: pageSize,\r\n          selectedCount: selectedCount,\r\n          curPage: curPage,\r\n          offset: offset\r\n        }\"\r\n      >\r\n      </ng-template>\r\n      <div class=\"page-count\" *ngIf=\"!footerTemplate\">\r\n        <span *ngIf=\"selectedMessage\"> {{ selectedCount?.toLocaleString() }} {{ selectedMessage }} / </span>\r\n        {{ rowCount?.toLocaleString() }} {{ totalMessage }}\r\n      </div>\r\n      <datatable-pager\r\n        *ngIf=\"!footerTemplate\"\r\n        [pagerLeftArrowIcon]=\"pagerLeftArrowIcon\"\r\n        [pagerRightArrowIcon]=\"pagerRightArrowIcon\"\r\n        [pagerPreviousIcon]=\"pagerPreviousIcon\"\r\n        [pagerNextIcon]=\"pagerNextIcon\"\r\n        [page]=\"curPage\"\r\n        [size]=\"pageSize\"\r\n        [count]=\"rowCount\"\r\n        [hidden]=\"!isVisible\"\r\n        (change)=\"page.emit($event)\"\r\n      >\r\n      </datatable-pager>\r\n    </div>\r\n  `,\r\n  host: {\r\n    class: 'datatable-footer'\r\n  },\r\n  changeDetection: ChangeDetectionStrategy.OnPush\r\n})\r\nexport class DataTableFooterComponent {\r\n  @Input() footerHeight: number;\r\n  @Input() rowCount: number;\r\n  @Input() pageSize: number;\r\n  @Input() offset: number;\r\n  @Input() pagerLeftArrowIcon: string;\r\n  @Input() pagerRightArrowIcon: string;\r\n  @Input() pagerPreviousIcon: string;\r\n  @Input() pagerNextIcon: string;\r\n  @Input() totalMessage: string;\r\n  @Input() footerTemplate: DatatableFooterDirective;\r\n\r\n  @Input() selectedCount: number = 0;\r\n  @Input() selectedMessage: string | boolean;\r\n\r\n  @Output() page: EventEmitter<any> = new EventEmitter();\r\n\r\n  get isVisible(): boolean {\r\n    return this.rowCount / this.pageSize > 1;\r\n  }\r\n\r\n  get curPage(): number {\r\n    return this.offset + 1;\r\n  }\r\n}\r\n","import { Component } from '@angular/core';\r\nimport { MockServerResultsService } from './mock-server-results-service';\r\nimport { CorporateEmployee } from './model/corporate-employee';\r\nimport { Page } from './model/page';\r\nimport { ColumnMode } from 'projects/swimlane/ngx-datatable/src/public-api';\r\n\r\n@Component({\r\n  selector: 'server-paging-demo',\r\n  providers: [MockServerResultsService],\r\n  template: `\r\n    <div>\r\n      <h3>\r\n        Server-side Paging\r\n        <small>\r\n          <a\r\n            href=\"https://github.com/swimlane/ngx-datatable/blob/master/src/app/paging/paging-server.component.ts\"\r\n            target=\"_blank\"\r\n          >\r\n            Source\r\n          </a>\r\n        </small>\r\n      </h3>\r\n      <ngx-datatable\r\n        class=\"material\"\r\n        [rows]=\"rows\"\r\n        [columns]=\"[{ name: 'Name' }, { name: 'Gender' }, { name: 'Company' }]\"\r\n        [columnMode]=\"ColumnMode.force\"\r\n        [headerHeight]=\"50\"\r\n        [footerHeight]=\"50\"\r\n        rowHeight=\"auto\"\r\n        [externalPaging]=\"true\"\r\n        [count]=\"page.totalElements\"\r\n        [offset]=\"page.pageNumber\"\r\n        [limit]=\"page.size\"\r\n        (page)=\"setPage($event)\"\r\n      >\r\n      </ngx-datatable>\r\n    </div>\r\n  `\r\n})\r\nexport class ServerPagingComponent {\r\n  page = new Page();\r\n  rows = new Array<CorporateEmployee>();\r\n\r\n  ColumnMode = ColumnMode;\r\n\r\n  constructor(private serverResultsService: MockServerResultsService) {\r\n    this.page.pageNumber = 0;\r\n    this.page.size = 20;\r\n  }\r\n\r\n  ngOnInit() {\r\n    this.setPage({ offset: 0 });\r\n  }\r\n\r\n  /**\r\n   * Populate the table with new data based on the page number\r\n   * @param page The page to select\r\n   */\r\n  setPage(pageInfo) {\r\n    this.page.pageNumber = pageInfo.offset;\r\n    this.serverResultsService.getResults(this.page).subscribe(pagedData => {\r\n      this.page = pagedData.page;\r\n      this.rows = pagedData.data;\r\n    });\r\n  }\r\n}\r\n","import { Directive, TemplateRef } from '@angular/core';\r\n\r\n@Directive({ selector: '[ngx-datatable-header-template]' })\r\nexport class DataTableColumnHeaderDirective {\r\n  constructor(public template: TemplateRef<any>) {}\r\n}\r\n","import {\r\n  Component,\r\n  Output,\r\n  EventEmitter,\r\n  Input,\r\n  HostBinding,\r\n  ChangeDetectorRef,\r\n  ChangeDetectionStrategy,\r\n  OnDestroy\r\n} from '@angular/core';\r\nimport { columnsByPin, columnGroupWidths, columnsByPinArr } from '../../utils/column';\r\nimport { SortType } from '../../types/sort.type';\r\nimport { SelectionType } from '../../types/selection.type';\r\nimport { DataTableColumnDirective } from '../columns/column.directive';\r\nimport { translateXY } from '../../utils/translate';\r\n\r\n@Component({\r\n  selector: 'datatable-header',\r\n  template: `\r\n    <div\r\n      role=\"row\"\r\n      orderable\r\n      (reorder)=\"onColumnReordered($event)\"\r\n      (targetChanged)=\"onTargetChanged($event)\"\r\n      [style.width.px]=\"_columnGroupWidths.total\"\r\n      class=\"datatable-header-inner\"\r\n    >\r\n      <div\r\n        *ngFor=\"let colGroup of _columnsByPin; trackBy: trackByGroups\"\r\n        [class]=\"'datatable-row-' + colGroup.type\"\r\n        [ngStyle]=\"_styleByGroup[colGroup.type]\"\r\n      >\r\n        <datatable-header-cell\r\n          role=\"columnheader\"\r\n          *ngFor=\"let column of colGroup.columns; trackBy: columnTrackingFn\"\r\n          resizeable\r\n          [resizeEnabled]=\"column.resizeable\"\r\n          (resize)=\"onColumnResized($event, column)\"\r\n          long-press\r\n          [pressModel]=\"column\"\r\n          [pressEnabled]=\"reorderable && column.draggable\"\r\n          (longPressStart)=\"onLongPressStart($event)\"\r\n          (longPressEnd)=\"onLongPressEnd($event)\"\r\n          draggable\r\n          [dragX]=\"reorderable && column.draggable && column.dragging\"\r\n          [dragY]=\"false\"\r\n          [dragModel]=\"column\"\r\n          [dragEventTarget]=\"dragEventTarget\"\r\n          [headerHeight]=\"headerHeight\"\r\n          [isTarget]=\"column.isTarget\"\r\n          [targetMarkerTemplate]=\"targetMarkerTemplate\"\r\n          [targetMarkerContext]=\"column.targetMarkerContext\"\r\n          [column]=\"column\"\r\n          [sortType]=\"sortType\"\r\n          [sorts]=\"sorts\"\r\n          [selectionType]=\"selectionType\"\r\n          [sortAscendingIcon]=\"sortAscendingIcon\"\r\n          [sortDescendingIcon]=\"sortDescendingIcon\"\r\n          [sortUnsetIcon]=\"sortUnsetIcon\"\r\n          [allRowsSelected]=\"allRowsSelected\"\r\n          (sort)=\"onSort($event)\"\r\n          (select)=\"select.emit($event)\"\r\n          (columnContextmenu)=\"columnContextmenu.emit($event)\"\r\n        >\r\n        </datatable-header-cell>\r\n      </div>\r\n    </div>\r\n  `,\r\n  host: {\r\n    class: 'datatable-header'\r\n  },\r\n  changeDetection: ChangeDetectionStrategy.OnPush\r\n})\r\nexport class DataTableHeaderComponent implements OnDestroy {\r\n  @Input() sortAscendingIcon: any;\r\n  @Input() sortDescendingIcon: any;\r\n  @Input() sortUnsetIcon: any;\r\n  @Input() scrollbarH: boolean;\r\n  @Input() dealsWithGroup: boolean;\r\n  @Input() targetMarkerTemplate: any;\r\n\r\n  targetMarkerContext: any;\r\n\r\n  @Input() set innerWidth(val: number) {\r\n    this._innerWidth = val;\r\n    setTimeout(() => {\r\n      if (this._columns) {\r\n        const colByPin = columnsByPin(this._columns);\r\n        this._columnGroupWidths = columnGroupWidths(colByPin, this._columns);\r\n        this.setStylesByGroup();\r\n      }\r\n    });\r\n  }\r\n\r\n  get innerWidth(): number {\r\n    return this._innerWidth;\r\n  }\r\n\r\n  @Input() sorts: any[];\r\n  @Input() sortType: SortType;\r\n  @Input() allRowsSelected: boolean;\r\n  @Input() selectionType: SelectionType;\r\n  @Input() reorderable: boolean;\r\n\r\n  dragEventTarget: any;\r\n\r\n  @HostBinding('style.height')\r\n  @Input()\r\n  set headerHeight(val: any) {\r\n    if (val !== 'auto') {\r\n      this._headerHeight = `${val}px`;\r\n    } else {\r\n      this._headerHeight = val;\r\n    }\r\n  }\r\n\r\n  get headerHeight(): any {\r\n    return this._headerHeight;\r\n  }\r\n\r\n  @Input() set columns(val: any[]) {\r\n    this._columns = val;\r\n\r\n    const colsByPin = columnsByPin(val);\r\n    this._columnsByPin = columnsByPinArr(val);\r\n    setTimeout(() => {\r\n      this._columnGroupWidths = columnGroupWidths(colsByPin, val);\r\n      this.setStylesByGroup();\r\n    });\r\n  }\r\n\r\n  get columns(): any[] {\r\n    return this._columns;\r\n  }\r\n\r\n  @Input()\r\n  set offsetX(val: number) {\r\n    this._offsetX = val;\r\n    this.setStylesByGroup();\r\n  }\r\n  get offsetX() {\r\n    return this._offsetX;\r\n  }\r\n\r\n  @Output() sort: EventEmitter<any> = new EventEmitter();\r\n  @Output() reorder: EventEmitter<any> = new EventEmitter();\r\n  @Output() resize: EventEmitter<any> = new EventEmitter();\r\n  @Output() select: EventEmitter<any> = new EventEmitter();\r\n  @Output() columnContextmenu = new EventEmitter<{ event: MouseEvent; column: any }>(false);\r\n\r\n  _columnsByPin: any;\r\n  _columnGroupWidths: any = {\r\n    total: 100\r\n  };\r\n  _innerWidth: number;\r\n  _offsetX: number;\r\n  _columns: any[];\r\n  _headerHeight: string;\r\n  _styleByGroup: { [prop: string]: {} } = {\r\n    left: {},\r\n    center: {},\r\n    right: {}\r\n  };\r\n\r\n  private destroyed = false;\r\n\r\n  constructor(private cd: ChangeDetectorRef) {}\r\n\r\n  ngOnDestroy(): void {\r\n    this.destroyed = true;\r\n  }\r\n\r\n  onLongPressStart({ event, model }: { event: any; model: any }) {\r\n    model.dragging = true;\r\n    this.dragEventTarget = event;\r\n  }\r\n\r\n  onLongPressEnd({ event, model }: { event: any; model: any }) {\r\n    this.dragEventTarget = event;\r\n\r\n    // delay resetting so sort can be\r\n    // prevented if we were dragging\r\n    setTimeout(() => {\r\n      // datatable component creates copies from columns on reorder\r\n      // set dragging to false on new objects\r\n      const column = this._columns.find(c => c.$$id === model.$$id);\r\n      if (column) {\r\n        column.dragging = false;\r\n      }\r\n    }, 5);\r\n  }\r\n\r\n  @HostBinding('style.width')\r\n  get headerWidth(): string {\r\n    if (this.scrollbarH) {\r\n      return this.innerWidth + 'px';\r\n    }\r\n\r\n    return '100%';\r\n  }\r\n\r\n  trackByGroups(index: number, colGroup: any): any {\r\n    return colGroup.type;\r\n  }\r\n\r\n  columnTrackingFn(index: number, column: any): any {\r\n    return column.$$id;\r\n  }\r\n\r\n  onColumnResized(width: number, column: DataTableColumnDirective): void {\r\n    if (width <= column.minWidth) {\r\n      width = column.minWidth;\r\n    } else if (width >= column.maxWidth) {\r\n      width = column.maxWidth;\r\n    }\r\n\r\n    this.resize.emit({\r\n      column,\r\n      prevValue: column.width,\r\n      newValue: width\r\n    });\r\n  }\r\n\r\n  onColumnReordered({ prevIndex, newIndex, model }: any): void {\r\n    const column = this.getColumn(newIndex);\r\n    column.isTarget = false;\r\n    column.targetMarkerContext = undefined;\r\n    this.reorder.emit({\r\n      column: model,\r\n      prevValue: prevIndex,\r\n      newValue: newIndex\r\n    });\r\n  }\r\n\r\n  onTargetChanged({ prevIndex, newIndex, initialIndex }: any): void {\r\n    if (prevIndex || prevIndex === 0) {\r\n      const oldColumn = this.getColumn(prevIndex);\r\n      oldColumn.isTarget = false;\r\n      oldColumn.targetMarkerContext = undefined;\r\n    }\r\n    if (newIndex || newIndex === 0) {\r\n      const newColumn = this.getColumn(newIndex);\r\n      newColumn.isTarget = true;\r\n\r\n      if (initialIndex !== newIndex) {\r\n        newColumn.targetMarkerContext = {\r\n          class: 'targetMarker '.concat(initialIndex > newIndex ? 'dragFromRight' : 'dragFromLeft')\r\n        };\r\n      }\r\n    }\r\n  }\r\n\r\n  getColumn(index: number): any {\r\n    const leftColumnCount = this._columnsByPin[0].columns.length;\r\n    if (index < leftColumnCount) {\r\n      return this._columnsByPin[0].columns[index];\r\n    }\r\n\r\n    const centerColumnCount = this._columnsByPin[1].columns.length;\r\n    if (index < leftColumnCount + centerColumnCount) {\r\n      return this._columnsByPin[1].columns[index - leftColumnCount];\r\n    }\r\n\r\n    return this._columnsByPin[2].columns[index - leftColumnCount - centerColumnCount];\r\n  }\r\n\r\n  onSort({ column, prevValue, newValue }: any): void {\r\n    // if we are dragging don't sort!\r\n    if (column.dragging) {\r\n      return;\r\n    }\r\n\r\n    const sorts = this.calcNewSorts(column, prevValue, newValue);\r\n    this.sort.emit({\r\n      sorts,\r\n      column,\r\n      prevValue,\r\n      newValue\r\n    });\r\n  }\r\n\r\n  calcNewSorts(column: any, prevValue: number, newValue: number): any[] {\r\n    let idx = 0;\r\n\r\n    if (!this.sorts) {\r\n      this.sorts = [];\r\n    }\r\n\r\n    const sorts = this.sorts.map((s, i) => {\r\n      s = { ...s };\r\n      if (s.prop === column.prop) {\r\n        idx = i;\r\n      }\r\n      return s;\r\n    });\r\n\r\n    if (newValue === undefined) {\r\n      sorts.splice(idx, 1);\r\n    } else if (prevValue) {\r\n      sorts[idx].dir = newValue;\r\n    } else {\r\n      if (this.sortType === SortType.single) {\r\n        sorts.splice(0, this.sorts.length);\r\n      }\r\n\r\n      sorts.push({ dir: newValue, prop: column.prop });\r\n    }\r\n\r\n    return sorts;\r\n  }\r\n\r\n  setStylesByGroup() {\r\n    this._styleByGroup.left = this.calcStylesByGroup('left');\r\n    this._styleByGroup.center = this.calcStylesByGroup('center');\r\n    this._styleByGroup.right = this.calcStylesByGroup('right');\r\n    if (!this.destroyed) {\r\n      this.cd.detectChanges();\r\n    }\r\n  }\r\n\r\n  calcStylesByGroup(group: string): any {\r\n    const widths = this._columnGroupWidths;\r\n    const offsetX = this.offsetX;\r\n\r\n    const styles = {\r\n      width: `${widths[group]}px`\r\n    };\r\n\r\n    if (group === 'center') {\r\n      translateXY(styles, offsetX * -1, 0);\r\n    } else if (group === 'right') {\r\n      const totalDiff = widths.total - this.innerWidth;\r\n      const offset = totalDiff * -1;\r\n      translateXY(styles, offset, 0);\r\n    }\r\n\r\n    return styles;\r\n  }\r\n}\r\n","import { Component, ViewEncapsulation, ViewChild } from '@angular/core';\r\nimport { ColumnMode } from 'projects/swimlane/ngx-datatable/src/public-api';\r\n\r\n@Component({\r\n  selector: 'responsive-demo',\r\n  styles: [\r\n    `\r\n      @media screen and (max-width: 800px) {\r\n        .desktop-hidden {\r\n          display: initial;\r\n        }\r\n        .mobile-hidden {\r\n          display: none;\r\n        }\r\n      }\r\n      @media screen and (min-width: 800px) {\r\n        .desktop-hidden {\r\n          display: none;\r\n        }\r\n        .mobile-hidden {\r\n          display: initial;\r\n        }\r\n      }\r\n    `\r\n  ],\r\n  template: `\r\n    <div>\r\n      <h3>\r\n        Responsive Demo\r\n        <small>\r\n          <a\r\n            href=\"https://github.com/swimlane/ngx-datatable/blob/master/src/app/basic/responsive.component.ts\"\r\n            target=\"_blank\"\r\n          >\r\n            Source\r\n          </a>\r\n        </small>\r\n      </h3>\r\n      <ngx-datatable\r\n        #myTable\r\n        class=\"material expandable\"\r\n        [columnMode]=\"ColumnMode.force\"\r\n        [headerHeight]=\"50\"\r\n        [footerHeight]=\"50\"\r\n        [rowHeight]=\"50\"\r\n        [scrollbarV]=\"true\"\r\n        [rows]=\"rows\"\r\n        (page)=\"onPage($event)\"\r\n      >\r\n        <!-- Row Detail Template -->\r\n        <ngx-datatable-row-detail [rowHeight]=\"50\" #myDetailRow (toggle)=\"onDetailToggle($event)\">\r\n          <ng-template let-row=\"row\" let-expanded=\"expanded\" ngx-datatable-row-detail-template>\r\n            <div style=\"padding-left:60px; font-size:14px\">\r\n              <div>{{ row.gender }}, {{ row.age }}</div>\r\n            </div>\r\n          </ng-template>\r\n        </ngx-datatable-row-detail>\r\n\r\n        <!-- Column Templates -->\r\n        <ngx-datatable-column\r\n          [width]=\"50\"\r\n          [resizeable]=\"false\"\r\n          [sortable]=\"false\"\r\n          [draggable]=\"false\"\r\n          [canAutoResize]=\"false\"\r\n        >\r\n          <ng-template let-row=\"row\" let-expanded=\"expanded\" ngx-datatable-cell-template>\r\n            <a\r\n              href=\"#\"\r\n              [class.datatable-icon-right]=\"!expanded\"\r\n              [class.datatable-icon-down]=\"expanded\"\r\n              title=\"Expand/Collapse Row\"\r\n              (click)=\"toggleExpandRow(row)\"\r\n              class=\"desktop-hidden\"\r\n            >\r\n            </a>\r\n          </ng-template>\r\n        </ngx-datatable-column>\r\n\r\n        <ngx-datatable-column name=\"Name\" [flexGrow]=\"3\" [minWidth]=\"200\">\r\n          <ng-template let-value=\"value\" ngx-datatable-cell-template>\r\n            {{ value }}\r\n          </ng-template>\r\n        </ngx-datatable-column>\r\n\r\n        <ngx-datatable-column name=\"Gender\" [flexGrow]=\"1\">\r\n          <ng-template let-column=\"column\" let-sort=\"sortFn\" ngx-datatable-header-template>\r\n            <span class=\"mobile-hidden\">{{ column.name }}</span>\r\n          </ng-template>\r\n\r\n          <ng-template let-row=\"row\" let-value=\"value\" ngx-datatable-cell-template>\r\n            <span class=\"mobile-hidden\">{{ value }}</span>\r\n          </ng-template>\r\n        </ngx-datatable-column>\r\n\r\n        <ngx-datatable-column name=\"Age\" [flexGrow]=\"1\">\r\n          <ng-template let-column=\"column\" let-sort=\"sortFn\" ngx-datatable-header-template>\r\n            <span class=\"mobile-hidden\">{{ column.name }}</span>\r\n          </ng-template>\r\n\r\n          <ng-template let-value=\"value\" ngx-datatable-cell-template>\r\n            <span class=\"mobile-hidden\">{{ value }}</span>\r\n          </ng-template>\r\n        </ngx-datatable-column>\r\n      </ngx-datatable>\r\n    </div>\r\n\r\n    <div style=\"margin: 50px;\">\r\n      This demo combines the features used in the <i>Row Detail</i> Rows demo, <i>Flex</i> Column demo, and the\r\n      <i>Inline</i> Templates demo. When your browser is at 800px, the gender and age columns will be hidden and will\r\n      appear in the row detail view.\r\n    </div>\r\n  `,\r\n  encapsulation: ViewEncapsulation.None\r\n})\r\nexport class ResponsiveComponent {\r\n  @ViewChild('myTable') table: any;\r\n\r\n  rows: any[] = [];\r\n  expanded: any = {};\r\n  timeout: any;\r\n\r\n  ColumnMode = ColumnMode;\r\n\r\n  constructor() {\r\n    this.fetch(data => {\r\n      this.rows = data;\r\n    });\r\n  }\r\n\r\n  onPage(event) {\r\n    clearTimeout(this.timeout);\r\n    this.timeout = setTimeout(() => {\r\n      console.log('paged!', event);\r\n    }, 100);\r\n  }\r\n\r\n  fetch(cb) {\r\n    const req = new XMLHttpRequest();\r\n    req.open('GET', `assets/data/100k.json`);\r\n\r\n    req.onload = () => {\r\n      cb(JSON.parse(req.response));\r\n    };\r\n\r\n    req.send();\r\n  }\r\n\r\n  toggleExpandRow(row) {\r\n    console.log('Toggled Expand Row!', row);\r\n    this.table.rowDetail.toggleExpandRow(row);\r\n  }\r\n\r\n  onDetailToggle(event) {\r\n    console.log('Detail Toggled', event);\r\n  }\r\n}\r\n","import { Component } from '@angular/core';\r\nimport { ColumnMode } from 'projects/swimlane/ngx-datatable/src/public-api';\r\n\r\n@Component({\r\n  selector: 'comparator-sorting-demo',\r\n  template: `\r\n    <div>\r\n      <h3>\r\n        Custom Sorting Comparator\r\n        <small>\r\n          <a\r\n            href=\"https://github.com/swimlane/ngx-datatable/blob/master/src/app/sorting/sorting-comparator.component.ts\"\r\n            target=\"_blank\"\r\n          >\r\n            Source\r\n          </a>\r\n        </small>\r\n      </h3>\r\n      <ngx-datatable\r\n        class=\"material\"\r\n        [rows]=\"rows\"\r\n        [columns]=\"columns\"\r\n        [columnMode]=\"ColumnMode.force\"\r\n        [headerHeight]=\"50\"\r\n        [footerHeight]=\"50\"\r\n        rowHeight=\"auto\"\r\n      >\r\n      </ngx-datatable>\r\n    </div>\r\n  `\r\n})\r\nexport class SortingComparatorComponent {\r\n  rows = [];\r\n\r\n  columns = [\r\n    { name: 'Company', comparator: this.companyComparator.bind(this) },\r\n    { name: 'Name', sortable: false },\r\n    { name: 'Gender', sortable: false }\r\n  ];\r\n\r\n  ColumnMode = ColumnMode;\r\n\r\n  constructor() {\r\n    this.fetch(data => {\r\n      this.rows = data;\r\n    });\r\n  }\r\n\r\n  fetch(cb) {\r\n    const req = new XMLHttpRequest();\r\n    req.open('GET', `assets/data/company.json`);\r\n\r\n    req.onload = () => {\r\n      const data = JSON.parse(req.response);\r\n      cb(data.splice(0, 20));\r\n    };\r\n\r\n    req.send();\r\n  }\r\n\r\n  companyComparator(propA, propB) {\r\n    console.log('Sorting Comparator', propA, propB);\r\n\r\n    // Just a simple sort function comparisoins\r\n    if (propA.toLowerCase() < propB.toLowerCase()) {\r\n      return -1;\r\n    }\r\n    if (propA.toLowerCase() > propB.toLowerCase()) {\r\n      return 1;\r\n    }\r\n  }\r\n}\r\n","import { Component } from '@angular/core';\r\nimport { ColumnMode, SelectionType } from 'projects/swimlane/ngx-datatable/src/public-api';\r\n\r\n@Component({\r\n  selector: 'multidisable-selection-demo',\r\n  template: `\r\n    <div>\r\n      <h3>\r\n        Selection Callback to Disable Selections\r\n        <small>\r\n          <a\r\n            href=\"https://github.com/swimlane/ngx-datatable/blob/master/src/app/selection/selection-disabled.component.ts\"\r\n            target=\"_blank\"\r\n          >\r\n            Source\r\n          </a>\r\n        </small>\r\n      </h3>\r\n      <div style=\"float:left;width:75%\">\r\n        <ngx-datatable\r\n          class=\"material\"\r\n          [rows]=\"rows\"\r\n          [columnMode]=\"ColumnMode.force\"\r\n          [columns]=\"columns\"\r\n          [headerHeight]=\"50\"\r\n          [footerHeight]=\"50\"\r\n          rowHeight=\"auto\"\r\n          [limit]=\"5\"\r\n          [selectCheck]=\"checkSelectable\"\r\n          [selected]=\"selected\"\r\n          [selectionType]=\"SelectionType.multi\"\r\n          (activate)=\"onActivate($event)\"\r\n          (select)=\"onSelect($event)\"\r\n        >\r\n        </ngx-datatable>\r\n      </div>\r\n\r\n      <div class=\"selected-column\">\r\n        <h4>Selections</h4>\r\n        <ul>\r\n          <li *ngFor=\"let sel of selected\">\r\n            {{ sel.name }}\r\n          </li>\r\n          <li *ngIf=\"!selected.length\">No Selections</li>\r\n        </ul>\r\n      </div>\r\n    </div>\r\n  `\r\n})\r\nexport class MultiDisableSelectionComponent {\r\n  rows = [];\r\n\r\n  selected = [];\r\n\r\n  columns: any[] = [{ prop: 'name' }, { name: 'Company' }, { name: 'Gender' }];\r\n\r\n  ColumnMode = ColumnMode;\r\n  SelectionType = SelectionType;\r\n\r\n  constructor() {\r\n    this.fetch(data => {\r\n      this.rows = data;\r\n    });\r\n  }\r\n\r\n  fetch(cb) {\r\n    const req = new XMLHttpRequest();\r\n    req.open('GET', `assets/data/company.json`);\r\n\r\n    req.onload = () => {\r\n      cb(JSON.parse(req.response));\r\n    };\r\n\r\n    req.send();\r\n  }\r\n\r\n  onSelect({ selected }) {\r\n    console.log('Select Event', selected, this.selected);\r\n\r\n    this.selected.splice(0, this.selected.length);\r\n    this.selected.push(...selected);\r\n  }\r\n\r\n  onActivate(event) {\r\n    console.log('Activate Event', event);\r\n  }\r\n\r\n  checkSelectable(event) {\r\n    console.log('Checking if selectable', event);\r\n    return event.name !== 'Ethel Price';\r\n  }\r\n}\r\n","import { Component, ViewEncapsulation } from '@angular/core';\r\nimport { LocationStrategy, HashLocationStrategy, Location } from '@angular/common';\r\nimport packageInfo from 'projects/swimlane/ngx-datatable/package.json';\r\n\r\n@Component({\r\n  selector: 'app-root',\r\n  templateUrl: './app.component.html',\r\n  encapsulation: ViewEncapsulation.None,\r\n  styleUrls: [\r\n    './app.component.scss',\r\n    '../../projects/swimlane/ngx-datatable/src/lib/themes/material.scss',\r\n    '../../projects/swimlane/ngx-datatable/src/lib/themes/dark.scss',\r\n    '../../projects/swimlane/ngx-datatable/src/lib/themes/bootstrap.scss'\r\n  ],\r\n  providers: [\r\n    Location,\r\n    {\r\n      provide: LocationStrategy,\r\n      useClass: HashLocationStrategy\r\n    }\r\n  ]\r\n})\r\nexport class AppComponent {\r\n  state: any;\r\n\r\n  version = packageInfo.version;\r\n\r\n  constructor(location: Location) {\r\n    this.state = location.path(true);\r\n  }\r\n}\r\n","<div [class.dark]=\"state === 'dark'\">\r\n  <nav>\r\n    <h3>\r\n      ngx-datatable <small>({{ version }})</small>\r\n    </h3>\r\n    <ul class=\"main-ul\">\r\n      <li>\r\n        <h4>Documentation</h4>\r\n        <ul>\r\n          <li>\r\n            <a href=\"https://swimlane.gitbooks.io/ngx-datatable/content/\" target=\"_black\">Online</a>\r\n          </li>\r\n          <li>\r\n            <a href=\"https://www.gitbook.com/download/pdf/book/swimlane/ngx-datatable\" target=\"_black\">PDF</a>\r\n          </li>\r\n        </ul>\r\n      </li>\r\n      <li>\r\n        <h4>Basic</h4>\r\n        <ul>\r\n          <li>\r\n            <a href=\"#virtual-scroll\" (click)=\"state = 'virtual-scroll'\">10k Rows</a>\r\n          </li>\r\n          <li>\r\n            <a href=\"#full-screen\" (click)=\"state = 'full-screen'\">Full Screen</a>\r\n          </li>\r\n          <li>\r\n            <a href=\"#inline-edit\" (click)=\"state = 'inline-edit'\">Inline Editing</a>\r\n          </li>\r\n          <li>\r\n            <a href=\"#horz-vert-scrolling\" (click)=\"state = 'horz-vert-scrolling'\">Horz/Vert Scrolling</a>\r\n          </li>\r\n          <li>\r\n            <a href=\"#multiple-tables\" (click)=\"state = 'multiple-tables'\">Multiple Tables</a>\r\n          </li>\r\n          <li><a href=\"#filter\" (click)=\"state = 'filter'\">Filtering</a></li>\r\n          <li>\r\n            <a href=\"#hidden\" (click)=\"state = 'hidden'\">Hidden On Load</a>\r\n          </li>\r\n          <li><a href=\"#live\" (click)=\"state = 'live'\">Live Data</a></li>\r\n          <li><a href=\"#rx\" (click)=\"state = 'rx'\">RxJS</a></li>\r\n          <li>\r\n            <a href=\"#contextmenu\" (click)=\"state = 'contextmenu'\">Context Menu</a>\r\n          </li>\r\n          <li><a href=\"#css\" (click)=\"state = 'css'\">CSS Classes</a></li>\r\n          <li>\r\n            <a href=\"#footer\" (click)=\"state = 'footer'\">Footer Template</a>\r\n          </li>\r\n        </ul>\r\n      </li>\r\n      <li>\r\n        <h4>Themes</h4>\r\n        <ul>\r\n          <li><a href=\"#dark\" (click)=\"state = 'dark'\">Dark theme</a></li>\r\n          <li>\r\n            <a href=\"#bootstrap\" (click)=\"state = 'bootstrap'\">Bootstrap theme</a>\r\n          </li>\r\n        </ul>\r\n      </li>\r\n      <li>\r\n        <h4>Tree</h4>\r\n        <ul>\r\n          <li>\r\n            <a href=\"#fullscreen-tree\" (click)=\"state = 'fullscreen-tree'\">Full screen Tree</a>\r\n          </li>\r\n          <li>\r\n            <a href=\"#client-tree\" (click)=\"state = 'client-tree'\">Client Side Tree</a>\r\n          </li>\r\n        </ul>\r\n      </li>\r\n      <li>\r\n        <h4>Rows</h4>\r\n        <ul>\r\n          <li>\r\n            <a href=\"#row-grouping\" (click)=\"state = 'row-grouping'\">Row Grouping</a>\r\n          </li>\r\n          <li><a href=\"#\" (click)=\"state = ''\">Fluid Row Height</a></li>\r\n          <li>\r\n            <a href=\"#basic-fixed\" (click)=\"state = 'basic-fixed'\">Fixed Row Height</a>\r\n          </li>\r\n          <li>\r\n            <a href=\"#dynamic\" (click)=\"state = 'dynamic'\">Dynamic Row Height</a>\r\n          </li>\r\n          <li>\r\n            <a href=\"#row-details\" (click)=\"state = 'row-details'\">Row Detail</a>\r\n          </li>\r\n          <li>\r\n            <a href=\"#responsive\" (click)=\"state = 'responsive'\">Responsive</a>\r\n          </li>\r\n        </ul>\r\n      </li>\r\n      <li>\r\n        <h4>Paging</h4>\r\n        <ul>\r\n          <li>\r\n            <a href=\"#client-paging\" (click)=\"state = 'client-paging'\">Client-side</a>\r\n          </li>\r\n          <li>\r\n            <a href=\"#server-paging\" (click)=\"state = 'server-paging'\">Server-side</a>\r\n          </li>\r\n          <li>\r\n            <a href=\"#paging-scrolling-novirtualization\" (click)=\"state = 'paging-scrolling-novirtualization'\"\r\n              >Scrolling no virtual</a\r\n            >\r\n          </li>\r\n          <li>\r\n            <a href=\"#server-scrolling\" (click)=\"state = 'server-scrolling'\">Scrolling server-side</a>\r\n          </li>\r\n          <li>\r\n            <a href=\"#virtual-paging\" (click)=\"state = 'virtual-paging'\">Virtual server-side</a>\r\n          </li>\r\n        </ul>\r\n      </li>\r\n      <li>\r\n        <h4>Sorting</h4>\r\n        <ul>\r\n          <li>\r\n            <a href=\"#client-sorting\" (click)=\"state = 'client-sorting'\">Client-side</a>\r\n          </li>\r\n          <li>\r\n            <a href=\"#default-sorting\" (click)=\"state = 'default-sorting'\">Default sort</a>\r\n          </li>\r\n          <li>\r\n            <a href=\"#server-sorting\" (click)=\"state = 'server-sorting'\">Server-side</a>\r\n          </li>\r\n          <li>\r\n            <a href=\"#comparator-sorting\" (click)=\"state = 'comparator-sorting'\">Comparator</a>\r\n          </li>\r\n        </ul>\r\n      </li>\r\n      <li>\r\n        <h4>Selection</h4>\r\n        <ul>\r\n          <li>\r\n            <a href=\"#cell-selection\" (click)=\"state = 'cell-selection'\">Cell</a>\r\n          </li>\r\n          <li>\r\n            <a href=\"#single-selection\" (click)=\"state = 'single-selection'\">Single Row</a>\r\n          </li>\r\n          <li>\r\n            <a href=\"#multi-selection\" (click)=\"state = 'multi-selection'\">Multi Row</a>\r\n          </li>\r\n          <li>\r\n            <a href=\"#multi-click-selection\" (click)=\"state = 'multi-click-selection'\">Multi Click Row</a>\r\n          </li>\r\n          <li>\r\n            <a href=\"#multidisable-selection\" (click)=\"state = 'multidisable-selection'\">Disable Callback</a>\r\n          </li>\r\n          <li>\r\n            <a href=\"#chkbox-selection\" (click)=\"state = 'chkbox-selection'\">Checkbox</a>\r\n          </li>\r\n          <li>\r\n            <a href=\"#chkbox-selection-template\" (click)=\"state = 'chkbox-selection-template'\">Custom Checkbox</a>\r\n          </li>\r\n        </ul>\r\n      </li>\r\n      <li>\r\n        <h4>Templates</h4>\r\n        <ul>\r\n          <li><a href=\"#inline\" (click)=\"state = 'inline'\">Inline</a></li>\r\n          <li>\r\n            <a href=\"#templateref\" (click)=\"state = 'templateref'\">TemplateRef</a>\r\n          </li>\r\n        </ul>\r\n      </li>\r\n      <li>\r\n        <h4>Column</h4>\r\n        <ul>\r\n          <li><a href=\"#flex\" (click)=\"state = 'flex'\">Flex</a></li>\r\n          <li><a href=\"#toggle\" (click)=\"state = 'toggle'\">Toggling</a></li>\r\n          <li><a href=\"#fixed\" (click)=\"state = 'fixed'\">Fixed</a></li>\r\n          <li><a href=\"#force\" (click)=\"state = 'force'\">Force</a></li>\r\n          <li><a href=\"#pinning\" (click)=\"state = 'pinning'\">Pinning</a></li>\r\n          <li><a href=\"#reorder\" (click)=\"state = 'reorder'\">Reorder</a></li>\r\n        </ul>\r\n      </li>\r\n      <li>\r\n        <h4>Summary Row</h4>\r\n        <ul>\r\n          <li>\r\n            <a href=\"#simple-summary\" (click)=\"state = 'simple-summary'\">Simple</a>\r\n          </li>\r\n          <li>\r\n            <a href=\"#custom-template-summary\" (click)=\"state = 'custom-template-summary'\">Custom Template</a>\r\n          </li>\r\n          <li>\r\n            <a href=\"#paging-summary\" (click)=\"state = 'paging-summary'\">Server-side paging</a>\r\n          </li>\r\n          <li>\r\n            <a href=\"#inline-html-summary\" (click)=\"state = 'inline-html-summary'\">Inline HTML</a>\r\n          </li>\r\n        </ul>\r\n      </li>\r\n    </ul>\r\n  </nav>\r\n  <content>\r\n    <!-- Basic -->\r\n    <basic-auto-demo *ngIf=\"!state\"></basic-auto-demo>\r\n    <basic-fixed-demo *ngIf=\"state === 'basic-fixed'\"></basic-fixed-demo>\r\n    <full-screen-demo *ngIf=\"state === 'full-screen'\"></full-screen-demo>\r\n    <inline-edit-demo *ngIf=\"state === 'inline-edit'\"></inline-edit-demo>\r\n    <virtual-scroll-demo *ngIf=\"state === 'virtual-scroll'\"></virtual-scroll-demo>\r\n    <horz-vert-scrolling-demo *ngIf=\"state === 'horz-vert-scrolling'\"></horz-vert-scrolling-demo>\r\n    <multiple-tables-demo *ngIf=\"state === 'multiple-tables'\"></multiple-tables-demo>\r\n    <row-details-demo *ngIf=\"state === 'row-details'\"></row-details-demo>\r\n    <responsive-demo *ngIf=\"state === 'responsive'\"></responsive-demo>\r\n    <filter-demo *ngIf=\"state === 'filter'\"></filter-demo>\r\n    <tabs-demo *ngIf=\"state === 'hidden'\"></tabs-demo>\r\n    <live-data-demo *ngIf=\"state === 'live'\"></live-data-demo>\r\n    <rx-demo *ngIf=\"state === 'rx'\"></rx-demo>\r\n    <contextmenu-demo *ngIf=\"state === 'contextmenu'\"></contextmenu-demo>\r\n    <row-css-demo *ngIf=\"state === 'css'\"></row-css-demo>\r\n    <dynamic-height-demo *ngIf=\"state === 'dynamic'\"></dynamic-height-demo>\r\n    <footer-demo *ngIf=\"state === 'footer'\"></footer-demo>\r\n\r\n    <!-- Themes -->\r\n    <basic-dark-theme-demo *ngIf=\"state === 'dark'\"></basic-dark-theme-demo>\r\n    <basic-bootstrap-theme-demo *ngIf=\"state === 'bootstrap'\"></basic-bootstrap-theme-demo>\r\n\r\n    <!-- Tree -->\r\n    <full-screen-tree-demo *ngIf=\"state === 'fullscreen-tree'\"></full-screen-tree-demo>\r\n    <client-side-tree-demo *ngIf=\"state === 'client-tree'\"></client-side-tree-demo>\r\n\r\n    <!-- Paging -->\r\n    <row-grouping-demo *ngIf=\"state === 'row-grouping'\"></row-grouping-demo>\r\n    <client-paging-demo *ngIf=\"state === 'client-paging'\"></client-paging-demo>\r\n    <server-paging-demo *ngIf=\"state === 'server-paging'\"></server-paging-demo>\r\n    <paging-scrolling-novirtualization-demo\r\n      *ngIf=\"state === 'paging-scrolling-novirtualization'\"\r\n    ></paging-scrolling-novirtualization-demo>\r\n    <server-scrolling-demo *ngIf=\"state === 'server-scrolling'\"></server-scrolling-demo>\r\n    <virtual-paging-demo *ngIf=\"state === 'virtual-paging'\"></virtual-paging-demo>\r\n\r\n    <!-- Sorting -->\r\n    <client-sorting-demo *ngIf=\"state === 'client-sorting'\"></client-sorting-demo>\r\n    <default-sorting-demo *ngIf=\"state === 'default-sorting'\"></default-sorting-demo>\r\n    <server-sorting-demo *ngIf=\"state === 'server-sorting'\"></server-sorting-demo>\r\n    <comparator-sorting-demo *ngIf=\"state === 'comparator-sorting'\"></comparator-sorting-demo>\r\n\r\n    <!-- Selection -->\r\n    <cell-selection-demo *ngIf=\"state === 'cell-selection'\"></cell-selection-demo>\r\n    <single-selection-demo *ngIf=\"state === 'single-selection'\"></single-selection-demo>\r\n    <multi-selection-demo *ngIf=\"state === 'multi-selection'\"></multi-selection-demo>\r\n    <multidisable-selection-demo *ngIf=\"state === 'multidisable-selection'\"></multidisable-selection-demo>\r\n    <chkbox-selection-demo *ngIf=\"state === 'chkbox-selection'\"></chkbox-selection-demo>\r\n    <chkbox-selection-template-demo *ngIf=\"state === 'chkbox-selection-template'\"></chkbox-selection-template-demo>\r\n    <multi-click-selection-demo *ngIf=\"state === 'multi-click-selection'\"></multi-click-selection-demo>\r\n\r\n    <!-- Templates -->\r\n    <template-ref-demo *ngIf=\"state === 'templateref'\"></template-ref-demo>\r\n    <inline-templates-demo *ngIf=\"state === 'inline'\"></inline-templates-demo>\r\n\r\n    <!-- Columns -->\r\n    <column-flex-demo *ngIf=\"state === 'flex'\"></column-flex-demo>\r\n    <column-toggle-demo *ngIf=\"state === 'toggle'\"></column-toggle-demo>\r\n    <column-standard-demo *ngIf=\"state === 'fixed'\"></column-standard-demo>\r\n    <column-force-demo *ngIf=\"state === 'force'\"></column-force-demo>\r\n    <column-pinning-demo *ngIf=\"state === 'pinning'\"></column-pinning-demo>\r\n    <column-reorder-demo *ngIf=\"state === 'reorder'\"></column-reorder-demo>\r\n\r\n    <!-- Summary row -->\r\n    <summary-row-simple-demo *ngIf=\"state === 'simple-summary'\"></summary-row-simple-demo>\r\n    <summary-row-custom-template-demo *ngIf=\"state === 'custom-template-summary'\"> </summary-row-custom-template-demo>\r\n    <summary-row-server-paging-demo *ngIf=\"state === 'paging-summary'\"> </summary-row-server-paging-demo>\r\n    <summary-row-inline-html *ngIf=\"state === 'inline-html-summary'\"></summary-row-inline-html>\r\n  </content>\r\n</div>\r\n","import { camelCase } from './camel-case';\r\n\r\nconst cache = {};\r\nconst testStyle = typeof document !== 'undefined' ? document.createElement('div').style : undefined;\r\n\r\n// Get Prefix\r\n// http://davidwalsh.name/vendor-prefix\r\nconst prefix = (function () {\r\n  const styles = typeof window !== 'undefined' ? window.getComputedStyle(document.documentElement, '') : undefined;\r\n  const match =\r\n    typeof styles !== 'undefined'\r\n      ? Array.prototype.slice\r\n          .call(styles)\r\n          .join('')\r\n          .match(/-(moz|webkit|ms)-/)\r\n      : null;\r\n  const pre = match !== null ? match[1] : undefined;\r\n  // tslint:disable-next-line: tsr-detect-non-literal-regexp\r\n  const dom = typeof pre !== 'undefined' ? 'WebKit|Moz|MS|O'.match(new RegExp('(' + pre + ')', 'i'))[1] : undefined;\r\n\r\n  return dom\r\n    ? {\r\n        dom,\r\n        lowercase: pre,\r\n        css: `-${pre}-`,\r\n        js: pre[0].toUpperCase() + pre.substr(1)\r\n      }\r\n    : undefined;\r\n})();\r\n\r\nexport function getVendorPrefixedName(property: string) {\r\n  const name = camelCase(property);\r\n\r\n  if (!cache[name]) {\r\n    if (prefix !== undefined && testStyle[prefix.css + property] !== undefined) {\r\n      cache[name] = prefix.css + property;\r\n    } else if (testStyle[property] !== undefined) {\r\n      cache[name] = property;\r\n    }\r\n  }\r\n\r\n  return cache[name];\r\n}\r\n","import { Input, Output, EventEmitter, Directive, TemplateRef, ContentChild } from '@angular/core';\r\nimport { DatatableRowDetailTemplateDirective } from './row-detail-template.directive';\r\n\r\n@Directive({ selector: 'ngx-datatable-row-detail' })\r\nexport class DatatableRowDetailDirective {\r\n  /**\r\n   * The detail row height is required especially\r\n   * when virtual scroll is enabled.\r\n   */\r\n  @Input() rowHeight: number | ((row?: any, index?: number) => number) = 0;\r\n\r\n  @Input('template')\r\n  _templateInput: TemplateRef<any>;\r\n\r\n  @ContentChild(DatatableRowDetailTemplateDirective, { read: TemplateRef, static: true })\r\n  _templateQuery: TemplateRef<any>;\r\n\r\n  get template(): TemplateRef<any> {\r\n    return this._templateInput || this._templateQuery;\r\n  }\r\n\r\n  /**\r\n   * Row detail row visbility was toggled.\r\n   */\r\n  @Output() toggle: EventEmitter<any> = new EventEmitter();\r\n\r\n  /**\r\n   * Toggle the expansion of the row\r\n   */\r\n  toggleExpandRow(row: any): void {\r\n    this.toggle.emit({\r\n      type: 'row',\r\n      value: row\r\n    });\r\n  }\r\n\r\n  /**\r\n   * API method to expand all the rows.\r\n   */\r\n  expandAllRows(): void {\r\n    this.toggle.emit({\r\n      type: 'all',\r\n      value: true\r\n    });\r\n  }\r\n\r\n  /**\r\n   * API method to collapse all the rows.\r\n   */\r\n  collapseAllRows(): void {\r\n    this.toggle.emit({\r\n      type: 'all',\r\n      value: false\r\n    });\r\n  }\r\n}\r\n","import { Page } from './page';\r\n\r\n/**\r\n * An array of data with an associated page object used for paging\r\n */\r\nexport class PagedData<T> {\r\n  data = new Array<T>();\r\n  page = new Page();\r\n}\r\n","import { Component, ChangeDetectorRef } from '@angular/core';\r\nimport { ColumnMode } from 'projects/swimlane/ngx-datatable/src/public-api';\r\n\r\n@Component({\r\n  selector: 'full-screen-tree-demo',\r\n  template: `\r\n    <div>\r\n      <h3>\r\n        Full Screen\r\n        <small>\r\n          <a\r\n            href=\"https://github.com/swimlane/ngx-datatable/blob/master/src/app/tree/fullscreen.component.ts\"\r\n            target=\"_blank\"\r\n          >\r\n            Source\r\n          </a>\r\n        </small>\r\n      </h3>\r\n      <ngx-datatable\r\n        class=\"material fullscreen\"\r\n        style=\"top: 52px\"\r\n        [columnMode]=\"ColumnMode.force\"\r\n        [headerHeight]=\"50\"\r\n        [footerHeight]=\"0\"\r\n        [rowHeight]=\"50\"\r\n        [scrollbarV]=\"true\"\r\n        [scrollbarH]=\"true\"\r\n        [rows]=\"rows\"\r\n        [treeFromRelation]=\"'parentId'\"\r\n        [treeToRelation]=\"'id'\"\r\n        (treeAction)=\"onTreeAction($event)\"\r\n      >\r\n        <ngx-datatable-column name=\"Id\" [width]=\"80\"></ngx-datatable-column>\r\n        <ngx-datatable-column name=\"Name\" [isTreeColumn]=\"true\" [width]=\"300\" [treeLevelIndent]=\"20\">\r\n          <ng-template ngx-datatable-tree-toggle let-tree=\"cellContext\">\r\n            <button [disabled]=\"tree.treeStatus === 'disabled'\" (click)=\"tree.onTreeAction()\">\r\n              <span *ngIf=\"tree.treeStatus === 'loading'\">\r\n                ...\r\n              </span>\r\n              <span *ngIf=\"tree.treeStatus === 'collapsed'\">\r\n                \r\n              </span>\r\n              <span *ngIf=\"tree.treeStatus === 'expanded'\">\r\n                \r\n              </span>\r\n              <span *ngIf=\"tree.treeStatus === 'disabled'\">\r\n                \r\n              </span>\r\n            </button>\r\n          </ng-template>\r\n        </ngx-datatable-column>\r\n        <ngx-datatable-column name=\"Gender\"></ngx-datatable-column>\r\n        <ngx-datatable-column name=\"Age\"></ngx-datatable-column>\r\n        <ngx-datatable-column name=\"City\" [width]=\"300\" prop=\"address.city\"></ngx-datatable-column>\r\n        <ngx-datatable-column name=\"State\" [width]=\"300\" prop=\"address.state\"></ngx-datatable-column>\r\n      </ngx-datatable>\r\n    </div>\r\n  `,\r\n  styles: ['.icon {height: 10px; width: 10px; }', '.disabled {opacity: 0.5; }']\r\n})\r\nexport class FullScreenTreeComponent {\r\n  rows = [];\r\n  lastIndex = 15;\r\n\r\n  ColumnMode = ColumnMode;\r\n\r\n  constructor(private cd: ChangeDetectorRef) {\r\n    this.fetch(data => {\r\n      data = data.slice(1, this.lastIndex);\r\n      this.rows = data.map(d => {\r\n        d.treeStatus = 'collapsed';\r\n        d.parentId = null;\r\n        return d;\r\n      });\r\n    });\r\n  }\r\n\r\n  fetch(cb) {\r\n    const req = new XMLHttpRequest();\r\n    req.open('GET', `assets/data/100k.json`);\r\n\r\n    req.onload = () => {\r\n      setTimeout(() => {\r\n        cb(JSON.parse(req.response));\r\n      }, 500);\r\n    };\r\n\r\n    req.send();\r\n  }\r\n\r\n  onTreeAction(event: any) {\r\n    const index = event.rowIndex;\r\n    const row = event.row;\r\n    if (row.treeStatus === 'collapsed') {\r\n      row.treeStatus = 'loading';\r\n      this.fetch(data => {\r\n        data = data.slice(this.lastIndex, this.lastIndex + 3).map(d => {\r\n          d.treeStatus = 'collapsed';\r\n          d.parentId = row.id;\r\n          return d;\r\n        });\r\n        this.lastIndex = this.lastIndex + 3;\r\n        row.treeStatus = 'expanded';\r\n        this.rows = [...this.rows, ...data];\r\n        this.cd.detectChanges();\r\n      });\r\n    } else {\r\n      row.treeStatus = 'collapsed';\r\n      this.rows = [...this.rows];\r\n      this.cd.detectChanges();\r\n    }\r\n  }\r\n}\r\n","import { Component } from '@angular/core';\r\nimport { ColumnMode } from 'projects/swimlane/ngx-datatable/src/public-api';\r\n\r\n@Component({\r\n  selector: 'client-side-tree-demo',\r\n  template: `\r\n    <div>\r\n      <h3>\r\n        Flex Column Width Distribution\r\n        <small>\r\n          <a\r\n            href=\"https://github.com/swimlane/ngx-datatable/blob/master/src/app/tree/client-tree.component.ts\"\r\n            target=\"_blank\"\r\n          >\r\n            Source\r\n          </a>\r\n        </small>\r\n      </h3>\r\n      <ngx-datatable\r\n        class=\"material\"\r\n        [columnMode]=\"ColumnMode.flex\"\r\n        [headerHeight]=\"50\"\r\n        [footerHeight]=\"50\"\r\n        rowHeight=\"auto\"\r\n        [treeFromRelation]=\"'manager'\"\r\n        [treeToRelation]=\"'name'\"\r\n        [rows]=\"rows\"\r\n        (treeAction)=\"onTreeAction($event)\"\r\n      >\r\n        <ngx-datatable-column name=\"Name\" [flexGrow]=\"3\" [isTreeColumn]=\"true\">\r\n          <ng-template let-value=\"value\" ngx-datatable-cell-template>\r\n            {{ value }}\r\n          </ng-template>\r\n        </ngx-datatable-column>\r\n        <ngx-datatable-column name=\"Gender\" [flexGrow]=\"1\">\r\n          <ng-template let-row=\"row\" let-value=\"value\" ngx-datatable-cell-template>\r\n            {{ value }}\r\n          </ng-template>\r\n        </ngx-datatable-column>\r\n        <ngx-datatable-column name=\"Age\" [flexGrow]=\"1\">\r\n          <ng-template let-value=\"value\" ngx-datatable-cell-template>\r\n            {{ value }}\r\n          </ng-template>\r\n        </ngx-datatable-column>\r\n      </ngx-datatable>\r\n    </div>\r\n  `,\r\n  styles: ['.icon {height: 10px; width: 10px; }', '.disabled {opacity: 0.5; }']\r\n})\r\nexport class ClientTreeComponent {\r\n  rows = [];\r\n\r\n  ColumnMode = ColumnMode;\r\n\r\n  constructor() {\r\n    this.fetch(data => {\r\n      this.rows = data;\r\n    });\r\n  }\r\n\r\n  fetch(cb) {\r\n    const req = new XMLHttpRequest();\r\n    req.open('GET', `assets/data/company_tree.json`);\r\n\r\n    req.onload = () => {\r\n      cb(JSON.parse(req.response));\r\n    };\r\n\r\n    req.send();\r\n  }\r\n\r\n  onTreeAction(event: any) {\r\n    const index = event.rowIndex;\r\n    const row = event.row;\r\n    if (row.treeStatus === 'collapsed') {\r\n      row.treeStatus = 'expanded';\r\n    } else {\r\n      row.treeStatus = 'collapsed';\r\n    }\r\n    this.rows = [...this.rows];\r\n  }\r\n}\r\n","export enum SortType {\r\n  single = 'single',\r\n  multi = 'multi'\r\n}\r\n","/**\r\n * Returns the columns by pin.\r\n */\r\nexport function columnsByPin(cols: any[]) {\r\n  const ret: { left: any; center: any; right: any } = {\r\n    left: [],\r\n    center: [],\r\n    right: []\r\n  };\r\n\r\n  if (cols) {\r\n    for (const col of cols) {\r\n      if (col.frozenLeft) {\r\n        ret.left.push(col);\r\n      } else if (col.frozenRight) {\r\n        ret.right.push(col);\r\n      } else {\r\n        ret.center.push(col);\r\n      }\r\n    }\r\n  }\r\n\r\n  return ret;\r\n}\r\n\r\n/**\r\n * Returns the widths of all group sets of a column\r\n */\r\nexport function columnGroupWidths(groups: any, all: any) {\r\n  return {\r\n    left: columnTotalWidth(groups.left),\r\n    center: columnTotalWidth(groups.center),\r\n    right: columnTotalWidth(groups.right),\r\n    total: Math.floor(columnTotalWidth(all))\r\n  };\r\n}\r\n\r\n/**\r\n * Calculates the total width of all columns and their groups\r\n */\r\nexport function columnTotalWidth(columns: any[], prop?: string) {\r\n  let totalWidth = 0;\r\n\r\n  if (columns) {\r\n    for (const c of columns) {\r\n      const has = prop && c[prop];\r\n      const width = has ? c[prop] : c.width;\r\n      totalWidth = totalWidth + parseFloat(width);\r\n    }\r\n  }\r\n\r\n  return totalWidth;\r\n}\r\n\r\n/**\r\n * Calculates the total width of all columns and their groups\r\n */\r\nexport function columnsTotalWidth(columns: any, prop?: any) {\r\n  let totalWidth = 0;\r\n\r\n  for (const column of columns) {\r\n    const has = prop && column[prop];\r\n    totalWidth = totalWidth + (has ? column[prop] : column.width);\r\n  }\r\n\r\n  return totalWidth;\r\n}\r\n\r\nexport function columnsByPinArr(val: any) {\r\n  const colsByPinArr = [];\r\n  const colsByPin = columnsByPin(val);\r\n\r\n  colsByPinArr.push({ type: 'left', columns: colsByPin['left'] });\r\n  colsByPinArr.push({ type: 'center', columns: colsByPin['center'] });\r\n  colsByPinArr.push({ type: 'right', columns: colsByPin['right'] });\r\n\r\n  return colsByPinArr;\r\n}\r\n","import { Component } from '@angular/core';\r\nimport { ColumnMode, SelectionType } from 'projects/swimlane/ngx-datatable/src/public-api';\r\n\r\n@Component({\r\n  selector: 'multi-selection-demo',\r\n  template: `\r\n    <div>\r\n      <h3>\r\n        Multi Select\r\n        <small>\r\n          <a\r\n            href=\"https://github.com/swimlane/ngx-datatable/blob/master/src/app/selection/selection-multi.component.ts\"\r\n            target=\"_blank\"\r\n          >\r\n            Source\r\n          </a>\r\n        </small>\r\n      </h3>\r\n      <div style=\"float:left;width:75%\">\r\n        <div class=\"info\">\r\n          <p>This demonstrates multi selection table, use CTRL or SHIFT click to select multiple items.</p>\r\n        </div>\r\n\r\n        <ngx-datatable\r\n          class=\"material\"\r\n          [rows]=\"rows\"\r\n          [columnMode]=\"ColumnMode.force\"\r\n          [columns]=\"columns\"\r\n          [headerHeight]=\"50\"\r\n          [footerHeight]=\"50\"\r\n          rowHeight=\"auto\"\r\n          [limit]=\"5\"\r\n          [selected]=\"selected\"\r\n          [selectionType]=\"SelectionType.multi\"\r\n          (activate)=\"onActivate($event)\"\r\n          (select)=\"onSelect($event)\"\r\n        >\r\n        </ngx-datatable>\r\n      </div>\r\n\r\n      <div class=\"selected-column\">\r\n        <h4>Selections</h4>\r\n        <ul>\r\n          <li *ngFor=\"let sel of selected\">\r\n            {{ sel.name }}\r\n          </li>\r\n          <li *ngIf=\"!selected.length\">No Selections</li>\r\n        </ul>\r\n      </div>\r\n    </div>\r\n  `\r\n})\r\nexport class MultiSelectionComponent {\r\n  rows = [];\r\n\r\n  selected = [];\r\n\r\n  columns: any[] = [{ prop: 'name' }, { name: 'Company' }, { name: 'Gender' }];\r\n\r\n  ColumnMode = ColumnMode;\r\n  SelectionType = SelectionType;\r\n\r\n  constructor() {\r\n    this.fetch(data => {\r\n      this.rows = data;\r\n    });\r\n  }\r\n\r\n  fetch(cb) {\r\n    const req = new XMLHttpRequest();\r\n    req.open('GET', `assets/data/company.json`);\r\n\r\n    req.onload = () => {\r\n      cb(JSON.parse(req.response));\r\n    };\r\n\r\n    req.send();\r\n  }\r\n\r\n  onSelect({ selected }) {\r\n    console.log('Select Event', selected, this.selected);\r\n\r\n    this.selected.splice(0, this.selected.length);\r\n    this.selected.push(...selected);\r\n  }\r\n\r\n  onActivate(event) {\r\n    console.log('Activate Event', event);\r\n  }\r\n}\r\n","import { Directive, TemplateRef } from '@angular/core';\r\n\r\n@Directive({ selector: '[ngx-datatable-cell-template]' })\r\nexport class DataTableColumnCellDirective {\r\n  constructor(public template: TemplateRef<any>) {}\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { BrowserModule } from '@angular/platform-browser';\r\n\r\nimport { NgxDatatableModule } from '../../projects/swimlane/ngx-datatable/src/public-api';\r\nimport { AppComponent } from './app.component';\r\n\r\n// -- Basic\r\nimport { BasicFixedComponent } from './basic/basic-fixed.component';\r\nimport { BasicAutoComponent } from './basic/basic-auto.component';\r\nimport { VirtualScrollComponent } from './basic/virtual.component';\r\nimport { InlineEditComponent } from './basic/inline.component';\r\nimport { HorzVertScrolling } from './basic/scrolling.component';\r\nimport { MultipleTablesComponent } from './basic/multiple.component';\r\nimport { FullScreenComponent } from './basic/fullscreen.component';\r\nimport { RowDetailsComponent } from './basic/row-detail.component';\r\nimport { ResponsiveComponent } from './basic/responsive.component';\r\nimport { FilterBarComponent } from './basic/filter.component';\r\nimport { TabsDemoComponent } from './basic/tabs.component';\r\nimport { LiveDataComponent } from './basic/live.component';\r\nimport { RxDemoComponent } from './basic/rx.component';\r\nimport { ContextMenuDemoComponent } from './basic/contextmenu.component';\r\nimport { RowCssComponent } from './basic/css.component';\r\nimport { DynamicHeightComponent } from './basic/dynamic-height.component';\r\nimport { FooterDemoComponent } from './basic/footer.component';\r\nimport { RowGroupingComponent } from './basic/row-grouping.component';\r\n\r\n// -- Themes\r\nimport { BootstrapThemeComponent } from './basic/bootstrap.component';\r\nimport { DarkThemeComponent } from './basic/dark-theme.component';\r\n\r\n// -- Paging\r\nimport { ClientPagingComponent } from './paging/paging-client.component';\r\nimport { ServerPagingComponent } from './paging/paging-server.component';\r\nimport { ServerScrollingComponent } from './paging/scrolling-server.component';\r\nimport { VirtualPagingComponent } from './paging/paging-virtual.component';\r\nimport { PagingScrollingNoVirtualizationComponent } from './paging/paging-scrolling-novirtualization.component';\r\n\r\n// -- Sorting\r\nimport { SortingComparatorComponent } from './sorting/sorting-comparator.component';\r\nimport { DefaultSortingComponent } from './sorting/sorting-default.component';\r\nimport { ServerSortingComponent } from './sorting/sorting-server.component';\r\nimport { ClientSortingComponent } from './sorting/sorting-client.component';\r\n\r\n// -- Templates\r\nimport { InlineTemplatesComponent } from './templates/template-dom.component';\r\nimport { TemplateRefTemplatesComponent } from './templates/template-obj.component';\r\n\r\n// -- Tree\r\nimport { FullScreenTreeComponent } from './tree/fullscreen.component';\r\nimport { ClientTreeComponent } from './tree/client-tree.component';\r\n\r\n// -- Selection\r\nimport { CellSelectionComponent } from './selection/selection-cell.component';\r\nimport { MultiSelectionComponent } from './selection/selection-multi.component';\r\nimport { SingleSelectionComponent } from './selection/selection-single.component';\r\nimport { MultiDisableSelectionComponent } from './selection/selection-disabled.component';\r\nimport { CheckboxSelectionComponent } from './selection/selection-chkbox.component';\r\nimport { MultiClickSelectionComponent } from './selection/selection-multi-click.component';\r\nimport { CustomCheckboxSelectionComponent } from './selection/selection-chkbox-template.component';\r\n\r\n// -- Columns\r\nimport { ColumnToggleComponent } from './columns/column-toggle.component';\r\nimport { ColumnStandardComponent } from './columns/column-standard.component';\r\nimport { ColumnForceComponent } from './columns/column-force.component';\r\nimport { ColumnFlexComponent } from './columns/column-flex.component';\r\nimport { ColumnPinningComponent } from './columns/pinning.component';\r\nimport { ColumnReorderComponent } from './columns/column-reorder.component';\r\n\r\n// -- Summary row\r\nimport { SummaryRowSimpleComponent } from './summary/summary-row-simple.component';\r\nimport { SummaryRowCustomTemplateComponent } from './summary/summary-row-custom-template.component';\r\nimport { SummaryRowServerPagingComponent } from './summary/summary-row-server-paging.component';\r\nimport { SummaryRowInlineHtmlComponent } from './summary/summary-row-inline-html.component';\r\nimport { AppRoutingModule } from './app-routing.module';\r\nimport { CommonModule } from '@angular/common';\r\n\r\n@NgModule({\r\n  declarations: [\r\n    AppComponent,\r\n    BasicAutoComponent,\r\n    BasicFixedComponent,\r\n    FullScreenComponent,\r\n    FullScreenTreeComponent,\r\n    InlineEditComponent,\r\n    VirtualScrollComponent,\r\n    HorzVertScrolling,\r\n    MultipleTablesComponent,\r\n    RowDetailsComponent,\r\n    ResponsiveComponent,\r\n    ClientPagingComponent,\r\n    ServerPagingComponent,\r\n    PagingScrollingNoVirtualizationComponent,\r\n    ServerScrollingComponent,\r\n    ClientSortingComponent,\r\n    DefaultSortingComponent,\r\n    ServerSortingComponent,\r\n    SortingComparatorComponent,\r\n    CellSelectionComponent,\r\n    MultiSelectionComponent,\r\n    InlineTemplatesComponent,\r\n    TemplateRefTemplatesComponent,\r\n    ColumnFlexComponent,\r\n    ColumnToggleComponent,\r\n    ColumnStandardComponent,\r\n    ColumnForceComponent,\r\n    ColumnPinningComponent,\r\n    ColumnReorderComponent,\r\n    FilterBarComponent,\r\n    VirtualPagingComponent,\r\n    DarkThemeComponent,\r\n    TabsDemoComponent,\r\n    SingleSelectionComponent,\r\n    LiveDataComponent,\r\n    MultiDisableSelectionComponent,\r\n    RxDemoComponent,\r\n    ContextMenuDemoComponent,\r\n    CheckboxSelectionComponent,\r\n    CustomCheckboxSelectionComponent,\r\n    MultiClickSelectionComponent,\r\n    RowCssComponent,\r\n    DynamicHeightComponent,\r\n    FooterDemoComponent,\r\n    RowGroupingComponent,\r\n    BootstrapThemeComponent,\r\n    ClientTreeComponent,\r\n    SummaryRowSimpleComponent,\r\n    SummaryRowCustomTemplateComponent,\r\n    SummaryRowServerPagingComponent,\r\n    SummaryRowInlineHtmlComponent\r\n  ],\r\n  imports: [\r\n    CommonModule,\r\n    BrowserModule,\r\n    AppRoutingModule,\r\n    NgxDatatableModule.forRoot({\r\n      messages: {\r\n        emptyMessage: 'No data to display', // Message to show when array is presented, but contains no values\r\n        totalMessage: 'total', // Footer total message\r\n        selectedMessage: 'selected' // Footer selected message\r\n      }\r\n    })\r\n  ],\r\n  bootstrap: [AppComponent]\r\n})\r\nexport class AppModule {}\r\n","import { Component } from '@angular/core';\r\nimport { ColumnMode } from 'projects/swimlane/ngx-datatable/src/public-api';\r\n\r\n@Component({\r\n  selector: 'server-sorting-demo',\r\n  template: `\r\n    <div>\r\n      <h3>\r\n        Server-side Sorting\r\n        <small>\r\n          <a\r\n            href=\"https://github.com/swimlane/ngx-datatable/blob/master/src/app/sorting/sorting-server.component.ts\"\r\n            target=\"_blank\"\r\n          >\r\n            Source\r\n          </a>\r\n        </small>\r\n      </h3>\r\n      <ngx-datatable\r\n        class=\"material\"\r\n        [rows]=\"rows\"\r\n        [columns]=\"columns\"\r\n        [columnMode]=\"ColumnMode.force\"\r\n        [headerHeight]=\"50\"\r\n        [footerHeight]=\"50\"\r\n        rowHeight=\"auto\"\r\n        [externalSorting]=\"true\"\r\n        [loadingIndicator]=\"loading\"\r\n        (sort)=\"onSort($event)\"\r\n      >\r\n      </ngx-datatable>\r\n    </div>\r\n  `\r\n})\r\nexport class ServerSortingComponent {\r\n  loading = false;\r\n\r\n  rows = [];\r\n\r\n  columns = [\r\n    { name: 'Company', sortable: true },\r\n    { name: 'Name', sortable: true },\r\n    { name: 'Gender', sortable: true }\r\n  ];\r\n\r\n  ColumnMode = ColumnMode;\r\n\r\n  constructor() {\r\n    this.fetch(data => {\r\n      this.rows = data;\r\n    });\r\n  }\r\n\r\n  fetch(cb) {\r\n    const req = new XMLHttpRequest();\r\n    req.open('GET', `assets/data/company.json`);\r\n\r\n    req.onload = () => {\r\n      const data = JSON.parse(req.response);\r\n      cb(data.splice(0, 20));\r\n    };\r\n\r\n    req.send();\r\n  }\r\n\r\n  onSort(event) {\r\n    // event was triggered, start sort sequence\r\n    console.log('Sort Event', event);\r\n    this.loading = true;\r\n    // emulate a server request with a timeout\r\n    setTimeout(() => {\r\n      const rows = [...this.rows];\r\n      // this is only for demo purposes, normally\r\n      // your server would return the result for\r\n      // you and you would just set the rows prop\r\n      const sort = event.sorts[0];\r\n      rows.sort((a, b) => {\r\n        return a[sort.prop].localeCompare(b[sort.prop]) * (sort.dir === 'desc' ? -1 : 1);\r\n      });\r\n\r\n      this.rows = rows;\r\n      this.loading = false;\r\n    }, 1000);\r\n  }\r\n}\r\n","export enum ClickType {\r\n  single = 'single',\r\n  double = 'double'\r\n}\r\n","import {\r\n  Directive,\r\n  Output,\r\n  EventEmitter,\r\n  ContentChildren,\r\n  QueryList,\r\n  KeyValueDiffers,\r\n  AfterContentInit,\r\n  OnDestroy,\r\n  Inject\r\n} from '@angular/core';\r\nimport { DraggableDirective } from './draggable.directive';\r\nimport { DOCUMENT } from '@angular/common';\r\n\r\n@Directive({ selector: '[orderable]' })\r\nexport class OrderableDirective implements AfterContentInit, OnDestroy {\r\n  @Output() reorder: EventEmitter<any> = new EventEmitter();\r\n  @Output() targetChanged: EventEmitter<any> = new EventEmitter();\r\n\r\n  @ContentChildren(DraggableDirective, { descendants: true })\r\n  draggables: QueryList<DraggableDirective>;\r\n\r\n  positions: any;\r\n  differ: any;\r\n  lastDraggingIndex: number;\r\n\r\n  constructor(differs: KeyValueDiffers, @Inject(DOCUMENT) private document: any) {\r\n    this.differ = differs.find({}).create();\r\n  }\r\n\r\n  ngAfterContentInit(): void {\r\n    // HACK: Investigate Better Way\r\n    this.updateSubscriptions();\r\n    this.draggables.changes.subscribe(this.updateSubscriptions.bind(this));\r\n  }\r\n\r\n  ngOnDestroy(): void {\r\n    this.draggables.forEach(d => {\r\n      d.dragStart.unsubscribe();\r\n      d.dragging.unsubscribe();\r\n      d.dragEnd.unsubscribe();\r\n    });\r\n  }\r\n\r\n  updateSubscriptions(): void {\r\n    const diffs = this.differ.diff(this.createMapDiffs());\r\n\r\n    if (diffs) {\r\n      const subscribe = ({ currentValue, previousValue }: any) => {\r\n        unsubscribe({ previousValue });\r\n\r\n        if (currentValue) {\r\n          currentValue.dragStart.subscribe(this.onDragStart.bind(this));\r\n          currentValue.dragging.subscribe(this.onDragging.bind(this));\r\n          currentValue.dragEnd.subscribe(this.onDragEnd.bind(this));\r\n        }\r\n      };\r\n\r\n      const unsubscribe = ({ previousValue }: any) => {\r\n        if (previousValue) {\r\n          previousValue.dragStart.unsubscribe();\r\n          previousValue.dragging.unsubscribe();\r\n          previousValue.dragEnd.unsubscribe();\r\n        }\r\n      };\r\n\r\n      diffs.forEachAddedItem(subscribe);\r\n      // diffs.forEachChangedItem(subscribe.bind(this));\r\n      diffs.forEachRemovedItem(unsubscribe);\r\n    }\r\n  }\r\n\r\n  onDragStart(): void {\r\n    this.positions = {};\r\n\r\n    let i = 0;\r\n    for (const dragger of this.draggables.toArray()) {\r\n      const elm = dragger.element;\r\n      const left = parseInt(elm.offsetLeft.toString(), 0);\r\n      this.positions[dragger.dragModel.prop] = {\r\n        left,\r\n        right: left + parseInt(elm.offsetWidth.toString(), 0),\r\n        index: i++,\r\n        element: elm\r\n      };\r\n    }\r\n  }\r\n\r\n  onDragging({ element, model, event }: any): void {\r\n    const prevPos = this.positions[model.prop];\r\n    const target = this.isTarget(model, event);\r\n\r\n    if (target) {\r\n      if (this.lastDraggingIndex !== target.i) {\r\n        this.targetChanged.emit({\r\n          prevIndex: this.lastDraggingIndex,\r\n          newIndex: target.i,\r\n          initialIndex: prevPos.index\r\n        });\r\n        this.lastDraggingIndex = target.i;\r\n      }\r\n    } else if (this.lastDraggingIndex !== prevPos.index) {\r\n      this.targetChanged.emit({\r\n        prevIndex: this.lastDraggingIndex,\r\n        initialIndex: prevPos.index\r\n      });\r\n      this.lastDraggingIndex = prevPos.index;\r\n    }\r\n  }\r\n\r\n  onDragEnd({ element, model, event }: any): void {\r\n    const prevPos = this.positions[model.prop];\r\n\r\n    const target = this.isTarget(model, event);\r\n    if (target) {\r\n      this.reorder.emit({\r\n        prevIndex: prevPos.index,\r\n        newIndex: target.i,\r\n        model\r\n      });\r\n    }\r\n\r\n    this.lastDraggingIndex = undefined;\r\n    element.style.left = 'auto';\r\n  }\r\n\r\n  isTarget(model: any, event: any): any {\r\n    let i = 0;\r\n    const x = event.x || event.clientX;\r\n    const y = event.y || event.clientY;\r\n    const targets = this.document.elementsFromPoint(x, y);\r\n\r\n    for (const prop in this.positions) {\r\n      // current column position which throws event.\r\n      const pos = this.positions[prop];\r\n\r\n      // since we drag the inner span, we need to find it in the elements at the cursor\r\n      if (model.prop !== prop && targets.find((el: any) => el === pos.element)) {\r\n        return {\r\n          pos,\r\n          i\r\n        };\r\n      }\r\n\r\n      i++;\r\n    }\r\n  }\r\n\r\n  private createMapDiffs(): { [key: string]: DraggableDirective } {\r\n    return this.draggables.toArray().reduce((acc, curr) => {\r\n      acc[curr.dragModel.$$id] = curr;\r\n      return acc;\r\n    }, {});\r\n  }\r\n}\r\n","import { Component } from '@angular/core';\r\nimport { ColumnMode, SortType } from 'projects/swimlane/ngx-datatable/src/public-api';\r\n\r\n@Component({\r\n  selector: 'client-sorting-demo',\r\n  template: `\r\n    <div>\r\n      <h3>\r\n        Client-side Sorting\r\n        <small>\r\n          <a\r\n            href=\"https://github.com/swimlane/ngx-datatable/blob/master/src/app/sorting/sorting-client.component.ts\"\r\n            target=\"_blank\"\r\n          >\r\n            Source\r\n          </a>\r\n        </small>\r\n      </h3>\r\n      <ngx-datatable\r\n        class=\"material\"\r\n        [rows]=\"rows\"\r\n        [columns]=\"columns\"\r\n        [sortType]=\"SortType.multi\"\r\n        [columnMode]=\"ColumnMode.force\"\r\n        [headerHeight]=\"50\"\r\n        [footerHeight]=\"50\"\r\n        [rowHeight]=\"50\"\r\n        [scrollbarV]=\"true\"\r\n      >\r\n      </ngx-datatable>\r\n    </div>\r\n  `\r\n})\r\nexport class ClientSortingComponent {\r\n  rows = [];\r\n\r\n  columns = [{ name: 'Company' }, { name: 'Name' }, { name: 'Gender' }];\r\n\r\n  ColumnMode = ColumnMode;\r\n  SortType = SortType;\r\n\r\n  constructor() {\r\n    this.fetch(data => {\r\n      this.rows = data;\r\n    });\r\n  }\r\n\r\n  fetch(cb) {\r\n    const req = new XMLHttpRequest();\r\n    req.open('GET', `assets/data/company.json`);\r\n\r\n    req.onload = () => {\r\n      const data = JSON.parse(req.response);\r\n      cb(data);\r\n    };\r\n\r\n    req.send();\r\n  }\r\n}\r\n","import {\r\n  Component,\r\n  Input,\r\n  EventEmitter,\r\n  Output,\r\n  HostBinding,\r\n  HostListener,\r\n  ChangeDetectionStrategy,\r\n  ChangeDetectorRef\r\n} from '@angular/core';\r\nimport { SortType } from '../../types/sort.type';\r\nimport { SelectionType } from '../../types/selection.type';\r\nimport { TableColumn } from '../../types/table-column.type';\r\nimport { nextSortDir } from '../../utils/sort';\r\nimport { SortDirection } from '../../types/sort-direction.type';\r\n\r\n@Component({\r\n  selector: 'datatable-header-cell',\r\n  template: `\r\n    <div class=\"datatable-header-cell-template-wrap\">\r\n      <ng-template\r\n        *ngIf=\"isTarget\"\r\n        [ngTemplateOutlet]=\"targetMarkerTemplate\"\r\n        [ngTemplateOutletContext]=\"targetMarkerContext\"\r\n      >\r\n      </ng-template>\r\n      <label *ngIf=\"isCheckboxable\" class=\"datatable-checkbox\">\r\n        <input type=\"checkbox\" [checked]=\"allRowsSelected\" (change)=\"select.emit(!allRowsSelected)\" />\r\n      </label>\r\n      <span *ngIf=\"!column.headerTemplate\" class=\"datatable-header-cell-wrapper\">\r\n        <span class=\"datatable-header-cell-label draggable\" (click)=\"onSort()\" [innerHTML]=\"name\"> </span>\r\n      </span>\r\n      <ng-template\r\n        *ngIf=\"column.headerTemplate\"\r\n        [ngTemplateOutlet]=\"column.headerTemplate\"\r\n        [ngTemplateOutletContext]=\"cellContext\"\r\n      >\r\n      </ng-template>\r\n      <span (click)=\"onSort()\" [class]=\"sortClass\"> </span>\r\n    </div>\r\n  `,\r\n  host: {\r\n    class: 'datatable-header-cell'\r\n  },\r\n  changeDetection: ChangeDetectionStrategy.OnPush\r\n})\r\nexport class DataTableHeaderCellComponent {\r\n  @Input() sortType: SortType;\r\n  @Input() sortAscendingIcon: string;\r\n  @Input() sortDescendingIcon: string;\r\n  @Input() sortUnsetIcon: string;\r\n\r\n  @Input() isTarget: boolean;\r\n  @Input() targetMarkerTemplate: any;\r\n  @Input() targetMarkerContext: any;\r\n\r\n  _allRowsSelected: boolean;\r\n\r\n  @Input() set allRowsSelected(value) {\r\n    this._allRowsSelected = value;\r\n    this.cellContext.allRowsSelected = value;\r\n  }\r\n  get allRowsSelected() {\r\n    return this._allRowsSelected;\r\n  }\r\n\r\n  @Input() selectionType: SelectionType;\r\n\r\n  @Input() set column(column: TableColumn) {\r\n    this._column = column;\r\n    this.cellContext.column = column;\r\n    this.cd.markForCheck();\r\n  }\r\n\r\n  get column(): TableColumn {\r\n    return this._column;\r\n  }\r\n\r\n  @HostBinding('style.height.px')\r\n  @Input()\r\n  headerHeight: number;\r\n\r\n  @Input() set sorts(val: any[]) {\r\n    this._sorts = val;\r\n    this.sortDir = this.calcSortDir(val);\r\n    this.cellContext.sortDir = this.sortDir;\r\n    this.sortClass = this.calcSortClass(this.sortDir);\r\n    this.cd.markForCheck();\r\n  }\r\n\r\n  get sorts(): any[] {\r\n    return this._sorts;\r\n  }\r\n\r\n  @Output() sort: EventEmitter<any> = new EventEmitter();\r\n  @Output() select: EventEmitter<any> = new EventEmitter();\r\n  @Output() columnContextmenu = new EventEmitter<{ event: MouseEvent; column: any }>(false);\r\n\r\n  @HostBinding('class')\r\n  get columnCssClasses(): any {\r\n    let cls = 'datatable-header-cell';\r\n\r\n    if (this.column.sortable) cls += ' sortable';\r\n    if (this.column.resizeable) cls += ' resizeable';\r\n    if (this.column.headerClass) {\r\n      if (typeof this.column.headerClass === 'string') {\r\n        cls += ' ' + this.column.headerClass;\r\n      } else if (typeof this.column.headerClass === 'function') {\r\n        const res = this.column.headerClass({\r\n          column: this.column\r\n        });\r\n\r\n        if (typeof res === 'string') {\r\n          cls += res;\r\n        } else if (typeof res === 'object') {\r\n          const keys = Object.keys(res);\r\n          for (const k of keys) {\r\n            if (res[k] === true) cls += ` ${k}`;\r\n          }\r\n        }\r\n      }\r\n    }\r\n\r\n    const sortDir = this.sortDir;\r\n    if (sortDir) {\r\n      cls += ` sort-active sort-${sortDir}`;\r\n    }\r\n\r\n    return cls;\r\n  }\r\n\r\n  @HostBinding('attr.title')\r\n  get name(): string {\r\n    // guaranteed to have a value by setColumnDefaults() in column-helper.ts\r\n    return this.column.headerTemplate === undefined ? this.column.name : undefined;\r\n  }\r\n\r\n  @HostBinding('style.minWidth.px')\r\n  get minWidth(): number {\r\n    return this.column.minWidth;\r\n  }\r\n\r\n  @HostBinding('style.maxWidth.px')\r\n  get maxWidth(): number {\r\n    return this.column.maxWidth;\r\n  }\r\n\r\n  @HostBinding('style.width.px')\r\n  get width(): number {\r\n    return this.column.width;\r\n  }\r\n\r\n  get isCheckboxable(): boolean {\r\n    return this.column.checkboxable && this.column.headerCheckboxable;\r\n  }\r\n\r\n  sortFn = this.onSort.bind(this);\r\n  sortClass: string;\r\n  sortDir: SortDirection;\r\n  selectFn = this.select.emit.bind(this.select);\r\n\r\n  cellContext: any;\r\n\r\n  private _column: TableColumn;\r\n  private _sorts: any[];\r\n\r\n  constructor(private cd: ChangeDetectorRef) {\r\n    this.cellContext = {\r\n      column: this.column,\r\n      sortDir: this.sortDir,\r\n      sortFn: this.sortFn,\r\n      allRowsSelected: this.allRowsSelected,\r\n      selectFn: this.selectFn\r\n    };\r\n  }\r\n\r\n  @HostListener('contextmenu', ['$event'])\r\n  onContextmenu($event: MouseEvent): void {\r\n    this.columnContextmenu.emit({ event: $event, column: this.column });\r\n  }\r\n\r\n  ngOnInit() {\r\n    this.sortClass = this.calcSortClass(this.sortDir);\r\n  }\r\n\r\n  calcSortDir(sorts: any[]): any {\r\n    if (sorts && this.column) {\r\n      const sort = sorts.find((s: any) => {\r\n        return s.prop === this.column.prop;\r\n      });\r\n\r\n      if (sort) return sort.dir;\r\n    }\r\n  }\r\n\r\n  onSort(): void {\r\n    if (!this.column.sortable) return;\r\n\r\n    const newValue = nextSortDir(this.sortType, this.sortDir);\r\n    this.sort.emit({\r\n      column: this.column,\r\n      prevValue: this.sortDir,\r\n      newValue\r\n    });\r\n  }\r\n\r\n  calcSortClass(sortDir: SortDirection): string {\r\n    if (!this.cellContext.column.sortable) return;\r\n    if (sortDir === SortDirection.asc) {\r\n      return `sort-btn sort-asc ${this.sortAscendingIcon}`;\r\n    } else if (sortDir === SortDirection.desc) {\r\n      return `sort-btn sort-desc ${this.sortDescendingIcon}`;\r\n    } else {\r\n      return `sort-btn ${this.sortUnsetIcon}`;\r\n    }\r\n  }\r\n}\r\n","import {\r\n  Component,\r\n  Output,\r\n  EventEmitter,\r\n  Input,\r\n  HostBinding,\r\n  ChangeDetectorRef,\r\n  ViewChild,\r\n  OnInit,\r\n  OnDestroy,\r\n  ChangeDetectionStrategy\r\n} from '@angular/core';\r\nimport { ScrollerComponent } from './scroller.component';\r\nimport { SelectionType } from '../../types/selection.type';\r\nimport { columnsByPin, columnGroupWidths } from '../../utils/column';\r\nimport { RowHeightCache } from '../../utils/row-height-cache';\r\nimport { translateXY } from '../../utils/translate';\r\n\r\n@Component({\r\n  selector: 'datatable-body',\r\n  template: `\r\n    <datatable-progress *ngIf=\"loadingIndicator\"> </datatable-progress>\r\n    <datatable-selection\r\n      #selector\r\n      [selected]=\"selected\"\r\n      [rows]=\"rows\"\r\n      [selectCheck]=\"selectCheck\"\r\n      [selectEnabled]=\"selectEnabled\"\r\n      [selectionType]=\"selectionType\"\r\n      [rowIdentity]=\"rowIdentity\"\r\n      (select)=\"select.emit($event)\"\r\n      (activate)=\"activate.emit($event)\"\r\n    >\r\n      <datatable-scroller\r\n        *ngIf=\"rows?.length\"\r\n        [scrollbarV]=\"scrollbarV\"\r\n        [scrollbarH]=\"scrollbarH\"\r\n        [scrollHeight]=\"scrollHeight\"\r\n        [scrollWidth]=\"columnGroupWidths?.total\"\r\n        (scroll)=\"onBodyScroll($event)\"\r\n      >\r\n        <datatable-summary-row\r\n          *ngIf=\"summaryRow && summaryPosition === 'top'\"\r\n          [rowHeight]=\"summaryHeight\"\r\n          [offsetX]=\"offsetX\"\r\n          [innerWidth]=\"innerWidth\"\r\n          [rows]=\"rows\"\r\n          [columns]=\"columns\"\r\n        >\r\n        </datatable-summary-row>\r\n        <datatable-row-wrapper\r\n          [groupedRows]=\"groupedRows\"\r\n          *ngFor=\"let group of temp; let i = index; trackBy: rowTrackingFn\"\r\n          [innerWidth]=\"innerWidth\"\r\n          [ngStyle]=\"getRowsStyles(group)\"\r\n          [rowDetail]=\"rowDetail\"\r\n          [groupHeader]=\"groupHeader\"\r\n          [offsetX]=\"offsetX\"\r\n          [detailRowHeight]=\"getDetailRowHeight(group && group[i], i)\"\r\n          [row]=\"group\"\r\n          [expanded]=\"getRowExpanded(group)\"\r\n          [rowIndex]=\"getRowIndex(group && group[i])\"\r\n          (rowContextmenu)=\"rowContextmenu.emit($event)\"\r\n        >\r\n          <datatable-body-row\r\n            role=\"row\"\r\n            *ngIf=\"!groupedRows; else groupedRowsTemplate\"\r\n            tabindex=\"-1\"\r\n            [isSelected]=\"selector.getRowSelected(group)\"\r\n            [innerWidth]=\"innerWidth\"\r\n            [offsetX]=\"offsetX\"\r\n            [columns]=\"columns\"\r\n            [rowHeight]=\"getRowHeight(group)\"\r\n            [row]=\"group\"\r\n            [rowIndex]=\"getRowIndex(group)\"\r\n            [expanded]=\"getRowExpanded(group)\"\r\n            [rowClass]=\"rowClass\"\r\n            [selectCheck]=\"selectCheck\"\r\n            [displayCheck]=\"displayCheck\"\r\n            [treeStatus]=\"group && group.treeStatus\"\r\n            (treeAction)=\"onTreeAction(group)\"\r\n            (activate)=\"selector.onActivate($event, indexes.first + i)\"\r\n          >\r\n          </datatable-body-row>\r\n          <ng-template #groupedRowsTemplate>\r\n            <datatable-body-row\r\n              role=\"row\"\r\n              *ngFor=\"let row of group.value; let i = index; trackBy: rowTrackingFn\"\r\n              tabindex=\"-1\"\r\n              [isSelected]=\"selector.getRowSelected(row)\"\r\n              [innerWidth]=\"innerWidth\"\r\n              [offsetX]=\"offsetX\"\r\n              [columns]=\"columns\"\r\n              [rowHeight]=\"getRowHeight(row)\"\r\n              [row]=\"row\"\r\n              [group]=\"group.value\"\r\n              [rowIndex]=\"getRowIndex(row)\"\r\n              [expanded]=\"getRowExpanded(row)\"\r\n              [rowClass]=\"rowClass\"\r\n              [treeStatus]=\"row.treeStatus\"\r\n              (treeAction)=\"onTreeAction(row)\"\r\n              (activate)=\"selector.onActivate($event, i)\"\r\n            >\r\n            </datatable-body-row>\r\n          </ng-template>\r\n        </datatable-row-wrapper>\r\n        <datatable-summary-row\r\n          role=\"row\"\r\n          *ngIf=\"summaryRow && summaryPosition === 'bottom'\"\r\n          [ngStyle]=\"getBottomSummaryRowStyles()\"\r\n          [rowHeight]=\"summaryHeight\"\r\n          [offsetX]=\"offsetX\"\r\n          [innerWidth]=\"innerWidth\"\r\n          [rows]=\"rows\"\r\n          [columns]=\"columns\"\r\n        >\r\n        </datatable-summary-row>\r\n      </datatable-scroller>\r\n      <div class=\"empty-row\" *ngIf=\"!rows?.length && !loadingIndicator\" [innerHTML]=\"emptyMessage\"></div>\r\n    </datatable-selection>\r\n  `,\r\n  changeDetection: ChangeDetectionStrategy.OnPush,\r\n  host: {\r\n    class: 'datatable-body'\r\n  }\r\n})\r\nexport class DataTableBodyComponent implements OnInit, OnDestroy {\r\n  @Input() scrollbarV: boolean;\r\n  @Input() scrollbarH: boolean;\r\n  @Input() loadingIndicator: boolean;\r\n  @Input() externalPaging: boolean;\r\n  @Input() rowHeight: number | 'auto' | ((row?: any) => number);\r\n  @Input() offsetX: number;\r\n  @Input() emptyMessage: string;\r\n  @Input() selectionType: SelectionType;\r\n  @Input() selected: any[] = [];\r\n  @Input() rowIdentity: any;\r\n  @Input() rowDetail: any;\r\n  @Input('groupHeader') set setGroupHeader(groupHeader) {\r\n    this.groupHeader = groupHeader;\r\n    if (this.groupHeader && !this.listener) {\r\n      this.setGroupHeaderListener();\r\n    }\r\n  }\r\n  @Input() selectCheck: any;\r\n  @Input() displayCheck: any;\r\n  @Input() trackByProp: string;\r\n  @Input() rowClass: any;\r\n  @Input() groupedRows: any;\r\n  @Input() groupExpansionDefault: boolean;\r\n  @Input() innerWidth: number;\r\n  @Input() groupRowsBy: string;\r\n  @Input() virtualization: boolean;\r\n  @Input() summaryRow: boolean;\r\n  @Input() summaryPosition: string;\r\n  @Input() summaryHeight: number;\r\n\r\n  @Input() set pageSize(val: number) {\r\n    this._pageSize = val;\r\n    this.recalcLayout();\r\n  }\r\n\r\n  get pageSize(): number {\r\n    return this._pageSize;\r\n  }\r\n\r\n  @Input() set rows(val: any[]) {\r\n    this._rows = val;\r\n    this.recalcLayout();\r\n  }\r\n\r\n  get rows(): any[] {\r\n    return this._rows;\r\n  }\r\n\r\n  @Input() set columns(val: any[]) {\r\n    this._columns = val;\r\n    const colsByPin = columnsByPin(val);\r\n    this.columnGroupWidths = columnGroupWidths(colsByPin, val);\r\n  }\r\n\r\n  get columns(): any[] {\r\n    return this._columns;\r\n  }\r\n\r\n  @Input() set offset(val: number) {\r\n    this._offset = val;\r\n    if (!this.scrollbarV || (this.scrollbarV && !this.virtualization)) this.recalcLayout();\r\n  }\r\n\r\n  get offset(): number {\r\n    return this._offset;\r\n  }\r\n\r\n  @Input() set rowCount(val: number) {\r\n    this._rowCount = val;\r\n    this.recalcLayout();\r\n  }\r\n\r\n  get rowCount(): number {\r\n    return this._rowCount;\r\n  }\r\n\r\n  @HostBinding('style.width')\r\n  get bodyWidth(): string {\r\n    if (this.scrollbarH) {\r\n      return this.innerWidth + 'px';\r\n    } else {\r\n      return '100%';\r\n    }\r\n  }\r\n\r\n  @Input()\r\n  @HostBinding('style.height')\r\n  set bodyHeight(val) {\r\n    if (this.scrollbarV) {\r\n      this._bodyHeight = val + 'px';\r\n    } else {\r\n      this._bodyHeight = 'auto';\r\n    }\r\n\r\n    this.recalcLayout();\r\n  }\r\n\r\n  get bodyHeight() {\r\n    return this._bodyHeight;\r\n  }\r\n\r\n  @Output() scroll: EventEmitter<any> = new EventEmitter();\r\n  @Output() page: EventEmitter<any> = new EventEmitter();\r\n  @Output() activate: EventEmitter<any> = new EventEmitter();\r\n  @Output() select: EventEmitter<any> = new EventEmitter();\r\n  @Output() detailToggle: EventEmitter<any> = new EventEmitter();\r\n  @Output() rowContextmenu = new EventEmitter<{ event: MouseEvent; row: any }>(false);\r\n  @Output() treeAction: EventEmitter<any> = new EventEmitter();\r\n\r\n  @ViewChild(ScrollerComponent) scroller: ScrollerComponent;\r\n\r\n  /**\r\n   * Returns if selection is enabled.\r\n   */\r\n  get selectEnabled(): boolean {\r\n    return !!this.selectionType;\r\n  }\r\n\r\n  /**\r\n   * Property that would calculate the height of scroll bar\r\n   * based on the row heights cache for virtual scroll and virtualization. Other scenarios\r\n   * calculate scroll height automatically (as height will be undefined).\r\n   */\r\n  get scrollHeight(): number | undefined {\r\n    if (this.scrollbarV && this.virtualization && this.rowCount) {\r\n      return this.rowHeightsCache.query(this.rowCount - 1);\r\n    }\r\n    // avoid TS7030: Not all code paths return a value.\r\n    return undefined;\r\n  }\r\n\r\n  rowHeightsCache: RowHeightCache = new RowHeightCache();\r\n  temp: any[] = [];\r\n  offsetY = 0;\r\n  indexes: any = {};\r\n  columnGroupWidths: any;\r\n  columnGroupWidthsWithoutGroup: any;\r\n  rowTrackingFn: any;\r\n  listener: any;\r\n  rowIndexes: any = new WeakMap<any, string>();\r\n  rowExpansions: any[] = [];\r\n  isAllGroupCollapsed: boolean;\r\n\r\n  _rows: any[];\r\n  _bodyHeight: any;\r\n  _columns: any[];\r\n  _rowCount: number;\r\n  _offset: number;\r\n  _pageSize: number;\r\n  groupHeader: any;\r\n\r\n  /**\r\n   * Creates an instance of DataTableBodyComponent.\r\n   */\r\n  constructor(private cd: ChangeDetectorRef) {\r\n    // declare fn here so we can get access to the `this` property\r\n    this.rowTrackingFn = (index: number, row: any): any => {\r\n      const idx = this.getRowIndex(row);\r\n      if (this.trackByProp) {\r\n        return row[this.trackByProp];\r\n      } else {\r\n        return idx;\r\n      }\r\n    };\r\n  }\r\n\r\n  /**\r\n   * Called after the constructor, initializing input properties\r\n   */\r\n  ngOnInit(): void {\r\n    if (this.rowDetail) {\r\n      this.listener = this.rowDetail.toggle.subscribe(({ type, value }: { type: string; value: any }) => {\r\n        if (type === 'row') {\r\n          this.toggleRowExpansion(value);\r\n        }\r\n        if (type === 'all') {\r\n          this.toggleAllRows(value);\r\n        }\r\n\r\n        // Refresh rows after toggle\r\n        // Fixes #883\r\n        this.updateIndexes();\r\n        this.updateRows();\r\n        this.cd.markForCheck();\r\n      });\r\n    }\r\n\r\n    if (this.groupHeader) {\r\n      this.setGroupHeaderListener();\r\n    }\r\n  }\r\n\r\n  setGroupHeaderListener() {\r\n    this.listener = this.groupHeader.toggle.subscribe(({ type, value }: { type: string; value: any }) => {\r\n      if (type === 'group') {\r\n        this.toggleRowExpansion(value);\r\n      }\r\n      if (type === 'all') {\r\n        this.toggleAllRows(value);\r\n      }\r\n\r\n      // Refresh rows after toggle\r\n      // Fixes #883\r\n      this.updateIndexes();\r\n      this.updateRows();\r\n      this.cd.markForCheck();\r\n    });\r\n  }\r\n\r\n\r\n  /**\r\n   * Called once, before the instance is destroyed.\r\n   */\r\n  ngOnDestroy(): void {\r\n    if ((this.rowDetail || this.groupHeader) && this.listener) {\r\n      this.listener.unsubscribe();\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Updates the Y offset given a new offset.\r\n   */\r\n  updateOffsetY(offset?: number): void {\r\n    // scroller is missing on empty table\r\n    if (!this.scroller) {\r\n      return;\r\n    }\r\n\r\n    if (this.scrollbarV && this.virtualization && offset) {\r\n      // First get the row Index that we need to move to.\r\n      const rowIndex = this.pageSize * offset;\r\n      offset = this.rowHeightsCache.query(rowIndex - 1);\r\n    } else if (this.scrollbarV && !this.virtualization) {\r\n      offset = 0;\r\n    }\r\n\r\n    this.scroller.setOffset(offset || 0);\r\n  }\r\n\r\n  /**\r\n   * Body was scrolled, this is mainly useful for\r\n   * when a user is server-side pagination via virtual scroll.\r\n   */\r\n  onBodyScroll(event: any): void {\r\n    const scrollYPos: number = event.scrollYPos;\r\n    const scrollXPos: number = event.scrollXPos;\r\n\r\n    // if scroll change, trigger update\r\n    // this is mainly used for header cell positions\r\n    if (this.offsetY !== scrollYPos || this.offsetX !== scrollXPos) {\r\n      this.scroll.emit({\r\n        offsetY: scrollYPos,\r\n        offsetX: scrollXPos\r\n      });\r\n    }\r\n\r\n    this.offsetY = scrollYPos;\r\n    this.offsetX = scrollXPos;\r\n\r\n    this.updateIndexes();\r\n    this.updatePage(event.direction);\r\n    this.updateRows();\r\n  }\r\n\r\n  /**\r\n   * Updates the page given a direction.\r\n   */\r\n  updatePage(direction: string): void {\r\n    let offset = this.indexes.first / this.pageSize;\r\n\r\n    if (direction === 'up') {\r\n      offset = Math.ceil(offset);\r\n    } else if (direction === 'down') {\r\n      offset = Math.floor(offset);\r\n    }\r\n\r\n    if (direction !== undefined && !isNaN(offset)) {\r\n      this.page.emit({ offset });\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Updates the rows in the view port\r\n   */\r\n  updateRows(): void {\r\n    const { first, last } = this.indexes;\r\n    let rowIndex = first;\r\n    let idx = 0;\r\n    const temp: any[] = [];\r\n\r\n    // if grouprowsby has been specified treat row paging\r\n    // parameters as group paging parameters ie if limit 10 has been\r\n    // specified treat it as 10 groups rather than 10 rows\r\n    if (this.groupedRows) {\r\n      let maxRowsPerGroup = 3;\r\n      // if there is only one group set the maximum number of\r\n      // rows per group the same as the total number of rows\r\n      if (this.groupedRows.length === 1) {\r\n        maxRowsPerGroup = this.groupedRows[0].value.length;\r\n      }\r\n\r\n      while (rowIndex < last && rowIndex < this.groupedRows.length) {\r\n        // Add the groups into this page\r\n        const group = this.groupedRows[rowIndex];\r\n        this.rowIndexes.set(group, rowIndex);\r\n\r\n        if (group.value) {\r\n          // add indexes for each group item\r\n          group.value.forEach((g: any, i: number) => {\r\n            const _idx = `${rowIndex}-${i}`;\r\n            this.rowIndexes.set(g, _idx);\r\n          });\r\n        }\r\n        temp[idx] = group;\r\n        idx++;\r\n\r\n        // Group index in this context\r\n        rowIndex++;\r\n      }\r\n    } else {\r\n      while (rowIndex < last && rowIndex < this.rowCount) {\r\n        const row = this.rows[rowIndex];\r\n\r\n        if (row) {\r\n          // add indexes for each row\r\n          this.rowIndexes.set(row, rowIndex);\r\n          temp[idx] = row;\r\n        }\r\n\r\n        idx++;\r\n        rowIndex++;\r\n      }\r\n    }\r\n\r\n    this.temp = temp;\r\n  }\r\n\r\n  /**\r\n   * Get the row height\r\n   */\r\n  getRowHeight(row: any): number {\r\n    // if its a function return it\r\n    if (typeof this.rowHeight === 'function') {\r\n      return this.rowHeight(row);\r\n    }\r\n\r\n    return this.rowHeight as number;\r\n  }\r\n\r\n  /**\r\n   * @param group the group with all rows\r\n   */\r\n  getGroupHeight(group: any): number {\r\n    let rowHeight = 0;\r\n\r\n    if (group.value) {\r\n      for (let index = 0; index < group.value.length; index++) {\r\n        rowHeight += this.getRowAndDetailHeight(group.value[index]);\r\n      }\r\n    }\r\n\r\n    return rowHeight;\r\n  }\r\n\r\n  /**\r\n   * Calculate row height based on the expanded state of the row.\r\n   */\r\n  getRowAndDetailHeight(row: any): number {\r\n    let rowHeight = this.getRowHeight(row);\r\n    const expanded = this.getRowExpanded(row);\r\n\r\n    // Adding detail row height if its expanded.\r\n    if (expanded) {\r\n      rowHeight += this.getDetailRowHeight(row);\r\n    }\r\n\r\n    return rowHeight;\r\n  }\r\n\r\n  /**\r\n   * Get the height of the detail row.\r\n   */\r\n  getDetailRowHeight = (row?: any, index?: any): number => {\r\n    if (!this.rowDetail) {\r\n      return 0;\r\n    }\r\n    const rowHeight = this.rowDetail.rowHeight;\r\n    return typeof rowHeight === 'function' ? rowHeight(row, index) : (rowHeight as number);\r\n  };\r\n\r\n  /**\r\n   * Calculates the styles for the row so that the rows can be moved in 2D space\r\n   * during virtual scroll inside the DOM.   In the below case the Y position is\r\n   * manipulated.   As an example, if the height of row 0 is 30 px and row 1 is\r\n   * 100 px then following styles are generated:\r\n   *\r\n   * transform: translate3d(0px, 0px, 0px);    ->  row0\r\n   * transform: translate3d(0px, 30px, 0px);   ->  row1\r\n   * transform: translate3d(0px, 130px, 0px);  ->  row2\r\n   *\r\n   * Row heights have to be calculated based on the row heights cache as we wont\r\n   * be able to determine which row is of what height before hand.  In the above\r\n   * case the positionY of the translate3d for row2 would be the sum of all the\r\n   * heights of the rows before it (i.e. row0 and row1).\r\n   *\r\n   * @param rows the row that needs to be placed in the 2D space.\r\n   * @returns the CSS3 style to be applied\r\n   *\r\n   * @memberOf DataTableBodyComponent\r\n   */\r\n  getRowsStyles(rows: any): any {\r\n    const styles: any = {};\r\n\r\n    // only add styles for the group if there is a group\r\n    if (this.groupedRows) {\r\n      styles.width = this.columnGroupWidths.total;\r\n    }\r\n\r\n    if (this.scrollbarV && this.virtualization) {\r\n      let idx = 0;\r\n\r\n      if (this.groupedRows) {\r\n        // Get the latest row rowindex in a group\r\n        const row = rows[rows.length - 1];\r\n        idx = row ? this.getRowIndex(row) : 0;\r\n      } else {\r\n        idx = this.getRowIndex(rows);\r\n      }\r\n\r\n      // const pos = idx * rowHeight;\r\n      // The position of this row would be the sum of all row heights\r\n      // until the previous row position.\r\n      const pos = this.rowHeightsCache.query(idx - 1);\r\n\r\n      translateXY(styles, 0, pos);\r\n    }\r\n\r\n    return styles;\r\n  }\r\n\r\n  /**\r\n   * Calculate bottom summary row offset for scrollbar mode.\r\n   * For more information about cache and offset calculation\r\n   * see description for `getRowsStyles` method\r\n   *\r\n   * @returns the CSS3 style to be applied\r\n   *\r\n   * @memberOf DataTableBodyComponent\r\n   */\r\n  getBottomSummaryRowStyles(): any {\r\n    if (!this.scrollbarV || !this.rows || !this.rows.length) {\r\n      return null;\r\n    }\r\n\r\n    const styles = { position: 'absolute' };\r\n    const pos = this.rowHeightsCache.query(this.rows.length - 1);\r\n\r\n    translateXY(styles, 0, pos);\r\n\r\n    return styles;\r\n  }\r\n\r\n  /**\r\n   * Hides the loading indicator\r\n   */\r\n  hideIndicator(): void {\r\n    setTimeout(() => (this.loadingIndicator = false), 500);\r\n  }\r\n\r\n  /**\r\n   * Updates the index of the rows in the viewport\r\n   */\r\n  updateIndexes(): void {\r\n    let first = 0;\r\n    let last = 0;\r\n\r\n    if (this.scrollbarV) {\r\n      if (this.virtualization) {\r\n        // Calculation of the first and last indexes will be based on where the\r\n        // scrollY position would be at.  The last index would be the one\r\n        // that shows up inside the view port the last.\r\n        const height = parseInt(this.bodyHeight, 0);\r\n        first = this.rowHeightsCache.getRowIndex(this.offsetY);\r\n        last = this.rowHeightsCache.getRowIndex(height + this.offsetY) + 1;\r\n      } else {\r\n        // If virtual rows are not needed\r\n        // We render all in one go\r\n        first = 0;\r\n        last = this.rowCount;\r\n      }\r\n    } else {\r\n      // The server is handling paging and will pass an array that begins with the\r\n      // element at a specified offset.  first should always be 0 with external paging.\r\n      if (!this.externalPaging) {\r\n        first = Math.max(this.offset * this.pageSize, 0);\r\n      }\r\n      last = Math.min(first + this.pageSize, this.rowCount);\r\n    }\r\n\r\n    this.indexes = { first, last };\r\n  }\r\n\r\n  /**\r\n   * Refreshes the full Row Height cache.  Should be used\r\n   * when the entire row array state has changed.\r\n   */\r\n  refreshRowHeightCache(): void {\r\n    if (!this.scrollbarV || (this.scrollbarV && !this.virtualization)) {\r\n      return;\r\n    }\r\n\r\n    // clear the previous row height cache if already present.\r\n    // this is useful during sorts, filters where the state of the\r\n    // rows array is changed.\r\n    this.rowHeightsCache.clearCache();\r\n\r\n    // Initialize the tree only if there are rows inside the tree.\r\n    if (this.rows && this.rows.length) {\r\n      const rowExpansions = new Set();\r\n      for (const row of this.rows) {\r\n        if (this.getRowExpanded(row)) {\r\n          rowExpansions.add(row);\r\n        }\r\n      }\r\n\r\n      this.rowHeightsCache.initCache({\r\n        rows: this.rows,\r\n        rowHeight: this.rowHeight,\r\n        detailRowHeight: this.getDetailRowHeight,\r\n        externalVirtual: this.scrollbarV && this.externalPaging,\r\n        rowCount: this.rowCount,\r\n        rowIndexes: this.rowIndexes,\r\n        rowExpansions\r\n      });\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Gets the index for the view port\r\n   */\r\n  getAdjustedViewPortIndex(): number {\r\n    // Capture the row index of the first row that is visible on the viewport.\r\n    // If the scroll bar is just below the row which is highlighted then make that as the\r\n    // first index.\r\n    const viewPortFirstRowIndex = this.indexes.first;\r\n\r\n    if (this.scrollbarV && this.virtualization) {\r\n      const offsetScroll = this.rowHeightsCache.query(viewPortFirstRowIndex - 1);\r\n      return offsetScroll <= this.offsetY ? viewPortFirstRowIndex - 1 : viewPortFirstRowIndex;\r\n    }\r\n\r\n    return viewPortFirstRowIndex;\r\n  }\r\n\r\n  /**\r\n   * Toggle the Expansion of the row i.e. if the row is expanded then it will\r\n   * collapse and vice versa.   Note that the expanded status is stored as\r\n   * a part of the row object itself as we have to preserve the expanded row\r\n   * status in case of sorting and filtering of the row set.\r\n   */\r\n  toggleRowExpansion(row: any): void {\r\n    // Capture the row index of the first row that is visible on the viewport.\r\n    const viewPortFirstRowIndex = this.getAdjustedViewPortIndex();\r\n    const rowExpandedIdx = this.getRowExpandedIdx(row, this.rowExpansions);\r\n    const expanded = rowExpandedIdx > -1;\r\n\r\n    // If the detailRowHeight is auto --> only in case of non-virtualized scroll\r\n    if (this.scrollbarV && this.virtualization) {\r\n      const detailRowHeight = this.getDetailRowHeight(row) * (expanded ? -1 : 1);\r\n      // const idx = this.rowIndexes.get(row) || 0;\r\n      const idx = this.getRowIndex(row);\r\n      this.rowHeightsCache.update(idx, detailRowHeight);\r\n    }\r\n\r\n    // Update the toggled row and update thive nevere heights in the cache.\r\n    if (expanded) {\r\n      this.rowExpansions.splice(rowExpandedIdx, 1);\r\n    } else {\r\n      this.rowExpansions.push(row);\r\n    }\r\n\r\n    this.isAllGroupCollapsed = this.rowExpansions.length === 0;\r\n\r\n    this.detailToggle.emit({\r\n      rows: [row],\r\n      currentIndex: viewPortFirstRowIndex\r\n    });\r\n  }\r\n\r\n  /**\r\n   * Expand/Collapse all the rows no matter what their state is.\r\n   */\r\n  toggleAllRows(expanded: boolean): void {\r\n    // clear prev expansions\r\n    this.rowExpansions = [];\r\n\r\n    // Capture the row index of the first row that is visible on the viewport.\r\n    const viewPortFirstRowIndex = this.getAdjustedViewPortIndex();\r\n\r\n    if (expanded) {\r\n      for (const row of this.rows) {\r\n        this.rowExpansions.push(row);\r\n      }\r\n    }\r\n\r\n    if (this.scrollbarV) {\r\n      // Refresh the full row heights cache since every row was affected.\r\n      this.recalcLayout();\r\n    }\r\n\r\n    // Emit all rows that have been expanded.\r\n    this.detailToggle.emit({\r\n      rows: this.rows,\r\n      currentIndex: viewPortFirstRowIndex\r\n    });\r\n  }\r\n\r\n  /**\r\n   * Recalculates the table\r\n   */\r\n  recalcLayout(): void {\r\n    this.refreshRowHeightCache();\r\n    this.updateIndexes();\r\n    this.updateRows();\r\n  }\r\n\r\n  /**\r\n   * Tracks the column\r\n   */\r\n  columnTrackingFn(index: number, column: any): any {\r\n    return column.$$id;\r\n  }\r\n\r\n  /**\r\n   * Gets the row pinning group styles\r\n   */\r\n  stylesByGroup(group: string) {\r\n    const widths = this.columnGroupWidths;\r\n    const offsetX = this.offsetX;\r\n\r\n    const styles = {\r\n      width: `${widths[group]}px`\r\n    };\r\n\r\n    if (group === 'left') {\r\n      translateXY(styles, offsetX, 0);\r\n    } else if (group === 'right') {\r\n      const bodyWidth = parseInt(this.innerWidth + '', 0);\r\n      const totalDiff = widths.total - bodyWidth;\r\n      const offsetDiff = totalDiff - offsetX;\r\n      const offset = offsetDiff * -1;\r\n      translateXY(styles, offset, 0);\r\n    }\r\n\r\n    return styles;\r\n  }\r\n\r\n  /**\r\n   * Returns if the row was expanded and set default row expansion when row expansion is empty\r\n   */\r\n  getRowExpanded(row: any): boolean {\r\n    if (this.rowExpansions.length === 0 && this.groupExpansionDefault && !this.isAllGroupCollapsed) {\r\n      for (const group of this.groupedRows) {\r\n        this.rowExpansions.push(group);\r\n      }\r\n    }\r\n\r\n    return this.getRowExpandedIdx(row, this.rowExpansions) > -1;\r\n  }\r\n\r\n  getRowExpandedIdx(row: any, expanded: any[]): number {\r\n    if (!expanded || !expanded.length) return -1;\r\n\r\n    const rowId = this.rowIdentity(row);\r\n    return expanded.findIndex(r => {\r\n      const id = this.rowIdentity(r);\r\n      return id === rowId;\r\n    });\r\n  }\r\n\r\n  /**\r\n   * Gets the row index given a row\r\n   */\r\n  getRowIndex(row: any): number {\r\n    return this.rowIndexes.get(row) || 0;\r\n  }\r\n\r\n  onTreeAction(row: any) {\r\n    this.treeAction.emit({ row });\r\n  }\r\n}\r\n","import { Component } from '@angular/core';\r\nimport { ColumnMode } from 'projects/swimlane/ngx-datatable/src/public-api';\r\n\r\n@Component({\r\n  selector: 'full-screen-demo',\r\n  template: `\r\n    <div>\r\n      <h3>\r\n        Full Screen\r\n        <small>\r\n          <a\r\n            href=\"https://github.com/swimlane/ngx-datatable/blob/master/src/app/basic/fullscreen.component.ts\"\r\n            target=\"_blank\"\r\n          >\r\n            Source\r\n          </a>\r\n        </small>\r\n      </h3>\r\n      <ngx-datatable\r\n        class=\"material fullscreen\"\r\n        style=\"top: 52px\"\r\n        [columnMode]=\"ColumnMode.force\"\r\n        [headerHeight]=\"50\"\r\n        [footerHeight]=\"0\"\r\n        [rowHeight]=\"50\"\r\n        [scrollbarV]=\"true\"\r\n        [scrollbarH]=\"true\"\r\n        [rows]=\"rows\"\r\n      >\r\n        <ngx-datatable-column name=\"Id\" [width]=\"80\"></ngx-datatable-column>\r\n        <ngx-datatable-column name=\"Name\" [width]=\"300\"></ngx-datatable-column>\r\n        <ngx-datatable-column name=\"Gender\"></ngx-datatable-column>\r\n        <ngx-datatable-column name=\"Age\"></ngx-datatable-column>\r\n        <ngx-datatable-column name=\"City\" [width]=\"300\" prop=\"address.city\"></ngx-datatable-column>\r\n        <ngx-datatable-column name=\"State\" [width]=\"300\" prop=\"address.state\"></ngx-datatable-column>\r\n      </ngx-datatable>\r\n    </div>\r\n  `\r\n})\r\nexport class FullScreenComponent {\r\n  rows = [];\r\n\r\n  ColumnMode = ColumnMode;\r\n\r\n  constructor() {\r\n    this.fetch(data => {\r\n      this.rows = data;\r\n    });\r\n  }\r\n\r\n  fetch(cb) {\r\n    const req = new XMLHttpRequest();\r\n    req.open('GET', `assets/data/100k.json`);\r\n\r\n    req.onload = () => {\r\n      cb(JSON.parse(req.response));\r\n    };\r\n\r\n    req.send();\r\n  }\r\n}\r\n","import { Component } from '@angular/core';\r\nimport { ColumnMode } from 'projects/swimlane/ngx-datatable/src/public-api';\r\n\r\n@Component({\r\n  selector: 'row-css-demo',\r\n  template: `\r\n    <div>\r\n      <h3>\r\n        Row/Header/Cell CSS Class Demo\r\n        <small>\r\n          <a\r\n            href=\"https://github.com/swimlane/ngx-datatable/blob/master/src/app/basic/css.component.ts\"\r\n            target=\"_blank\"\r\n          >\r\n            Source\r\n          </a>\r\n        </small>\r\n      </h3>\r\n      <ngx-datatable\r\n        class=\"material\"\r\n        [rows]=\"rows\"\r\n        [columnMode]=\"ColumnMode.force\"\r\n        [headerHeight]=\"50\"\r\n        [rowHeight]=\"50\"\r\n        [rowClass]=\"getRowClass\"\r\n        [scrollbarV]=\"true\"\r\n      >\r\n        <ngx-datatable-column name=\"Name\"></ngx-datatable-column>\r\n        <ngx-datatable-column name=\"Gender\" headerClass=\"is-gender\" [cellClass]=\"getCellClass\"></ngx-datatable-column>\r\n        <ngx-datatable-column name=\"Age\"></ngx-datatable-column>\r\n      </ngx-datatable>\r\n    </div>\r\n  `\r\n})\r\nexport class RowCssComponent {\r\n  rows = [];\r\n  expanded = {};\r\n  timeout: any;\r\n\r\n  ColumnMode = ColumnMode;\r\n\r\n  constructor() {\r\n    this.fetch(data => {\r\n      this.rows = data;\r\n    });\r\n  }\r\n\r\n  fetch(cb) {\r\n    const req = new XMLHttpRequest();\r\n    req.open('GET', `assets/data/100k.json`);\r\n\r\n    req.onload = () => {\r\n      const rows = JSON.parse(req.response);\r\n      cb(rows.splice(0, 50));\r\n    };\r\n\r\n    req.send();\r\n  }\r\n\r\n  getRowClass(row) {\r\n    return {\r\n      'age-is-ten': row.age % 10 === 0\r\n    };\r\n  }\r\n\r\n  getCellClass({ row, column, value }): any {\r\n    return {\r\n      'is-female': value === 'female'\r\n    };\r\n  }\r\n}\r\n","import { Component } from '@angular/core';\r\nimport { ColumnMode } from 'projects/swimlane/ngx-datatable/src/public-api';\r\n\r\n@Component({\r\n  selector: 'basic-auto-demo',\r\n  template: `\r\n    <div>\r\n      <h3>\r\n        Fluid Row Heights\r\n        <small>\r\n          <a\r\n            href=\"https://github.com/swimlane/ngx-datatable/blob/master/src/app/basic/basic-auto.component.ts\"\r\n            target=\"_blank\"\r\n          >\r\n            Source\r\n          </a>\r\n        </small>\r\n      </h3>\r\n      <ngx-datatable\r\n        class=\"material\"\r\n        [rows]=\"rows\"\r\n        [loadingIndicator]=\"loadingIndicator\"\r\n        [columns]=\"columns\"\r\n        [columnMode]=\"ColumnMode.force\"\r\n        [headerHeight]=\"50\"\r\n        [footerHeight]=\"50\"\r\n        rowHeight=\"auto\"\r\n        [reorderable]=\"reorderable\"\r\n      >\r\n      </ngx-datatable>\r\n    </div>\r\n  `\r\n})\r\nexport class BasicAutoComponent {\r\n  rows = [];\r\n  loadingIndicator = true;\r\n  reorderable = true;\r\n\r\n  columns = [{ prop: 'name' }, { name: 'Gender' }, { name: 'Company', sortable: false }];\r\n\r\n  ColumnMode = ColumnMode;\r\n\r\n  constructor() {\r\n    this.fetch(data => {\r\n      this.rows = data;\r\n      setTimeout(() => {\r\n        this.loadingIndicator = false;\r\n      }, 1500);\r\n    });\r\n  }\r\n\r\n  fetch(cb) {\r\n    const req = new XMLHttpRequest();\r\n    req.open('GET', `assets/data/company.json`);\r\n\r\n    req.onload = () => {\r\n      cb(JSON.parse(req.response));\r\n    };\r\n\r\n    req.send();\r\n  }\r\n}\r\n","/**\r\n * A model for an individual corporate employee\r\n */\r\nexport class CorporateEmployee {\r\n  name: string;\r\n  gender: string;\r\n  company: string;\r\n  age: number;\r\n\r\n  constructor(name: string, gender: string, company: string, age: number) {\r\n    this.name = name;\r\n    this.gender = gender;\r\n    this.company = company;\r\n    this.age = age;\r\n  }\r\n}\r\n","import { Component } from '@angular/core';\r\nimport { MockServerResultsService } from './mock-server-results-service';\r\nimport { CorporateEmployee } from './model/corporate-employee';\r\nimport { Page } from './model/page';\r\nimport { ColumnMode } from 'projects/swimlane/ngx-datatable/src/public-api';\r\nimport { delay } from 'rxjs/operators';\r\n\r\ninterface PageInfo {\r\n  offset: number;\r\n  pageSize: number;\r\n  limit: number;\r\n  count: number;\r\n}\r\n\r\n@Component({\r\n  selector: 'virtual-paging-demo',\r\n  providers: [MockServerResultsService],\r\n  template: `\r\n    <div>\r\n      <h3>\r\n        Virtual Server-side Paging\r\n        <small>\r\n          <a\r\n            href=\"https://github.com/swimlane/ngx-datatable/blob/master/src/app/paging/paging-virtual.component.ts\"\r\n            target=\"_blank\"\r\n          >\r\n            Source\r\n          </a>\r\n        </small>\r\n      </h3>\r\n      <ngx-datatable\r\n        class=\"material\"\r\n        [rows]=\"rows\"\r\n        [columns]=\"[\r\n          { name: 'Name', sortable: false },\r\n          { name: 'Gender', sortable: false },\r\n          { name: 'Company', sortable: false }\r\n        ]\"\r\n        [columnMode]=\"ColumnMode.force\"\r\n        [headerHeight]=\"50\"\r\n        [loadingIndicator]=\"isLoading > 0\"\r\n        [scrollbarV]=\"true\"\r\n        [footerHeight]=\"50\"\r\n        [rowHeight]=\"50\"\r\n        [externalPaging]=\"true\"\r\n        [externalSorting]=\"true\"\r\n        [count]=\"totalElements\"\r\n        [offset]=\"pageNumber\"\r\n        (page)=\"setPage($event)\"\r\n      >\r\n      </ngx-datatable>\r\n    </div>\r\n  `\r\n})\r\nexport class VirtualPagingComponent {\r\n  totalElements: number;\r\n  pageNumber: number;\r\n  rows: CorporateEmployee[];\r\n  cache: any = {};\r\n\r\n  ColumnMode = ColumnMode;\r\n\r\n  isLoading = 0;\r\n\r\n  constructor(private serverResultsService: MockServerResultsService) {\r\n    this.pageNumber = 0;\r\n  }\r\n\r\n  setPage(pageInfo: PageInfo) {\r\n    // Current page number is determined by last call to setPage\r\n    // This is the page the UI is currently displaying\r\n    // The current page is based on the UI pagesize and scroll position\r\n    // Pagesize can change depending on browser size\r\n    this.pageNumber = pageInfo.offset;\r\n\r\n    // Calculate row offset in the UI using pageInfo\r\n    // This is the scroll position in rows\r\n    const rowOffset = pageInfo.offset * pageInfo.pageSize;\r\n\r\n    // When calling the server, we keep page size fixed\r\n    // This should be the max UI pagesize or larger\r\n    // This is not necessary but helps simplify caching since the UI page size can change\r\n    const page = new Page();\r\n    page.size = 20;\r\n    page.pageNumber = Math.floor(rowOffset / page.size);\r\n\r\n    // We keep a index of server loaded pages so we don't load same data twice\r\n    // This is based on the server page not the UI\r\n    if (this.cache[page.pageNumber]) return;\r\n    this.cache[page.pageNumber] = true;\r\n\r\n    // Counter of pending API calls\r\n    this.isLoading++;\r\n\r\n    this.serverResultsService.getResults(page).subscribe(pagedData => {\r\n      // Update total count\r\n      this.totalElements = pagedData.page.totalElements;\r\n\r\n      // Create array to store data if missing\r\n      // The array should have the correct number of with \"holes\" for missing data\r\n      if (!this.rows) {\r\n        this.rows = new Array<CorporateEmployee>(this.totalElements || 0);\r\n      }\r\n\r\n      // Calc starting row offset\r\n      // This is the position to insert the new data\r\n      const start = pagedData.page.pageNumber * pagedData.page.size;\r\n\r\n      // Copy existing data\r\n      const rows = [...this.rows];\r\n\r\n      // Insert new rows into correct position\r\n      rows.splice(start, pagedData.page.size, ...pagedData.data);\r\n\r\n      // Set rows to our new rows for display\r\n      this.rows = rows;\r\n\r\n      // Decrement the counter of pending API calls\r\n      this.isLoading--;\r\n    });\r\n  }\r\n}\r\n","import { Component } from '@angular/core';\r\nimport { ColumnMode } from 'projects/swimlane/ngx-datatable/src/public-api';\r\n\r\n@Component({\r\n  selector: 'summary-row-simple-demo',\r\n  template: `\r\n    <div>\r\n      <h3>\r\n        Simple Summary Row\r\n        <small>\r\n          <a\r\n            href=\"https://github.com/swimlane/ngx-datatable/blob/master/src/app/summary/summary-row-simple.component.ts\"\r\n          >\r\n            Source\r\n          </a>\r\n        </small>\r\n      </h3>\r\n      <div class=\"controls\">\r\n        <div>\r\n          <input\r\n            id=\"enable-summary\"\r\n            type=\"checkbox\"\r\n            [checked]=\"enableSummary\"\r\n            (change)=\"enableSummary = !enableSummary\"\r\n          />\r\n          <label for=\"enable-summary\">Enable Summary Row</label>\r\n        </div>\r\n        <div>\r\n          <label for=\"position-select\">Position</label>\r\n          <select id=\"position-select\" (change)=\"onPositionSelectChange($event)\">\r\n            <option [value]=\"'top'\">Top</option>\r\n            <option [value]=\"'bottom'\">Bottom</option>\r\n          </select>\r\n        </div>\r\n      </div>\r\n      <ngx-datatable\r\n        class=\"material\"\r\n        [summaryRow]=\"enableSummary\"\r\n        [summaryPosition]=\"summaryPosition\"\r\n        [columns]=\"columns\"\r\n        [columnMode]=\"ColumnMode.force\"\r\n        [headerHeight]=\"50\"\r\n        rowHeight=\"auto\"\r\n        [summaryHeight]=\"55\"\r\n        [rows]=\"rows\"\r\n      >\r\n      </ngx-datatable>\r\n    </div>\r\n  `,\r\n  styleUrls: ['./summary-row-simple.component.scss']\r\n})\r\nexport class SummaryRowSimpleComponent {\r\n  rows = [];\r\n\r\n  columns = [\r\n    { prop: 'name', summaryFunc: null },\r\n    { name: 'Gender', summaryFunc: cells => this.summaryForGender(cells) },\r\n    { prop: 'age', summaryFunc: cells => this.avgAge(cells) }\r\n  ];\r\n\r\n  enableSummary = true;\r\n  summaryPosition = 'top';\r\n\r\n  ColumnMode = ColumnMode;\r\n\r\n  constructor() {\r\n    this.fetch(data => {\r\n      this.rows = data.splice(0, 5);\r\n    });\r\n  }\r\n\r\n  fetch(cb: (data: [unknown]) => void) {\r\n    const req = new XMLHttpRequest();\r\n    req.open('GET', `assets/data/company.json`);\r\n\r\n    req.onload = () => {\r\n      cb(JSON.parse(req.response));\r\n    };\r\n\r\n    req.send();\r\n  }\r\n\r\n  onPositionSelectChange($event: Event) {\r\n    const target = $event.target as HTMLSelectElement;\r\n    this.summaryPosition = target.value;\r\n  }\r\n\r\n  private summaryForGender(cells: string[]) {\r\n    const males = cells.filter(cell => cell === 'male').length;\r\n    const females = cells.filter(cell => cell === 'female').length;\r\n\r\n    return `males: ${males}, females: ${females}`;\r\n  }\r\n\r\n  private avgAge(cells: number[]): number {\r\n    const filteredCells = cells.filter(cell => !!cell);\r\n    return filteredCells.reduce((sum, cell) => (sum += cell), 0) / filteredCells.length;\r\n  }\r\n}\r\n","import { Component } from '@angular/core';\r\nimport { ColumnMode } from 'projects/swimlane/ngx-datatable/src/public-api';\r\n\r\n@Component({\r\n  selector: 'client-paging-demo',\r\n  template: `\r\n    <div>\r\n      <h3>\r\n        Client-side Paging\r\n        <small>\r\n          <a\r\n            href=\"https://github.com/swimlane/ngx-datatable/blob/master/src/app/paging/paging-client.component.ts\"\r\n            target=\"_blank\"\r\n          >\r\n            Source\r\n          </a>\r\n        </small>\r\n      </h3>\r\n      <ngx-datatable\r\n        class=\"material\"\r\n        [rows]=\"rows\"\r\n        [columns]=\"[{ name: 'Name' }, { name: 'Gender' }, { name: 'Company' }]\"\r\n        [columnMode]=\"ColumnMode.force\"\r\n        [headerHeight]=\"50\"\r\n        [footerHeight]=\"50\"\r\n        rowHeight=\"auto\"\r\n        [limit]=\"10\"\r\n      >\r\n      </ngx-datatable>\r\n    </div>\r\n  `\r\n})\r\nexport class ClientPagingComponent {\r\n  rows = [];\r\n\r\n  ColumnMode = ColumnMode;\r\n\r\n  constructor() {\r\n    this.fetch(data => {\r\n      this.rows = data;\r\n    });\r\n  }\r\n\r\n  fetch(cb) {\r\n    const req = new XMLHttpRequest();\r\n    req.open('GET', `assets/data/company.json`);\r\n\r\n    req.onload = () => {\r\n      cb(JSON.parse(req.response));\r\n    };\r\n\r\n    req.send();\r\n  }\r\n}\r\n","import { Component } from '@angular/core';\r\nimport { ColumnMode } from 'projects/swimlane/ngx-datatable/src/public-api';\r\n\r\n@Component({\r\n  selector: 'virtual-scroll-demo',\r\n  template: `\r\n    <div>\r\n      <h3>\r\n        Virtual Scrolling with 10k Rows\r\n        <small>\r\n          <a\r\n            href=\"https://github.com/swimlane/ngx-datatable/blob/master/src/app/basic/virtual.component.ts\"\r\n            target=\"_blank\"\r\n          >\r\n            Source\r\n          </a>\r\n        </small>\r\n      </h3>\r\n      <ngx-datatable\r\n        class=\"material\"\r\n        [rows]=\"rows\"\r\n        [columnMode]=\"ColumnMode.force\"\r\n        [headerHeight]=\"50\"\r\n        [footerHeight]=\"50\"\r\n        [rowHeight]=\"getRowHeight\"\r\n        [scrollbarV]=\"true\"\r\n        (page)=\"onPage($event)\"\r\n      >\r\n        <ngx-datatable-column name=\"Name\" [width]=\"300\">\r\n          <ng-template let-value=\"value\" ngx-datatable-cell-template>\r\n            <strong>{{ value }}</strong>\r\n          </ng-template>\r\n        </ngx-datatable-column>\r\n        <ngx-datatable-column name=\"Gender\" [width]=\"300\">\r\n          <ng-template let-row=\"row\" let-value=\"value\" ngx-datatable-cell-template>\r\n            <i [innerHTML]=\"row['name']\"></i> and <i>{{ value }}</i>\r\n          </ng-template>\r\n        </ngx-datatable-column>\r\n        <ngx-datatable-column name=\"Row Height\" prop=\"height\" [width]=\"80\"> </ngx-datatable-column>\r\n      </ngx-datatable>\r\n    </div>\r\n  `\r\n})\r\nexport class VirtualScrollComponent {\r\n  rows;\r\n  expanded = {};\r\n  timeout: any;\r\n\r\n  ColumnMode = ColumnMode;\r\n\r\n  constructor() {\r\n    this.fetch(data => {\r\n      this.rows = data;\r\n    });\r\n  }\r\n\r\n  onPage(event) {\r\n    clearTimeout(this.timeout);\r\n    this.timeout = setTimeout(() => {\r\n      console.log('paged!', event);\r\n    }, 100);\r\n  }\r\n\r\n  fetch(cb) {\r\n    const req = new XMLHttpRequest();\r\n    req.open('GET', `assets/data/100k.json`);\r\n\r\n    req.onload = () => {\r\n      const rows = JSON.parse(req.response);\r\n\r\n      for (const row of rows) {\r\n        row.height = Math.floor(Math.random() * 80) + 50;\r\n      }\r\n\r\n      cb(rows);\r\n    };\r\n\r\n    req.send();\r\n  }\r\n\r\n  getRowHeight(row) {\r\n    return row.height;\r\n  }\r\n}\r\n","export enum SortDirection {\r\n  asc = 'asc',\r\n  desc = 'desc'\r\n}\r\n","import { Component } from '@angular/core';\r\nimport { ColumnMode } from 'projects/swimlane/ngx-datatable/src/public-api';\r\n\r\n@Component({\r\n  selector: 'inline-templates-demo',\r\n  template: `\r\n    <div>\r\n      <h3>\r\n        Expressive Templates\r\n        <small>\r\n          <a\r\n            href=\"https://github.com/swimlane/ngx-datatable/blob/master/src/app/templates/template-dom.component.ts\"\r\n            target=\"_blank\"\r\n          >\r\n            Source\r\n          </a>\r\n        </small>\r\n      </h3>\r\n      <ngx-datatable\r\n        class=\"material\"\r\n        [rows]=\"rows\"\r\n        [columnMode]=\"ColumnMode.force\"\r\n        [headerHeight]=\"50\"\r\n        [footerHeight]=\"50\"\r\n        rowHeight=\"auto\"\r\n      >\r\n        <ngx-datatable-column name=\"Name\">\r\n          <ng-template let-column=\"column\" ngx-datatable-header-template> Holla! {{ column.name }} </ng-template>\r\n          <ng-template let-value=\"value\" ngx-datatable-cell-template>\r\n            Hi: <strong>{{ value }}</strong>\r\n          </ng-template>\r\n        </ngx-datatable-column>\r\n        <ngx-datatable-column name=\"Gender\">\r\n          <ng-template let-column=\"column\" let-sort=\"sortFn\" ngx-datatable-header-template>\r\n            <span (click)=\"sort()\">{{ column.name }}</span>\r\n          </ng-template>\r\n          <ng-template let-row=\"row\" let-value=\"value\" ngx-datatable-cell-template>\r\n            My name is: <i [innerHTML]=\"row['name']\"></i> and <i>{{ value }}</i>\r\n            <div>{{ joke }}</div>\r\n          </ng-template>\r\n        </ngx-datatable-column>\r\n        <ngx-datatable-column name=\"Age\">\r\n          <ng-template let-value=\"value\" ngx-datatable-cell-template>\r\n            <div style=\"border:solid 1px #ddd;margin:5px;padding:3px\">\r\n              <div style=\"background:#999;height:10px\" [style.width]=\"value + '%'\"></div>\r\n            </div>\r\n          </ng-template>\r\n        </ngx-datatable-column>\r\n      </ngx-datatable>\r\n    </div>\r\n  `\r\n})\r\nexport class InlineTemplatesComponent {\r\n  rows = [];\r\n  joke = 'knock knock';\r\n\r\n  ColumnMode = ColumnMode;\r\n\r\n  constructor() {\r\n    this.fetch(data => {\r\n      this.rows = data.splice(0, 5);\r\n    });\r\n  }\r\n\r\n  fetch(cb) {\r\n    const req = new XMLHttpRequest();\r\n    req.open('GET', `assets/data/company.json`);\r\n\r\n    req.onload = () => {\r\n      cb(JSON.parse(req.response));\r\n    };\r\n\r\n    req.send();\r\n  }\r\n}\r\n","import { getterForProp } from './column-prop-getters';\r\nimport { TableColumnProp } from '../types/table-column.type';\r\n\r\nexport type OptionalValueGetter = (row: any) => any | undefined;\r\nexport function optionalGetterForProp(prop: TableColumnProp): OptionalValueGetter {\r\n  return prop && (row => getterForProp(prop)(row, prop));\r\n}\r\n\r\n/**\r\n * This functions rearrange items by their parents\r\n * Also sets the level value to each of the items\r\n *\r\n * Note: Expecting each item has a property called parentId\r\n * Note: This algorithm will fail if a list has two or more items with same ID\r\n * NOTE: This algorithm will fail if there is a deadlock of relationship\r\n *\r\n * For example,\r\n *\r\n * Input\r\n *\r\n * id -> parent\r\n * 1  -> 0\r\n * 2  -> 0\r\n * 3  -> 1\r\n * 4  -> 1\r\n * 5  -> 2\r\n * 7  -> 8\r\n * 6  -> 3\r\n *\r\n *\r\n * Output\r\n * id -> level\r\n * 1      -> 0\r\n * --3    -> 1\r\n * ----6  -> 2\r\n * --4    -> 1\r\n * 2      -> 0\r\n * --5    -> 1\r\n * 7     -> 8\r\n *\r\n *\r\n * @param rows\r\n *\r\n */\r\nexport function groupRowsByParents(rows: any[], from?: OptionalValueGetter, to?: OptionalValueGetter): any[] {\r\n  if (from && to) {\r\n    const nodeById = {};\r\n    const l = rows.length;\r\n    let node: TreeNode | null = null;\r\n\r\n    nodeById[0] = new TreeNode(); // that's the root node\r\n\r\n    const uniqIDs = rows.reduce((arr, item) => {\r\n      const toValue = to(item);\r\n      if (arr.indexOf(toValue) === -1) {\r\n        arr.push(toValue);\r\n      }\r\n      return arr;\r\n    }, []);\r\n\r\n    for (let i = 0; i < l; i++) {\r\n      // make TreeNode objects for each item\r\n      nodeById[to(rows[i])] = new TreeNode(rows[i]);\r\n    }\r\n\r\n    for (let i = 0; i < l; i++) {\r\n      // link all TreeNode objects\r\n      node = nodeById[to(rows[i])];\r\n      let parent = 0;\r\n      const fromValue = from(node.row);\r\n      if (!!fromValue && uniqIDs.indexOf(fromValue) > -1) {\r\n        parent = fromValue;\r\n      }\r\n      node.parent = nodeById[parent];\r\n      node.row['level'] = node.parent.row['level'] + 1;\r\n      node.parent.children.push(node);\r\n    }\r\n\r\n    let resolvedRows: any[] = [];\r\n    nodeById[0].flatten(function () {\r\n      resolvedRows = [...resolvedRows, this.row];\r\n    }, true);\r\n\r\n    return resolvedRows;\r\n  } else {\r\n    return rows;\r\n  }\r\n}\r\n\r\nclass TreeNode {\r\n  public row: any;\r\n  public parent: any;\r\n  public children: any[];\r\n\r\n  constructor(row: any | null = null) {\r\n    if (!row) {\r\n      row = {\r\n        level: -1,\r\n        treeStatus: 'expanded'\r\n      };\r\n    }\r\n    this.row = row;\r\n    this.parent = null;\r\n    this.children = [];\r\n  }\r\n\r\n  flatten(f: any, recursive: boolean) {\r\n    if (this.row['treeStatus'] === 'expanded') {\r\n      for (let i = 0, l = this.children.length; i < l; i++) {\r\n        const child = this.children[i];\r\n        f.apply(child, Array.prototype.slice.call(arguments, 2));\r\n        if (recursive) child.flatten.apply(child, arguments);\r\n      }\r\n    }\r\n  }\r\n}\r\n","import { Directive, TemplateRef } from '@angular/core';\r\n\r\n@Directive({\r\n  selector: '[ngx-datatable-group-header-template]'\r\n})\r\nexport class DatatableGroupHeaderTemplateDirective {\r\n  constructor(public template: TemplateRef<any>) {}\r\n}\r\n","import { Component, ViewEncapsulation, ViewChild } from '@angular/core';\r\nimport { ColumnMode } from 'projects/swimlane/ngx-datatable/src/public-api';\r\n\r\n@Component({\r\n  selector: 'row-details-demo',\r\n  template: `\r\n    <div>\r\n      <h3>\r\n        Row Detail Demo\r\n        <small>\r\n          <a\r\n            href=\"https://github.com/swimlane/ngx-datatable/blob/master/src/app/basic/row-detail.component.ts\"\r\n            target=\"_blank\"\r\n          >\r\n            Source\r\n          </a>\r\n        </small>\r\n        <small>\r\n          <a href=\"javascript:void(0)\" (click)=\"table.rowDetail.expandAllRows()\">Expand All</a>\r\n          |\r\n          <a href=\"javascript:void(0)\" (click)=\"table.rowDetail.collapseAllRows()\">Collapse All</a>\r\n        </small>\r\n      </h3>\r\n      <ngx-datatable\r\n        #myTable\r\n        class=\"material expandable\"\r\n        [columnMode]=\"ColumnMode.force\"\r\n        [headerHeight]=\"50\"\r\n        [footerHeight]=\"50\"\r\n        [rowHeight]=\"50\"\r\n        [scrollbarV]=\"true\"\r\n        [rows]=\"rows\"\r\n        (page)=\"onPage($event)\"\r\n      >\r\n        <!-- Row Detail Template -->\r\n        <ngx-datatable-row-detail [rowHeight]=\"100\" #myDetailRow (toggle)=\"onDetailToggle($event)\">\r\n          <ng-template let-row=\"row\" let-expanded=\"expanded\" ngx-datatable-row-detail-template>\r\n            <div style=\"padding-left:35px;\">\r\n              <div><strong>Address</strong></div>\r\n              <div>{{ row.address.city }}, {{ row.address.state }}</div>\r\n            </div>\r\n          </ng-template>\r\n        </ngx-datatable-row-detail>\r\n\r\n        <!-- Column Templates -->\r\n        <ngx-datatable-column\r\n          [width]=\"50\"\r\n          [resizeable]=\"false\"\r\n          [sortable]=\"false\"\r\n          [draggable]=\"false\"\r\n          [canAutoResize]=\"false\"\r\n        >\r\n          <ng-template let-row=\"row\" let-expanded=\"expanded\" ngx-datatable-cell-template>\r\n            <a\r\n              href=\"javascript:void(0)\"\r\n              [class.datatable-icon-right]=\"!expanded\"\r\n              [class.datatable-icon-down]=\"expanded\"\r\n              title=\"Expand/Collapse Row\"\r\n              (click)=\"toggleExpandRow(row)\"\r\n            >\r\n            </a>\r\n          </ng-template>\r\n        </ngx-datatable-column>\r\n        <ngx-datatable-column name=\"Index\" [width]=\"80\">\r\n          <ng-template let-rowIndex=\"rowIndex\" let-row=\"row\" ngx-datatable-cell-template>\r\n            <strong>{{ rowIndex }}</strong>\r\n          </ng-template>\r\n        </ngx-datatable-column>\r\n        <ngx-datatable-column name=\"Expanded\" [width]=\"80\">\r\n          <ng-template let-row=\"row\" let-expanded=\"expanded\" ngx-datatable-cell-template>\r\n            <strong>{{ expanded === 1 }}</strong>\r\n          </ng-template>\r\n        </ngx-datatable-column>\r\n        <ngx-datatable-column name=\"Name\" [width]=\"200\">\r\n          <ng-template let-value=\"value\" ngx-datatable-cell-template>\r\n            <strong>{{ value }}</strong>\r\n          </ng-template>\r\n        </ngx-datatable-column>\r\n        <ngx-datatable-column name=\"Gender\" [width]=\"300\">\r\n          <ng-template let-row=\"row\" let-value=\"value\" ngx-datatable-cell-template>\r\n            <i [innerHTML]=\"row['name']\"></i> and <i>{{ value }}</i>\r\n          </ng-template>\r\n        </ngx-datatable-column>\r\n        <ngx-datatable-column name=\"Age\"></ngx-datatable-column>\r\n      </ngx-datatable>\r\n    </div>\r\n  `,\r\n  encapsulation: ViewEncapsulation.None\r\n})\r\nexport class RowDetailsComponent {\r\n  @ViewChild('myTable') table: any;\r\n\r\n  rows: any[] = [];\r\n  expanded: any = {};\r\n  timeout: any;\r\n\r\n  ColumnMode = ColumnMode;\r\n\r\n  constructor() {\r\n    this.fetch(data => {\r\n      this.rows = data;\r\n    });\r\n  }\r\n\r\n  onPage(event) {\r\n    clearTimeout(this.timeout);\r\n    this.timeout = setTimeout(() => {\r\n      console.log('paged!', event);\r\n    }, 100);\r\n  }\r\n\r\n  fetch(cb) {\r\n    const req = new XMLHttpRequest();\r\n    req.open('GET', `assets/data/100k.json`);\r\n\r\n    req.onload = () => {\r\n      cb(JSON.parse(req.response));\r\n    };\r\n\r\n    req.send();\r\n  }\r\n\r\n  toggleExpandRow(row) {\r\n    console.log('Toggled Expand Row!', row);\r\n    this.table.rowDetail.toggleExpandRow(row);\r\n  }\r\n\r\n  onDetailToggle(event) {\r\n    console.log('Detail Toggled', event);\r\n  }\r\n}\r\n","import { Directive, TemplateRef, ContentChild, Input, OnChanges, SimpleChanges } from '@angular/core';\r\nimport { DataTableColumnHeaderDirective } from './column-header.directive';\r\nimport { DataTableColumnCellDirective } from './column-cell.directive';\r\nimport { DataTableColumnCellTreeToggle } from './tree.directive';\r\nimport { ColumnChangesService } from '../../services/column-changes.service';\r\nimport { TableColumnProp } from '../../types/table-column.type';\r\n\r\n@Directive({ selector: 'ngx-datatable-column' })\r\nexport class DataTableColumnDirective implements OnChanges {\r\n  @Input() name: string;\r\n  @Input() prop: TableColumnProp;\r\n  @Input() frozenLeft: any;\r\n  @Input() frozenRight: any;\r\n  @Input() flexGrow: number;\r\n  @Input() resizeable: boolean;\r\n  @Input() comparator: any;\r\n  @Input() pipe: any;\r\n  @Input() sortable: boolean;\r\n  @Input() draggable: boolean;\r\n  @Input() canAutoResize: boolean;\r\n  @Input() minWidth: number;\r\n  @Input() width: number;\r\n  @Input() maxWidth: number;\r\n  @Input() checkboxable: boolean;\r\n  @Input() headerCheckboxable: boolean;\r\n  @Input() headerClass: string | ((data: any) => string | any);\r\n  @Input() cellClass: string | ((data: any) => string | any);\r\n  @Input() isTreeColumn: boolean;\r\n  @Input() treeLevelIndent: number;\r\n  @Input() summaryFunc: (cells: any[]) => any;\r\n  @Input() summaryTemplate: TemplateRef<any>;\r\n\r\n  @Input('cellTemplate')\r\n  _cellTemplateInput: TemplateRef<any>;\r\n\r\n  @ContentChild(DataTableColumnCellDirective, { read: TemplateRef, static: true })\r\n  _cellTemplateQuery: TemplateRef<any>;\r\n\r\n  get cellTemplate(): TemplateRef<any> {\r\n    return this._cellTemplateInput || this._cellTemplateQuery;\r\n  }\r\n\r\n  @Input('headerTemplate')\r\n  _headerTemplateInput: TemplateRef<any>;\r\n\r\n  @ContentChild(DataTableColumnHeaderDirective, { read: TemplateRef, static: true })\r\n  _headerTemplateQuery: TemplateRef<any>;\r\n\r\n  get headerTemplate(): TemplateRef<any> {\r\n    return this._headerTemplateInput || this._headerTemplateQuery;\r\n  }\r\n\r\n  @Input('treeToggleTemplate')\r\n  _treeToggleTemplateInput: TemplateRef<any>;\r\n\r\n  @ContentChild(DataTableColumnCellTreeToggle, { read: TemplateRef, static: true })\r\n  _treeToggleTemplateQuery: TemplateRef<any>;\r\n\r\n  get treeToggleTemplate(): TemplateRef<any> {\r\n    return this._treeToggleTemplateInput || this._treeToggleTemplateQuery;\r\n  }\r\n\r\n  private isFirstChange = true;\r\n\r\n  constructor(private columnChangesService: ColumnChangesService) {}\r\n\r\n  ngOnChanges() {\r\n    if (this.isFirstChange) {\r\n      this.isFirstChange = false;\r\n    } else {\r\n      this.columnChangesService.onInputChange();\r\n    }\r\n  }\r\n}\r\n","import { Component, OnInit } from '@angular/core';\r\nimport { ColumnMode } from 'projects/swimlane/ngx-datatable/src/public-api';\r\n\r\n@Component({\r\n  selector: 'default-sorting-demo',\r\n  template: `\r\n    <div>\r\n      <h3>\r\n        Client-side Sorting\r\n        <small>\r\n          <a\r\n            href=\"https://github.com/swimlane/ngx-datatable/blob/master/src/app/sorting/sorting-default.component.ts\"\r\n            target=\"_blank\"\r\n          >\r\n            Source\r\n          </a>\r\n        </small>\r\n      </h3>\r\n      <ngx-datatable\r\n        class=\"material\"\r\n        [rows]=\"rows\"\r\n        [columnMode]=\"ColumnMode.force\"\r\n        [headerHeight]=\"50\"\r\n        [footerHeight]=\"50\"\r\n        [rowHeight]=\"50\"\r\n        [scrollbarV]=\"true\"\r\n        [sorts]=\"[{ prop: 'name', dir: 'desc' }]\"\r\n      >\r\n        <ngx-datatable-column name=\"Company\">\r\n          <ng-template let-row=\"row\" ngx-datatable-cell-template>\r\n            {{ row.company }}\r\n          </ng-template>\r\n        </ngx-datatable-column>\r\n\r\n        <ngx-datatable-column name=\"Name\">\r\n          <ng-template let-row=\"row\" ngx-datatable-cell-template>\r\n            {{ row.name }}\r\n          </ng-template>\r\n        </ngx-datatable-column>\r\n\r\n        <ngx-datatable-column name=\"Gender\"> </ngx-datatable-column>\r\n      </ngx-datatable>\r\n    </div>\r\n  `\r\n})\r\nexport class DefaultSortingComponent implements OnInit {\r\n  rows = [];\r\n\r\n  ColumnMode = ColumnMode;\r\n\r\n  ngOnInit() {\r\n    this.fetch(data => {\r\n      this.rows = data;\r\n    });\r\n  }\r\n\r\n  fetch(cb) {\r\n    const req = new XMLHttpRequest();\r\n    req.open('GET', `assets/data/company.json`);\r\n\r\n    req.onload = () => {\r\n      const data = JSON.parse(req.response);\r\n      cb(data);\r\n    };\r\n\r\n    req.send();\r\n  }\r\n}\r\n","import { Input, Directive, TemplateRef, ContentChild } from '@angular/core';\r\nimport { DataTableFooterTemplateDirective } from './footer-template.directive';\r\n\r\n@Directive({ selector: 'ngx-datatable-footer' })\r\nexport class DatatableFooterDirective {\r\n  @Input() footerHeight: number;\r\n  @Input() totalMessage: string;\r\n  @Input() selectedMessage: string | boolean;\r\n  @Input() pagerLeftArrowIcon: string;\r\n  @Input() pagerRightArrowIcon: string;\r\n  @Input() pagerPreviousIcon: string;\r\n  @Input() pagerNextIcon: string;\r\n\r\n  @Input('template')\r\n  _templateInput: TemplateRef<any>;\r\n\r\n  @ContentChild(DataTableFooterTemplateDirective, { read: TemplateRef })\r\n  _templateQuery: TemplateRef<any>;\r\n\r\n  get template(): TemplateRef<any> {\r\n    return this._templateInput || this._templateQuery;\r\n  }\r\n}\r\n","import { Component } from '@angular/core';\r\nimport { ColumnMode } from 'projects/swimlane/ngx-datatable/src/public-api';\r\n\r\n@Component({\r\n  selector: 'inline-edit-demo',\r\n  template: `\r\n    <div>\r\n      <h3>\r\n        Inline Editing\r\n        <small>\r\n          <a\r\n            href=\"https://github.com/swimlane/ngx-datatable/blob/master/src/app/basic/inline.component.ts\"\r\n            target=\"_blank\"\r\n          >\r\n            Source\r\n          </a>\r\n        </small>\r\n      </h3>\r\n      <ngx-datatable\r\n        #mydatatable\r\n        class=\"material\"\r\n        [headerHeight]=\"50\"\r\n        [limit]=\"5\"\r\n        [columnMode]=\"ColumnMode.force\"\r\n        [footerHeight]=\"50\"\r\n        rowHeight=\"auto\"\r\n        [rows]=\"rows\"\r\n      >\r\n        <ngx-datatable-column name=\"Name\">\r\n          <ng-template ngx-datatable-cell-template let-rowIndex=\"rowIndex\" let-value=\"value\" let-row=\"row\">\r\n            <span\r\n              title=\"Double click to edit\"\r\n              (dblclick)=\"editing[rowIndex + '-name'] = true\"\r\n              *ngIf=\"!editing[rowIndex + '-name']\"\r\n            >\r\n              {{ value }}\r\n            </span>\r\n            <input\r\n              autofocus\r\n              (blur)=\"updateValue($event, 'name', rowIndex)\"\r\n              *ngIf=\"editing[rowIndex + '-name']\"\r\n              type=\"text\"\r\n              [value]=\"value\"\r\n            />\r\n          </ng-template>\r\n        </ngx-datatable-column>\r\n        <ngx-datatable-column name=\"Gender\">\r\n          <ng-template ngx-datatable-cell-template let-rowIndex=\"rowIndex\" let-row=\"row\" let-value=\"value\">\r\n            <span\r\n              title=\"Double click to edit\"\r\n              (dblclick)=\"editing[rowIndex + '-gender'] = true\"\r\n              *ngIf=\"!editing[rowIndex + '-gender']\"\r\n            >\r\n              {{ value }}\r\n            </span>\r\n            <select\r\n              *ngIf=\"editing[rowIndex + '-gender']\"\r\n              (blur)=\"editing[rowIndex + '-gender'] = false\"\r\n              (change)=\"updateValue($event, 'gender', rowIndex)\"\r\n              [value]=\"value\"\r\n            >\r\n              <option value=\"male\">Male</option>\r\n              <option value=\"female\">Female</option>\r\n            </select>\r\n          </ng-template>\r\n        </ngx-datatable-column>\r\n        <ngx-datatable-column name=\"Age\">\r\n          <ng-template ngx-datatable-cell-template let-value=\"value\">\r\n            {{ value }}\r\n          </ng-template>\r\n        </ngx-datatable-column>\r\n      </ngx-datatable>\r\n    </div>\r\n  `\r\n})\r\nexport class InlineEditComponent {\r\n  editing = {};\r\n  rows = [];\r\n\r\n  ColumnMode = ColumnMode;\r\n\r\n  constructor() {\r\n    this.fetch(data => {\r\n      this.rows = data;\r\n    });\r\n  }\r\n\r\n  fetch(cb) {\r\n    const req = new XMLHttpRequest();\r\n    req.open('GET', `assets/data/company.json`);\r\n\r\n    req.onload = () => {\r\n      cb(JSON.parse(req.response));\r\n    };\r\n\r\n    req.send();\r\n  }\r\n\r\n  updateValue(event, cell, rowIndex) {\r\n    console.log('inline editing rowIndex', rowIndex);\r\n    this.editing[rowIndex + '-' + cell] = false;\r\n    this.rows[rowIndex][cell] = event.target.value;\r\n    this.rows = [...this.rows];\r\n    console.log('UPDATED!', this.rows[rowIndex][cell]);\r\n  }\r\n}\r\n","export function selectRows(selected: any[], row: any, comparefn: any) {\r\n  const selectedIndex = comparefn(row, selected);\r\n\r\n  if (selectedIndex > -1) {\r\n    selected.splice(selectedIndex, 1);\r\n  } else {\r\n    selected.push(row);\r\n  }\r\n\r\n  return selected;\r\n}\r\n\r\nexport function selectRowsBetween(\r\n  selected: any[],\r\n  rows: any[],\r\n  index: number,\r\n  prevIndex: number,\r\n  comparefn: any\r\n): any[] {\r\n  const reverse = index < prevIndex;\r\n\r\n  for (let i = 0; i < rows.length; i++) {\r\n    const row = rows[i];\r\n    const greater = i >= prevIndex && i <= index;\r\n    const lesser = i <= prevIndex && i >= index;\r\n\r\n    let range = { start: 0, end: 0 };\r\n    if (reverse) {\r\n      range = {\r\n        start: index,\r\n        end: prevIndex\r\n      };\r\n    } else {\r\n      range = {\r\n        start: prevIndex,\r\n        end: index + 1\r\n      };\r\n    }\r\n\r\n    if ((reverse && lesser) || (!reverse && greater)) {\r\n      // if in the positive range to be added to `selected`, and\r\n      // not already in the selected array, add it\r\n      if (i >= range.start && i <= range.end) {\r\n        selected.push(row);\r\n      }\r\n    }\r\n  }\r\n\r\n  return selected;\r\n}\r\n","/**\r\n * Creates a unique object id.\r\n * http://stackoverflow.com/questions/6248666/how-to-generate-short-uid-like-ax4j9z-in-js\r\n */\r\nexport function id() {\r\n  return ('0000' + ((Math.random() * Math.pow(36, 4)) << 0).toString(36)).slice(-4);\r\n}\r\n","import { columnsByPin, columnsTotalWidth } from './column';\r\n\r\n/**\r\n * Calculates the Total Flex Grow\r\n */\r\nexport function getTotalFlexGrow(columns: any[]) {\r\n  let totalFlexGrow = 0;\r\n\r\n  for (const c of columns) {\r\n    totalFlexGrow += c.flexGrow || 0;\r\n  }\r\n\r\n  return totalFlexGrow;\r\n}\r\n\r\n/**\r\n * Adjusts the column widths.\r\n * Inspired by: https://github.com/facebook/fixed-data-table/blob/master/src/FixedDataTableWidthHelper.js\r\n */\r\nexport function adjustColumnWidths(allColumns: any, expectedWidth: any) {\r\n  const columnsWidth = columnsTotalWidth(allColumns);\r\n  const totalFlexGrow = getTotalFlexGrow(allColumns);\r\n  const colsByGroup = columnsByPin(allColumns);\r\n\r\n  if (columnsWidth !== expectedWidth) {\r\n    scaleColumns(colsByGroup, expectedWidth, totalFlexGrow);\r\n  }\r\n}\r\n\r\n/**\r\n * Resizes columns based on the flexGrow property, while respecting manually set widths\r\n */\r\nfunction scaleColumns(colsByGroup: any, maxWidth: any, totalFlexGrow: any) {\r\n  // calculate total width and flexgrow points for coulumns that can be resized\r\n  for (const attr in colsByGroup) {\r\n    for (const column of colsByGroup[attr]) {\r\n      if (!column.canAutoResize) {\r\n        maxWidth -= column.width;\r\n        totalFlexGrow -= column.flexGrow ? column.flexGrow : 0;\r\n      } else {\r\n        column.width = 0;\r\n      }\r\n    }\r\n  }\r\n\r\n  const hasMinWidth = {};\r\n  let remainingWidth = maxWidth;\r\n\r\n  // resize columns until no width is left to be distributed\r\n  do {\r\n    const widthPerFlexPoint = remainingWidth / totalFlexGrow;\r\n    remainingWidth = 0;\r\n\r\n    for (const attr in colsByGroup) {\r\n      for (const column of colsByGroup[attr]) {\r\n        // if the column can be resize and it hasn't reached its minimum width yet\r\n        if (column.canAutoResize && !hasMinWidth[column.prop]) {\r\n          const newWidth = column.width + column.flexGrow * widthPerFlexPoint;\r\n          if (column.minWidth !== undefined && newWidth < column.minWidth) {\r\n            remainingWidth += newWidth - column.minWidth;\r\n            column.width = column.minWidth;\r\n            hasMinWidth[column.prop] = true;\r\n          } else {\r\n            column.width = newWidth;\r\n          }\r\n        }\r\n      }\r\n    }\r\n  } while (remainingWidth !== 0);\r\n}\r\n\r\n/**\r\n * Forces the width of the columns to\r\n * distribute equally but overflowing when necessary\r\n *\r\n * Rules:\r\n *\r\n *  - If combined withs are less than the total width of the grid,\r\n *    proportion the widths given the min / max / normal widths to fill the width.\r\n *\r\n *  - If the combined widths, exceed the total width of the grid,\r\n *    use the standard widths.\r\n *\r\n *  - If a column is resized, it should always use that width\r\n *\r\n *  - The proportional widths should never fall below min size if specified.\r\n *\r\n *  - If the grid starts off small but then becomes greater than the size ( + / - )\r\n *    the width should use the original width; not the newly proportioned widths.\r\n */\r\nexport function forceFillColumnWidths(\r\n  allColumns: any[],\r\n  expectedWidth: number,\r\n  startIdx: number,\r\n  allowBleed: boolean,\r\n  defaultColWidth: number = 300,\r\n  level: number = 0\r\n) {\r\n  const columnsToResize = allColumns.slice(startIdx + 1, allColumns.length).filter(c => {\r\n    return c.canAutoResize !== false;\r\n  });\r\n\r\n  for (const column of columnsToResize) {\r\n    if (!column.$$oldWidth) {\r\n      column.$$oldWidth = column.width;\r\n    }\r\n  }\r\n\r\n  let additionWidthPerColumn = 0;\r\n  let exceedsWindow = false;\r\n  let contentWidth = getContentWidth(allColumns, defaultColWidth);\r\n  let remainingWidth = expectedWidth - contentWidth;\r\n  const columnsProcessed: any[] = [];\r\n  const remainingWidthLimit = 1; // when to stop\r\n\r\n  // This loop takes care of the\r\n  do {\r\n    additionWidthPerColumn = remainingWidth / columnsToResize.length;\r\n    exceedsWindow = contentWidth >= expectedWidth;\r\n\r\n    for (const column of columnsToResize) {\r\n      if (exceedsWindow && allowBleed) {\r\n        column.width = column.$$oldWidth || column.width || defaultColWidth;\r\n      } else {\r\n        const newSize = (column.width || defaultColWidth) + additionWidthPerColumn;\r\n\r\n        if (column.minWidth && newSize < column.minWidth) {\r\n          column.width = column.minWidth;\r\n          columnsProcessed.push(column);\r\n        } else if (column.maxWidth && newSize > column.maxWidth) {\r\n          column.width = column.maxWidth;\r\n          columnsProcessed.push(column);\r\n        } else {\r\n          column.width = newSize;\r\n        }\r\n      }\r\n\r\n      column.width = Math.max(0, column.width);\r\n    }\r\n\r\n    contentWidth = getContentWidth(allColumns);\r\n    remainingWidth = expectedWidth - contentWidth;\r\n    removeProcessedColumns(columnsToResize, columnsProcessed);\r\n  } while (remainingWidth > remainingWidthLimit && columnsToResize.length !== 0);\r\n\r\n  if (Math.abs(remainingWidth) > 1 && level < 5) {\r\n    forceFillColumnWidths(allColumns, expectedWidth, startIdx, allowBleed, defaultColWidth, level + 1);\r\n  }\r\n\r\n}\r\n\r\n/**\r\n * Remove the processed columns from the current active columns.\r\n */\r\nfunction removeProcessedColumns(columnsToResize: any[], columnsProcessed: any[]) {\r\n  for (const column of columnsProcessed) {\r\n    const index = columnsToResize.indexOf(column);\r\n    columnsToResize.splice(index, 1);\r\n  }\r\n}\r\n\r\n/**\r\n * Gets the width of the columns\r\n */\r\nfunction getContentWidth(allColumns: any, defaultColWidth: number = 300): number {\r\n  let contentWidth = 0;\r\n\r\n  for (const column of allColumns) {\r\n    contentWidth += column.width || defaultColWidth;\r\n  }\r\n\r\n  return contentWidth;\r\n}\r\n","import { TableColumnProp } from '../types/table-column.type';\r\n\r\n// maybe rename this file to prop-getters.ts\r\n\r\nexport type ValueGetter = (obj: any, prop: TableColumnProp) => any;\r\n\r\n/**\r\n * Always returns the empty string ''\r\n */\r\nexport function emptyStringGetter(): string {\r\n  return '';\r\n}\r\n\r\n/**\r\n * Returns the appropriate getter function for this kind of prop.\r\n * If prop == null, returns the emptyStringGetter.\r\n */\r\nexport function getterForProp(prop: TableColumnProp): ValueGetter {\r\n  if (prop == null) {\r\n    return emptyStringGetter;\r\n  }\r\n\r\n  if (typeof prop === 'number') {\r\n    return numericIndexGetter;\r\n  } else {\r\n    // deep or simple\r\n    if (prop.indexOf('.') !== -1) {\r\n      return deepValueGetter;\r\n    } else {\r\n      return shallowValueGetter;\r\n    }\r\n  }\r\n}\r\n\r\n/**\r\n * Returns the value at this numeric index.\r\n * @param row array of values\r\n * @param index numeric index\r\n * @returns any or '' if invalid index\r\n */\r\nexport function numericIndexGetter(row: any[], index: number): any {\r\n  if (row == null) {\r\n    return '';\r\n  }\r\n  // mimic behavior of deepValueGetter\r\n  if (!row || index == null) {\r\n    return row;\r\n  }\r\n\r\n  const value = row[index];\r\n  if (value == null) {\r\n    return '';\r\n  }\r\n  return value;\r\n}\r\n\r\n/**\r\n * Returns the value of a field.\r\n * (more efficient than deepValueGetter)\r\n * @param obj object containing the field\r\n * @param fieldName field name string\r\n */\r\nexport function shallowValueGetter(obj: any, fieldName: string): any {\r\n  if (obj == null) {\r\n    return '';\r\n  }\r\n  if (!obj || !fieldName) {\r\n    return obj;\r\n  }\r\n\r\n  const value = obj[fieldName];\r\n  if (value == null) {\r\n    return '';\r\n  }\r\n  return value;\r\n}\r\n\r\n/**\r\n * Returns a deep object given a string. zoo['animal.type']\r\n */\r\nexport function deepValueGetter(obj: any, path: string): any {\r\n  if (obj == null) {\r\n    return '';\r\n  }\r\n  if (!obj || !path) {\r\n    return obj;\r\n  }\r\n\r\n  // check if path matches a root-level field\r\n  // { \"a.b.c\": 123 }\r\n  let current = obj[path];\r\n  if (current !== undefined) {\r\n    return current;\r\n  }\r\n\r\n  current = obj;\r\n  const split = path.split('.');\r\n\r\n  if (split.length) {\r\n    for (let i = 0; i < split.length; i++) {\r\n      current = current[split[i]];\r\n\r\n      // if found undefined, return empty string\r\n      if (current === undefined || current === null) {\r\n        return '';\r\n      }\r\n    }\r\n  }\r\n\r\n  return current;\r\n}\r\n","export enum Keys {\r\n  up = 38,\r\n  down = 40,\r\n  return = 13,\r\n  escape = 27,\r\n  left = 37,\r\n  right = 39\r\n}\r\n","import { Component } from '@angular/core';\r\nimport { ColumnMode } from 'projects/swimlane/ngx-datatable/src/public-api';\r\n\r\n@Component({\r\n  selector: 'column-standard-demo',\r\n  template: `\r\n    <div>\r\n      <h3>\r\n        Fixed Column Widths\r\n        <small>\r\n          <a\r\n            href=\"https://github.com/swimlane/ngx-datatable/blob/master/src/app/columns/column-standard.component.ts\"\r\n            target=\"_blank\"\r\n          >\r\n            Source\r\n          </a>\r\n        </small>\r\n      </h3>\r\n      <ngx-datatable\r\n        class=\"material\"\r\n        [rows]=\"rows\"\r\n        [columnMode]=\"ColumnMode.standard\"\r\n        [headerHeight]=\"50\"\r\n        [footerHeight]=\"50\"\r\n        rowHeight=\"auto\"\r\n      >\r\n        <ngx-datatable-column name=\"Name\" [width]=\"300\">\r\n          <ng-template let-value=\"value\" ngx-datatable-cell-template>\r\n            {{ value }}\r\n          </ng-template>\r\n        </ngx-datatable-column>\r\n        <ngx-datatable-column name=\"Gender\" [width]=\"300\">\r\n          <ng-template let-row=\"row\" let-value=\"value\" ngx-datatable-cell-template>\r\n            {{ value }}\r\n          </ng-template>\r\n        </ngx-datatable-column>\r\n        <ngx-datatable-column name=\"Age\" [width]=\"300\">\r\n          <ng-template let-value=\"value\" ngx-datatable-cell-template>\r\n            {{ value }}\r\n          </ng-template>\r\n        </ngx-datatable-column>\r\n      </ngx-datatable>\r\n    </div>\r\n  `\r\n})\r\nexport class ColumnStandardComponent {\r\n  rows = [];\r\n\r\n  ColumnMode = ColumnMode;\r\n\r\n  constructor() {\r\n    this.fetch(data => {\r\n      this.rows = data.splice(0, 5);\r\n    });\r\n  }\r\n\r\n  fetch(cb) {\r\n    const req = new XMLHttpRequest();\r\n    req.open('GET', `assets/data/company.json`);\r\n\r\n    req.onload = () => {\r\n      cb(JSON.parse(req.response));\r\n    };\r\n\r\n    req.send();\r\n  }\r\n}\r\n","import { Component, OnInit, TemplateRef, ViewChild } from '@angular/core';\r\nimport { ColumnMode } from 'projects/swimlane/ngx-datatable/src/public-api';\r\n\r\n@Component({\r\n  selector: 'summary-row-custom-template-demo',\r\n  template: `\r\n    <div>\r\n      <h3>\r\n        Summary Row with Custom Template\r\n        <small>\r\n          <a\r\n            href=\"https://github.com/swimlane/ngx-datatable/blob/master/src/app/summary/summary-row-custom-template.component.ts\"\r\n          >\r\n            Source\r\n          </a>\r\n        </small>\r\n      </h3>\r\n      <ngx-datatable\r\n        class=\"material\"\r\n        [summaryRow]=\"true\"\r\n        [columns]=\"columns\"\r\n        [columnMode]=\"ColumnMode.force\"\r\n        [headerHeight]=\"50\"\r\n        [rowHeight]=\"'auto'\"\r\n        [summaryHeight]=\"55\"\r\n        [rows]=\"rows\"\r\n      >\r\n      </ngx-datatable>\r\n      <ng-template #nameSummaryCell let-row=\"row\" let-value=\"value\">\r\n        <div class=\"name-container\">\r\n          <div class=\"chip\" *ngFor=\"let name of getNames()\">\r\n            <span class=\"chip-content\">{{ name }}</span>\r\n          </div>\r\n        </div>\r\n      </ng-template>\r\n    </div>\r\n  `,\r\n  styleUrls: ['./summary-row-custom-template.component.scss']\r\n})\r\nexport class SummaryRowCustomTemplateComponent implements OnInit {\r\n  rows = [];\r\n\r\n  @ViewChild('nameSummaryCell')\r\n  nameSummaryCell: TemplateRef<any>;\r\n\r\n  columns = [];\r\n\r\n  ColumnMode = ColumnMode;\r\n\r\n  constructor() {\r\n    this.fetch(data => {\r\n      this.rows = data.splice(0, 5);\r\n    });\r\n  }\r\n\r\n  ngOnInit() {\r\n    this.columns = [\r\n      {\r\n        prop: 'name',\r\n        summaryFunc: () => null,\r\n        summaryTemplate: this.nameSummaryCell\r\n      },\r\n      { name: 'Gender', summaryFunc: cells => this.summaryForGender(cells) },\r\n      { prop: 'age', summaryFunc: cells => this.avgAge(cells) }\r\n    ];\r\n  }\r\n\r\n  fetch(cb) {\r\n    const req = new XMLHttpRequest();\r\n    req.open('GET', `assets/data/company.json`);\r\n\r\n    req.onload = () => {\r\n      cb(JSON.parse(req.response));\r\n    };\r\n\r\n    req.send();\r\n  }\r\n\r\n  getNames(): string[] {\r\n    return this.rows.map(row => row.name).map(fullName => fullName.split(' ')[1]);\r\n  }\r\n\r\n  private summaryForGender(cells: string[]) {\r\n    const males = cells.filter(cell => cell === 'male').length;\r\n    const females = cells.filter(cell => cell === 'female').length;\r\n\r\n    return `males: ${males}, females: ${females}`;\r\n  }\r\n\r\n  private avgAge(cells: number[]): number {\r\n    const filteredCells = cells.filter(cell => !!cell);\r\n    return filteredCells.reduce((sum, cell) => (sum += cell), 0) / filteredCells.length;\r\n  }\r\n}\r\n","import { Component } from '@angular/core';\r\nimport { MockServerResultsService } from '../paging/mock-server-results-service';\r\nimport { PagedData } from '../paging/model/paged-data';\r\nimport { CorporateEmployee } from '../paging/model/corporate-employee';\r\nimport { Page } from '../paging/model/page';\r\nimport { ColumnMode } from 'projects/swimlane/ngx-datatable/src/public-api';\r\n\r\n@Component({\r\n  selector: 'summary-row-server-paging-demo',\r\n  providers: [MockServerResultsService],\r\n  template: `\r\n    <div>\r\n      <h3>\r\n        Server-side paging\r\n        <small>\r\n          <a\r\n            href=\"https://github.com/swimlane/ngx-datatable/blob/master/src/app/summary/summary-row-server-paging.component.ts\"\r\n          >\r\n            Source\r\n          </a>\r\n        </small>\r\n      </h3>\r\n      <ngx-datatable\r\n        class=\"material\"\r\n        [rows]=\"rows\"\r\n        [columns]=\"columns\"\r\n        [columnMode]=\"ColumnMode.force\"\r\n        [headerHeight]=\"50\"\r\n        [summaryRow]=\"true\"\r\n        [summaryHeight]=\"55\"\r\n        [footerHeight]=\"50\"\r\n        rowHeight=\"auto\"\r\n        [externalPaging]=\"true\"\r\n        [count]=\"page.totalElements\"\r\n        [offset]=\"page.pageNumber\"\r\n        [limit]=\"page.size\"\r\n        (page)=\"setPage($event)\"\r\n      >\r\n      </ngx-datatable>\r\n    </div>\r\n  `\r\n})\r\nexport class SummaryRowServerPagingComponent {\r\n  page = new Page();\r\n  rows = new Array<CorporateEmployee>();\r\n\r\n  columns = [\r\n    // NOTE: cells for current page only !\r\n    { name: 'Name', summaryFunc: cells => `${cells.length} total` },\r\n    { name: 'Gender', summaryFunc: () => this.getGenderSummary() },\r\n    { name: 'Company', summaryFunc: () => null }\r\n  ];\r\n\r\n  ColumnMode = ColumnMode;\r\n\r\n  constructor(private serverResultsService: MockServerResultsService) {\r\n    this.page.pageNumber = 0;\r\n    this.page.size = 20;\r\n  }\r\n\r\n  ngOnInit() {\r\n    this.setPage({ offset: 0 });\r\n  }\r\n\r\n  /**\r\n   * Populate the table with new data based on the page number\r\n   * @param page The page to select\r\n   */\r\n  setPage(pageInfo) {\r\n    this.page.pageNumber = pageInfo.offset;\r\n    this.serverResultsService.getResults(this.page).subscribe(pagedData => {\r\n      this.page = pagedData.page;\r\n      this.rows = pagedData.data;\r\n    });\r\n  }\r\n\r\n  getGenderSummary(): string {\r\n    // NOTE: there should be logic to get required informations from server\r\n    return '10 males, 10 females';\r\n  }\r\n}\r\n","import { Directive, TemplateRef } from '@angular/core';\r\n\r\n@Directive({\r\n  selector: '[ngx-datatable-row-detail-template]'\r\n})\r\nexport class DatatableRowDetailTemplateDirective {\r\n  constructor(public template: TemplateRef<any>) {}\r\n}\r\n","import { Directive, TemplateRef } from '@angular/core';\r\n\r\n@Directive({ selector: '[ngx-datatable-footer-template]' })\r\nexport class DataTableFooterTemplateDirective {\r\n  constructor(public template: TemplateRef<any>) {}\r\n}\r\n","export enum ContextmenuType {\r\n  header = 'header',\r\n  body = 'body'\r\n}\r\n","import { Component } from '@angular/core';\r\nimport { Observable } from 'rxjs';\r\nimport { ColumnMode } from 'projects/swimlane/ngx-datatable/src/public-api';\r\n\r\n@Component({\r\n  selector: 'rx-demo',\r\n  template: `\r\n    <div>\r\n      <h3>\r\n        RXjs Data\r\n        <small>\r\n          <a href=\"https://github.com/swimlane/ngx-datatable/blob/master/src/app/basic/rx.component.ts\" target=\"_blank\">\r\n            Source\r\n          </a>\r\n        </small>\r\n      </h3>\r\n      <ngx-datatable\r\n        class=\"material striped\"\r\n        [rows]=\"rows | async\"\r\n        [columns]=\"columns\"\r\n        [columnMode]=\"ColumnMode.force\"\r\n        [headerHeight]=\"50\"\r\n        [footerHeight]=\"50\"\r\n        [rowHeight]=\"50\"\r\n      >\r\n      </ngx-datatable>\r\n    </div>\r\n  `\r\n})\r\nexport class RxDemoComponent {\r\n  rows: Observable<any[]>;\r\n\r\n  columns = [{ name: 'Name' }, { name: 'Gender' }, { name: 'Company' }];\r\n\r\n  ColumnMode = ColumnMode;\r\n\r\n  constructor() {\r\n    this.rows = Observable.create(subscriber => {\r\n      this.fetch(data => {\r\n        subscriber.next(data.splice(0, 15));\r\n        subscriber.next(data.splice(15, 30));\r\n        subscriber.complete();\r\n      });\r\n    });\r\n\r\n    // Rx.DOM.ajax({ url: '/products', responseType: 'json'}).subscribe()\r\n    // this.rows = Observable.from(rows);\r\n  }\r\n\r\n  fetch(cb) {\r\n    const req = new XMLHttpRequest();\r\n    req.open('GET', `assets/data/company.json`);\r\n\r\n    req.onload = () => {\r\n      cb(JSON.parse(req.response));\r\n    };\r\n\r\n    req.send();\r\n  }\r\n}\r\n","import { NgModule, ModuleWithProviders } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { ScrollbarHelper } from './services/scrollbar-helper.service';\r\nimport { DimensionsHelper } from './services/dimensions-helper.service';\r\nimport { ColumnChangesService } from './services/column-changes.service';\r\nimport { DataTableFooterTemplateDirective } from './components/footer/footer-template.directive';\r\nimport { VisibilityDirective } from './directives/visibility.directive';\r\nimport { DraggableDirective } from './directives/draggable.directive';\r\nimport { ResizeableDirective } from './directives/resizeable.directive';\r\nimport { OrderableDirective } from './directives/orderable.directive';\r\nimport { LongPressDirective } from './directives/long-press.directive';\r\nimport { ScrollerComponent } from './components/body/scroller.component';\r\nimport { DatatableComponent } from './components/datatable.component';\r\nimport { DataTableColumnDirective } from './components/columns/column.directive';\r\nimport { DataTableHeaderComponent } from './components/header/header.component';\r\nimport { DataTableHeaderCellComponent } from './components/header/header-cell.component';\r\nimport { DataTableBodyComponent } from './components/body/body.component';\r\nimport { DataTableFooterComponent } from './components/footer/footer.component';\r\nimport { DataTablePagerComponent } from './components/footer/pager.component';\r\nimport { ProgressBarComponent } from './components/body/progress-bar.component';\r\nimport { DataTableBodyRowComponent } from './components/body/body-row.component';\r\nimport { DataTableRowWrapperComponent } from './components/body/body-row-wrapper.component';\r\nimport { DatatableRowDetailDirective } from './components/row-detail/row-detail.directive';\r\nimport { DatatableGroupHeaderDirective } from './components/body/body-group-header.directive';\r\nimport { DatatableRowDetailTemplateDirective } from './components/row-detail/row-detail-template.directive';\r\nimport { DataTableBodyCellComponent } from './components/body/body-cell.component';\r\nimport { DataTableSelectionComponent } from './components/body/selection.component';\r\nimport { DataTableColumnHeaderDirective } from './components/columns/column-header.directive';\r\nimport { DataTableColumnCellDirective } from './components/columns/column-cell.directive';\r\nimport { DataTableColumnCellTreeToggle } from './components/columns/tree.directive';\r\nimport { DatatableFooterDirective } from './components/footer/footer.directive';\r\nimport { DatatableGroupHeaderTemplateDirective } from './components/body/body-group-header-template.directive';\r\nimport { DataTableSummaryRowComponent } from './components/body/summary/summary-row.component';\r\n\r\n@NgModule({\r\n  imports: [CommonModule],\r\n  providers: [ScrollbarHelper, DimensionsHelper, ColumnChangesService],\r\n  declarations: [\r\n    DataTableFooterTemplateDirective,\r\n    VisibilityDirective,\r\n    DraggableDirective,\r\n    ResizeableDirective,\r\n    OrderableDirective,\r\n    LongPressDirective,\r\n    ScrollerComponent,\r\n    DatatableComponent,\r\n    DataTableColumnDirective,\r\n    DataTableHeaderComponent,\r\n    DataTableHeaderCellComponent,\r\n    DataTableBodyComponent,\r\n    DataTableFooterComponent,\r\n    DataTablePagerComponent,\r\n    ProgressBarComponent,\r\n    DataTableBodyRowComponent,\r\n    DataTableRowWrapperComponent,\r\n    DatatableRowDetailDirective,\r\n    DatatableGroupHeaderDirective,\r\n    DatatableRowDetailTemplateDirective,\r\n    DataTableBodyCellComponent,\r\n    DataTableSelectionComponent,\r\n    DataTableColumnHeaderDirective,\r\n    DataTableColumnCellDirective,\r\n    DataTableColumnCellTreeToggle,\r\n    DatatableFooterDirective,\r\n    DatatableGroupHeaderTemplateDirective,\r\n    DataTableSummaryRowComponent\r\n  ],\r\n  exports: [\r\n    DatatableComponent,\r\n    DatatableRowDetailDirective,\r\n    DatatableGroupHeaderDirective,\r\n    DatatableRowDetailTemplateDirective,\r\n    DataTableColumnDirective,\r\n    DataTableColumnHeaderDirective,\r\n    DataTableColumnCellDirective,\r\n    DataTableColumnCellTreeToggle,\r\n    DataTableFooterTemplateDirective,\r\n    DatatableFooterDirective,\r\n    DataTablePagerComponent,\r\n    DatatableGroupHeaderTemplateDirective\r\n  ]\r\n})\r\nexport class NgxDatatableModule {\r\n  /**\r\n   * Configure global configuration via INgxDatatableConfig\r\n   * @param configuration\r\n   */\r\n  static forRoot(configuration: INgxDatatableConfig): ModuleWithProviders<NgxDatatableModule> {\r\n    return {\r\n      ngModule: NgxDatatableModule,\r\n      providers: [{ provide: 'configuration', useValue: configuration }]\r\n    };\r\n  }\r\n}\r\n\r\n/**\r\n * Interface definition for INgxDatatableConfig global configuration\r\n */\r\nexport interface INgxDatatableConfig {\r\n  messages: {\r\n    emptyMessage: string; // Message to show when array is presented, but contains no values\r\n    totalMessage: string; // Footer total message\r\n    selectedMessage: string; // Footer selected message\r\n  };\r\n}\r\n","import { Component, ViewChild, ChangeDetectorRef } from '@angular/core';\r\nimport { ColumnMode } from 'projects/swimlane/ngx-datatable/src/public-api';\r\n\r\n@Component({\r\n  selector: 'live-data-demo',\r\n  template: `\r\n    <div>\r\n      <h3>\r\n        Live Data Demo\r\n        <small>\r\n          <a\r\n            href=\"https://github.com/swimlane/ngx-datatable/blob/master/src/app/basic/live.component.ts\"\r\n            target=\"_blank\"\r\n          >\r\n            Source\r\n          </a>\r\n        </small>\r\n        <small>\r\n          <a href=\"javascript:void(0)\" (click)=\"start()\">Start</a> |\r\n          <a href=\"javascript:void(0)\" (click)=\"stop()\">Stop</a> |\r\n          <a href=\"javascript:void(0)\" (click)=\"add()\">Add</a> |\r\n          <a href=\"javascript:void(0)\" (click)=\"remove()\">Remove</a>\r\n        </small>\r\n      </h3>\r\n      <ngx-datatable\r\n        #mydatatable\r\n        class=\"material\"\r\n        [headerHeight]=\"50\"\r\n        [limit]=\"5\"\r\n        [columnMode]=\"ColumnMode.force\"\r\n        [footerHeight]=\"50\"\r\n        rowHeight=\"auto\"\r\n        [trackByProp]=\"'updated'\"\r\n        [rows]=\"rows\"\r\n      >\r\n        <ngx-datatable-column name=\"Name\"></ngx-datatable-column>\r\n        <ngx-datatable-column name=\"Gender\"></ngx-datatable-column>\r\n        <ngx-datatable-column name=\"Company\"></ngx-datatable-column>\r\n      </ngx-datatable>\r\n    </div>\r\n  `\r\n})\r\nexport class LiveDataComponent {\r\n  @ViewChild('mydatatable') mydatatable: any;\r\n\r\n  count = 50;\r\n  rows: any[] = [];\r\n  active = true;\r\n  temp: any[] = [];\r\n  cols: any = ['name', 'gender', 'company'];\r\n\r\n  ColumnMode = ColumnMode;\r\n\r\n  constructor(private cd: ChangeDetectorRef) {\r\n    this.fetch(data => {\r\n      this.rows = data.map(d => {\r\n        d.updated = Date.now().toString();\r\n        return d;\r\n      });\r\n\r\n      this.temp = [...this.rows];\r\n    });\r\n\r\n    this.start();\r\n  }\r\n\r\n  randomNum(start: number, end: number): number {\r\n    return Math.floor(Math.random() * end) + start;\r\n  }\r\n\r\n  start(): void {\r\n    if (!this.active) {\r\n      return;\r\n    }\r\n\r\n    setTimeout(this.updateRandom.bind(this), 50);\r\n  }\r\n\r\n  stop(): void {\r\n    this.active = false;\r\n  }\r\n\r\n  add() {\r\n    this.rows.splice(0, 0, this.temp[this.count++]);\r\n  }\r\n\r\n  remove() {\r\n    this.rows.splice(0, this.rows.length);\r\n  }\r\n\r\n  updateRandom() {\r\n    const rowNum = this.randomNum(0, 5);\r\n    const cellNum = this.randomNum(0, 3);\r\n    const newRow = this.randomNum(0, 100);\r\n    const prop = this.cols[cellNum];\r\n    const rows = this.rows;\r\n\r\n    if (rows.length) {\r\n      const row = rows[rowNum];\r\n      row[prop] = rows[newRow][prop];\r\n      row.updated = Date.now().toString();\r\n    }\r\n\r\n    this.rows = [...this.rows];\r\n\r\n    // this.cd.markForCheck();\r\n    // this.mydatatable.update();\r\n    this.start();\r\n  }\r\n\r\n  fetch(cb: any): void {\r\n    const req = new XMLHttpRequest();\r\n    req.open('GET', `assets/data/company.json`);\r\n\r\n    req.onload = () => {\r\n      cb(JSON.parse(req.response));\r\n    };\r\n\r\n    req.send();\r\n  }\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { Routes, RouterModule } from '@angular/router';\r\n\r\nconst routes: Routes = [];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forRoot(routes, { relativeLinkResolution: 'legacy' })],\r\n  exports: [RouterModule]\r\n})\r\nexport class AppRoutingModule {}\r\n","export enum ColumnMode {\r\n  standard = 'standard',\r\n  flex = 'flex',\r\n  force = 'force'\r\n}\r\n","import { Injectable } from '@angular/core';\r\n\r\nimport { Observable, Subject } from 'rxjs';\r\n\r\n/**\r\n * service to make DatatableComponent aware of changes to\r\n * input bindings of DataTableColumnDirective\r\n */\r\n@Injectable()\r\nexport class ColumnChangesService {\r\n  private columnInputChanges = new Subject<undefined>();\r\n\r\n  get columnInputChanges$(): Observable<undefined> {\r\n    return this.columnInputChanges.asObservable();\r\n  }\r\n\r\n  onInputChange(): void {\r\n    this.columnInputChanges.next();\r\n  }\r\n}\r\n","/**\r\n * This object contains the cache of the various row heights that are present inside\r\n * the data table.   Its based on Fenwick tree data structure that helps with\r\n * querying sums that have time complexity of log n.\r\n *\r\n * Fenwick Tree Credits: http://petr-mitrichev.blogspot.com/2013/05/fenwick-tree-range-updates.html\r\n * https://github.com/mikolalysenko/fenwick-tree\r\n *\r\n */\r\nexport class RowHeightCache {\r\n  /**\r\n   * Tree Array stores the cumulative information of the row heights to perform efficient\r\n   * range queries and updates.  Currently the tree is initialized to the base row\r\n   * height instead of the detail row height.\r\n   */\r\n  private treeArray: number[] = [];\r\n\r\n  /**\r\n   * Clear the Tree array.\r\n   */\r\n  clearCache(): void {\r\n    this.treeArray = [];\r\n  }\r\n\r\n  /**\r\n   * Initialize the Fenwick tree with row Heights.\r\n   *\r\n   * @param rows The array of rows which contain the expanded status.\r\n   * @param rowHeight The row height.\r\n   * @param detailRowHeight The detail row height.\r\n   */\r\n  initCache(details: any): void {\r\n    const { rows, rowHeight, detailRowHeight, externalVirtual, rowCount, rowIndexes, rowExpansions } = details;\r\n    const isFn = typeof rowHeight === 'function';\r\n    const isDetailFn = typeof detailRowHeight === 'function';\r\n\r\n    if (!isFn && isNaN(rowHeight)) {\r\n      throw new Error(`Row Height cache initialization failed. Please ensure that 'rowHeight' is a\r\n        valid number or function value: (${rowHeight}) when 'scrollbarV' is enabled.`);\r\n    }\r\n\r\n    // Add this additional guard in case detailRowHeight is set to 'auto' as it wont work.\r\n    if (!isDetailFn && isNaN(detailRowHeight)) {\r\n      throw new Error(`Row Height cache initialization failed. Please ensure that 'detailRowHeight' is a\r\n        valid number or function value: (${detailRowHeight}) when 'scrollbarV' is enabled.`);\r\n    }\r\n\r\n    const n = externalVirtual ? rowCount : rows.length;\r\n    this.treeArray = new Array(n);\r\n\r\n    for (let i = 0; i < n; ++i) {\r\n      this.treeArray[i] = 0;\r\n    }\r\n\r\n    for (let i = 0; i < n; ++i) {\r\n      const row = rows[i];\r\n      let currentRowHeight = rowHeight;\r\n      if (isFn) {\r\n        currentRowHeight = rowHeight(row);\r\n      }\r\n\r\n      // Add the detail row height to the already expanded rows.\r\n      // This is useful for the table that goes through a filter or sort.\r\n      const expanded = rowExpansions.has(row);\r\n      if (row && expanded) {\r\n        if (isDetailFn) {\r\n          const index = rowIndexes.get(row);\r\n          currentRowHeight += detailRowHeight(row, index);\r\n        } else {\r\n          currentRowHeight += detailRowHeight;\r\n        }\r\n      }\r\n\r\n      this.update(i, currentRowHeight);\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Given the ScrollY position i.e. sum, provide the rowIndex\r\n   * that is present in the current view port.  Below handles edge cases.\r\n   */\r\n  getRowIndex(scrollY: number): number {\r\n    if (scrollY === 0) return 0;\r\n    return this.calcRowIndex(scrollY);\r\n  }\r\n\r\n  /**\r\n   * When a row is expanded or rowHeight is changed, update the height.  This can\r\n   * be utilized in future when Angular Data table supports dynamic row heights.\r\n   */\r\n  update(atRowIndex: number, byRowHeight: number): void {\r\n    if (!this.treeArray.length) {\r\n      throw new Error(`Update at index ${atRowIndex} with value ${byRowHeight} failed:\r\n        Row Height cache not initialized.`);\r\n    }\r\n\r\n    const n = this.treeArray.length;\r\n    atRowIndex |= 0;\r\n\r\n    while (atRowIndex < n) {\r\n      this.treeArray[atRowIndex] += byRowHeight;\r\n      atRowIndex |= atRowIndex + 1;\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Range Sum query from 1 to the rowIndex\r\n   */\r\n  query(atIndex: number): number {\r\n    if (!this.treeArray.length) {\r\n      throw new Error(`query at index ${atIndex} failed: Fenwick tree array not initialized.`);\r\n    }\r\n\r\n    let sum = 0;\r\n    atIndex |= 0;\r\n\r\n    while (atIndex >= 0) {\r\n      sum += this.treeArray[atIndex];\r\n      atIndex = (atIndex & (atIndex + 1)) - 1;\r\n    }\r\n\r\n    return sum;\r\n  }\r\n\r\n  /**\r\n   * Find the total height between 2 row indexes\r\n   */\r\n  queryBetween(atIndexA: number, atIndexB: number): number {\r\n    return this.query(atIndexB) - this.query(atIndexA - 1);\r\n  }\r\n\r\n  /**\r\n   * Given the ScrollY position i.e. sum, provide the rowIndex\r\n   * that is present in the current view port.\r\n   */\r\n  private calcRowIndex(sum: number): number {\r\n    if (!this.treeArray.length) return 0;\r\n\r\n    let pos = -1;\r\n    const dataLength = this.treeArray.length;\r\n\r\n    // Get the highest bit for the block size.\r\n    const highestBit = Math.pow(2, dataLength.toString(2).length - 1);\r\n\r\n    for (let blockSize = highestBit; blockSize !== 0; blockSize >>= 1) {\r\n      const nextPos = pos + blockSize;\r\n      if (nextPos < dataLength && sum >= this.treeArray[nextPos]) {\r\n        sum -= this.treeArray[nextPos];\r\n        pos = nextPos;\r\n      }\r\n    }\r\n\r\n    return pos + 1;\r\n  }\r\n}\r\n","import { Injectable } from '@angular/core';\r\nimport { Observable, of } from 'rxjs';\r\nimport { delay, map } from 'rxjs/operators';\r\nimport { PagedData } from './model/paged-data';\r\nimport { CorporateEmployee } from './model/corporate-employee';\r\nimport { Page } from './model/page';\r\n\r\nimport companyData from 'src/assets/data/company.json';\r\n\r\n/**\r\n * A server used to mock a paged data result from a server\r\n */\r\n@Injectable()\r\nexport class MockServerResultsService {\r\n  /**\r\n   * A method that mocks a paged server response\r\n   * @param page The selected page\r\n   * @returns {any} An observable containing the employee data\r\n   */\r\n  public getResults(page: Page): Observable<PagedData<CorporateEmployee>> {\r\n    return of(companyData)\r\n      .pipe(map(d => this.getPagedData(page)))\r\n      .pipe(delay(1000 * Math.random()));\r\n  }\r\n\r\n  /**\r\n   * Package companyData into a PagedData object based on the selected Page\r\n   * @param page The page data used to get the selected data from companyData\r\n   * @returns {PagedData<CorporateEmployee>} An array of the selected data and page\r\n   */\r\n  private getPagedData(page: Page): PagedData<CorporateEmployee> {\r\n    const pagedData = new PagedData<CorporateEmployee>();\r\n    page.totalElements = companyData.length;\r\n    page.totalPages = page.totalElements / page.size;\r\n    const start = page.pageNumber * page.size;\r\n    const end = Math.min(start + page.size, page.totalElements);\r\n    for (let i = start; i < end; i++) {\r\n      const jsonObj = companyData[i];\r\n      const employee = new CorporateEmployee(jsonObj.name, jsonObj.gender, jsonObj.company, jsonObj.age);\r\n      pagedData.data.push(employee);\r\n    }\r\n    pagedData.page = page;\r\n    return pagedData;\r\n  }\r\n}\r\n","import { getVendorPrefixedName } from './prefixes';\r\nimport { camelCase } from './camel-case';\r\n\r\n// browser detection and prefixing tools\r\nconst transform = typeof window !== 'undefined' ? getVendorPrefixedName('transform') : undefined;\r\nconst backfaceVisibility = typeof window !== 'undefined' ? getVendorPrefixedName('backfaceVisibility') : undefined;\r\nconst hasCSSTransforms = typeof window !== 'undefined' ? !!getVendorPrefixedName('transform') : undefined;\r\nconst hasCSS3DTransforms = typeof window !== 'undefined' ? !!getVendorPrefixedName('perspective') : undefined;\r\nconst ua = typeof window !== 'undefined' ? window.navigator.userAgent : 'Chrome';\r\nconst isSafari = /Safari\\//.test(ua) && !/Chrome\\//.test(ua);\r\n\r\nexport function translateXY(styles: any, x: number, y: number) {\r\n  if (typeof transform !== 'undefined' && hasCSSTransforms) {\r\n    if (!isSafari && hasCSS3DTransforms) {\r\n      styles[transform] = `translate3d(${x}px, ${y}px, 0)`;\r\n      styles[backfaceVisibility] = 'hidden';\r\n    } else {\r\n      styles[camelCase(transform)] = `translate(${x}px, ${y}px)`;\r\n    }\r\n  } else {\r\n    styles.top = `${y}px`;\r\n    styles.left = `${x}px`;\r\n  }\r\n}\r\n","import {\r\n  Component,\r\n  Input,\r\n  ElementRef,\r\n  Output,\r\n  EventEmitter,\r\n  Renderer2,\r\n  NgZone,\r\n  OnInit,\r\n  OnDestroy,\r\n  HostBinding,\r\n  ChangeDetectionStrategy\r\n} from '@angular/core';\r\n\r\nimport { MouseEvent } from '../../events';\r\n\r\n@Component({\r\n  selector: 'datatable-scroller',\r\n  template: ` <ng-content></ng-content> `,\r\n  host: {\r\n    class: 'datatable-scroll'\r\n  },\r\n  changeDetection: ChangeDetectionStrategy.OnPush\r\n})\r\nexport class ScrollerComponent implements OnInit, OnDestroy {\r\n  @Input() scrollbarV: boolean = false;\r\n  @Input() scrollbarH: boolean = false;\r\n\r\n  @HostBinding('style.height.px')\r\n  @Input()\r\n  scrollHeight: number;\r\n\r\n  @HostBinding('style.width.px')\r\n  @Input()\r\n  scrollWidth: number;\r\n\r\n  @Output() scroll: EventEmitter<any> = new EventEmitter();\r\n\r\n  scrollYPos: number = 0;\r\n  scrollXPos: number = 0;\r\n  prevScrollYPos: number = 0;\r\n  prevScrollXPos: number = 0;\r\n  element: any;\r\n  parentElement: any;\r\n  onScrollListener: any;\r\n\r\n  private _scrollEventListener: any = null;\r\n\r\n  constructor(private ngZone: NgZone, element: ElementRef, private renderer: Renderer2) {\r\n    this.element = element.nativeElement;\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    // manual bind so we don't always listen\r\n    if (this.scrollbarV || this.scrollbarH) {\r\n      const renderer = this.renderer;\r\n      this.parentElement = renderer.parentNode(renderer.parentNode(this.element));\r\n      this._scrollEventListener = this.onScrolled.bind(this);\r\n      this.parentElement.addEventListener('scroll', this._scrollEventListener);\r\n    }\r\n  }\r\n\r\n  ngOnDestroy(): void {\r\n    if (this._scrollEventListener) {\r\n      this.parentElement.removeEventListener('scroll', this._scrollEventListener);\r\n      this._scrollEventListener = null;\r\n    }\r\n  }\r\n\r\n  setOffset(offsetY: number): void {\r\n    if (this.parentElement) {\r\n      this.parentElement.scrollTop = offsetY;\r\n    }\r\n  }\r\n\r\n  onScrolled(event: MouseEvent): void {\r\n    const dom: Element = <Element>event.currentTarget;\r\n    requestAnimationFrame(() => {\r\n      this.scrollYPos = dom.scrollTop;\r\n      this.scrollXPos = dom.scrollLeft;\r\n      this.updateOffset();\r\n    });\r\n  }\r\n\r\n  updateOffset(): void {\r\n    let direction: string;\r\n    if (this.scrollYPos < this.prevScrollYPos) {\r\n      direction = 'down';\r\n    } else if (this.scrollYPos > this.prevScrollYPos) {\r\n      direction = 'up';\r\n    }\r\n\r\n    this.scroll.emit({\r\n      direction,\r\n      scrollYPos: this.scrollYPos,\r\n      scrollXPos: this.scrollXPos\r\n    });\r\n\r\n    this.prevScrollYPos = this.scrollYPos;\r\n    this.prevScrollXPos = this.scrollXPos;\r\n  }\r\n}\r\n","if (typeof document !== 'undefined' && !document.elementsFromPoint) {\r\n  document.elementsFromPoint = elementsFromPoint;\r\n}\r\n\r\n/*tslint:disable*/\r\n/**\r\n * Polyfill for `elementsFromPoint`\r\n *\r\n * https://developer.mozilla.org/en-US/docs/Web/API/Document/elementsFromPoint\r\n * https://gist.github.com/iddan/54d5d9e58311b0495a91bf06de661380\r\n * https://gist.github.com/oslego/7265412\r\n */\r\nexport function elementsFromPoint(x: number, y: number) {\r\n  const elements = [];\r\n  const previousPointerEvents = [];\r\n  let current: any; // TODO: window.getComputedStyle should be used with inferred type (Element)\r\n  let i;\r\n  let d;\r\n\r\n  //if (document === undefined) return elements;\r\n\r\n  // get all elements via elementFromPoint, and remove them from hit-testing in order\r\n  while ((current = document.elementFromPoint(x, y)) && elements.indexOf(current) === -1 && current != null) {\r\n    // push the element and its current style\r\n    elements.push(current);\r\n    previousPointerEvents.push({\r\n      value: current.style.getPropertyValue('pointer-events'),\r\n      priority: current.style.getPropertyPriority('pointer-events')\r\n    });\r\n\r\n    // add \"pointer-events: none\", to get to the underlying element\r\n    current.style.setProperty('pointer-events', 'none', 'important');\r\n  }\r\n\r\n  // restore the previous pointer-events values\r\n  for (i = previousPointerEvents.length; (d = previousPointerEvents[--i]); ) {\r\n    elements[i].style.setProperty('pointer-events', d.value ? d.value : '', d.priority);\r\n  }\r\n\r\n  // return our results\r\n  return elements;\r\n}\r\n/*tslint:enable*/\r\n","/**\r\n * Throttle a function\r\n */\r\nexport function throttle(func: any, wait: number, options?: any) {\r\n  options = options || {};\r\n  let context: any;\r\n  let args: any;\r\n  let result: any;\r\n  let timeout: any = null;\r\n  let previous = 0;\r\n\r\n  function later() {\r\n    previous = options.leading === false ? 0 : +new Date();\r\n    timeout = null;\r\n    result = func.apply(context, args);\r\n  }\r\n\r\n  return function (this: any) {\r\n    const now = +new Date();\r\n\r\n    if (!previous && options.leading === false) {\r\n      previous = now;\r\n    }\r\n\r\n    const remaining = wait - (now - previous);\r\n    context = this;\r\n    args = arguments;\r\n\r\n    if (remaining <= 0) {\r\n      clearTimeout(timeout);\r\n      timeout = null;\r\n      previous = now;\r\n      result = func.apply(context, args);\r\n    } else if (!timeout && options.trailing !== false) {\r\n      timeout = setTimeout(later, remaining);\r\n    }\r\n\r\n    return result;\r\n  };\r\n}\r\n\r\n/**\r\n * Throttle decorator\r\n *\r\n *  class MyClass {\r\n *    throttleable(10)\r\n *    myFn() { ... }\r\n *  }\r\n */\r\nexport function throttleable(duration: number, options?: any) {\r\n  return function innerDecorator(target: any, key: PropertyKey, descriptor: PropertyDescriptor) {\r\n    return {\r\n      configurable: true,\r\n      enumerable: descriptor.enumerable,\r\n      get: function getter() {\r\n        Object.defineProperty(this, key, {\r\n          configurable: true,\r\n          enumerable: descriptor.enumerable,\r\n          value: throttle(descriptor.value, duration, options)\r\n        });\r\n\r\n        return this[key];\r\n      }\r\n    };\r\n  };\r\n}\r\n","import {\r\n  Directive,\r\n  ElementRef,\r\n  HostListener,\r\n  Input,\r\n  Output,\r\n  EventEmitter,\r\n  OnDestroy,\r\n  AfterViewInit,\r\n  Renderer2\r\n} from '@angular/core';\r\nimport { Subscription, fromEvent } from 'rxjs';\r\nimport { takeUntil } from 'rxjs/operators';\r\n\r\n@Directive({\r\n  selector: '[resizeable]',\r\n  host: {\r\n    '[class.resizeable]': 'resizeEnabled'\r\n  }\r\n})\r\nexport class ResizeableDirective implements OnDestroy, AfterViewInit {\r\n  @Input() resizeEnabled: boolean = true;\r\n  @Input() minWidth: number;\r\n  @Input() maxWidth: number;\r\n\r\n  @Output() resize: EventEmitter<any> = new EventEmitter();\r\n\r\n  element: HTMLElement;\r\n  subscription: Subscription;\r\n  resizing: boolean = false;\r\n  private resizeHandle: HTMLElement;\r\n\r\n  constructor(element: ElementRef, private renderer: Renderer2) {\r\n    this.element = element.nativeElement;\r\n  }\r\n\r\n  ngAfterViewInit(): void {\r\n    const renderer2 = this.renderer;\r\n    this.resizeHandle = renderer2.createElement('span');\r\n    if (this.resizeEnabled) {\r\n      renderer2.addClass(this.resizeHandle, 'resize-handle');\r\n    } else {\r\n      renderer2.addClass(this.resizeHandle, 'resize-handle--not-resizable');\r\n    }\r\n    renderer2.appendChild(this.element, this.resizeHandle);\r\n  }\r\n\r\n  ngOnDestroy(): void {\r\n    this._destroySubscription();\r\n    if (this.renderer.destroyNode) {\r\n      this.renderer.destroyNode(this.resizeHandle);\r\n    } else if (this.resizeHandle) {\r\n      this.renderer.removeChild(this.renderer.parentNode(this.resizeHandle), this.resizeHandle);\r\n    }\r\n  }\r\n\r\n  onMouseup(): void {\r\n    this.resizing = false;\r\n\r\n    if (this.subscription && !this.subscription.closed) {\r\n      this._destroySubscription();\r\n      this.resize.emit(this.element.clientWidth);\r\n    }\r\n  }\r\n\r\n  @HostListener('mousedown', ['$event'])\r\n  onMousedown(event: MouseEvent): void {\r\n    const isHandle = (<HTMLElement>event.target).classList.contains('resize-handle');\r\n    const initialWidth = this.element.clientWidth;\r\n    const mouseDownScreenX = event.screenX;\r\n\r\n    if (isHandle) {\r\n      event.stopPropagation();\r\n      this.resizing = true;\r\n\r\n      const mouseup = fromEvent(document, 'mouseup');\r\n      this.subscription = mouseup.subscribe((ev: MouseEvent) => this.onMouseup());\r\n\r\n      const mouseMoveSub = fromEvent(document, 'mousemove')\r\n        .pipe(takeUntil(mouseup))\r\n        .subscribe((e: MouseEvent) => this.move(e, initialWidth, mouseDownScreenX));\r\n\r\n      this.subscription.add(mouseMoveSub);\r\n    }\r\n  }\r\n\r\n  move(event: MouseEvent, initialWidth: number, mouseDownScreenX: number): void {\r\n    const movementX = event.screenX - mouseDownScreenX;\r\n    const newWidth = initialWidth + movementX;\r\n\r\n    const overMinWidth = !this.minWidth || newWidth >= this.minWidth;\r\n    const underMaxWidth = !this.maxWidth || newWidth <= this.maxWidth;\r\n\r\n    if (overMinWidth && underMaxWidth) {\r\n      this.element.style.width = `${newWidth}px`;\r\n    }\r\n  }\r\n\r\n  private _destroySubscription() {\r\n    if (this.subscription) {\r\n      this.subscription.unsubscribe();\r\n      this.subscription = undefined;\r\n    }\r\n  }\r\n}\r\n","import {\r\n  Component,\r\n  Input,\r\n  Output,\r\n  EventEmitter,\r\n  HostListener,\r\n  DoCheck,\r\n  ChangeDetectionStrategy,\r\n  KeyValueDiffer,\r\n  ChangeDetectorRef,\r\n  KeyValueDiffers\r\n} from '@angular/core';\r\n\r\n@Component({\r\n  selector: 'datatable-row-wrapper',\r\n  changeDetection: ChangeDetectionStrategy.OnPush,\r\n  template: `\r\n    <div *ngIf=\"groupHeader && groupHeader.template\" class=\"datatable-group-header\" [ngStyle]=\"getGroupHeaderStyle()\">\r\n      <ng-template\r\n        *ngIf=\"groupHeader && groupHeader.template\"\r\n        [ngTemplateOutlet]=\"groupHeader.template\"\r\n        [ngTemplateOutletContext]=\"groupContext\"\r\n      >\r\n      </ng-template>\r\n    </div>\r\n    <ng-content *ngIf=\"(groupHeader && groupHeader.template && expanded) || !groupHeader || !groupHeader.template\">\r\n    </ng-content>\r\n    <div\r\n      *ngIf=\"rowDetail && rowDetail.template && expanded\"\r\n      [style.height.px]=\"detailRowHeight\"\r\n      class=\"datatable-row-detail\"\r\n    >\r\n      <ng-template\r\n        *ngIf=\"rowDetail && rowDetail.template\"\r\n        [ngTemplateOutlet]=\"rowDetail.template\"\r\n        [ngTemplateOutletContext]=\"rowContext\"\r\n      >\r\n      </ng-template>\r\n    </div>\r\n  `,\r\n  host: {\r\n    class: 'datatable-row-wrapper'\r\n  }\r\n})\r\nexport class DataTableRowWrapperComponent implements DoCheck {\r\n  @Input() innerWidth: number;\r\n  @Input() rowDetail: any;\r\n  @Input() groupHeader: any;\r\n  @Input() offsetX: number;\r\n  @Input() detailRowHeight: any;\r\n  @Input() row: any;\r\n  @Input() groupedRows: any;\r\n  @Output() rowContextmenu = new EventEmitter<{ event: MouseEvent; row: any }>(false);\r\n\r\n  @Input() set rowIndex(val: number) {\r\n    this._rowIndex = val;\r\n    this.rowContext.rowIndex = val;\r\n    this.groupContext.rowIndex = val;\r\n    this.cd.markForCheck();\r\n  }\r\n\r\n  get rowIndex(): number {\r\n    return this._rowIndex;\r\n  }\r\n\r\n  @Input() set expanded(val: boolean) {\r\n    this._expanded = val;\r\n    this.groupContext.expanded = val;\r\n    this.rowContext.expanded = val;\r\n    this.cd.markForCheck();\r\n  }\r\n\r\n  get expanded(): boolean {\r\n    return this._expanded;\r\n  }\r\n\r\n  groupContext: any;\r\n  rowContext: any;\r\n\r\n  private rowDiffer: KeyValueDiffer<{}, {}>;\r\n  private _expanded: boolean = false;\r\n  private _rowIndex: number;\r\n\r\n  constructor(private cd: ChangeDetectorRef, private differs: KeyValueDiffers) {\r\n    this.groupContext = {\r\n      group: this.row,\r\n      expanded: this.expanded,\r\n      rowIndex: this.rowIndex\r\n    };\r\n\r\n    this.rowContext = {\r\n      row: this.row,\r\n      expanded: this.expanded,\r\n      rowIndex: this.rowIndex\r\n    };\r\n\r\n    this.rowDiffer = differs.find({}).create();\r\n  }\r\n\r\n  ngDoCheck(): void {\r\n    if (this.rowDiffer.diff(this.row)) {\r\n      this.rowContext.row = this.row;\r\n      this.groupContext.group = this.row;\r\n      this.cd.markForCheck();\r\n    }\r\n  }\r\n\r\n  @HostListener('contextmenu', ['$event'])\r\n  onContextmenu($event: MouseEvent): void {\r\n    this.rowContextmenu.emit({ event: $event, row: this.row });\r\n  }\r\n\r\n  getGroupHeaderStyle(): any {\r\n    const styles = {};\r\n\r\n    styles['transform'] = 'translate3d(' + this.offsetX + 'px, 0px, 0px)';\r\n    styles['backface-visibility'] = 'hidden';\r\n    styles['width'] = this.innerWidth;\r\n\r\n    return styles;\r\n  }\r\n}\r\n","import { enableProdMode } from '@angular/core';\r\nimport { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\r\n\r\nimport { AppModule } from './app/app.module';\r\nimport { environment } from './environments/environment';\r\n\r\nif (environment.production) {\r\n  enableProdMode();\r\n}\r\n\r\nplatformBrowserDynamic()\r\n  .bootstrapModule(AppModule)\r\n  .catch(err => console.error(err));\r\n","function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncaught exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nmodule.exports = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = \"zn8P\";"]}